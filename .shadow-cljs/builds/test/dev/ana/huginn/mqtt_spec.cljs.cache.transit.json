["^ ","~:output",["^ ","~:js","goog.provide('huginn.mqtt_spec');\ngoog.require('cljs.core');\ngoog.require('cljs.spec.alpha');\ngoog.require('cljs.test');\ngoog.require('huginn.mqtt');\ngoog.require('huginn.config');\ngoog.require('huginn.jwt');\ngoog.require('promesa.core');\ngoog.require('cljs.core.async');\ngoog.require('taoensso.timbre');\ngoog.require('orchestra_cljs.spec.test');\nvar opts18971_19041 = null;\ncljs.core.reduce.cljs$core$IFn$_invoke$arity$3(((function (opts18971_19041){\nreturn (function (ret__15628__auto__,p__18972){\nvar vec__18973 = p__18972;\nvar ___15629__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__18973,(0),null);\nvar f__15630__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__18973,(1),null);\nvar sym__15631__auto__ = (f__15630__auto__.cljs$core$IFn$_invoke$arity$0 ? f__15630__auto__.cljs$core$IFn$_invoke$arity$0() : f__15630__auto__.call(null));\nvar G__18976 = ret__15628__auto__;\nif(cljs.core.truth_(sym__15631__auto__)){\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(G__18976,sym__15631__auto__);\n} else {\nreturn G__18976;\n}\n});})(opts18971_19041))\n,cljs.core.PersistentVector.EMPTY,orchestra_cljs.spec.test.distinct_by(cljs.core.first,cljs.core.filter.cljs$core$IFn$_invoke$arity$2(((function (opts18971_19041){\nreturn (function (p1__15627__15632__auto__){\nvar G__18978 = cljs.core.first(p1__15627__15632__auto__);\nvar fexpr__18977 = orchestra_cljs.spec.test.instrumentable_syms.cljs$core$IFn$_invoke$arity$1(opts18971_19041);\nreturn (fexpr__18977.cljs$core$IFn$_invoke$arity$1 ? fexpr__18977.cljs$core$IFn$_invoke$arity$1(G__18978) : fexpr__18977.call(null,G__18978));\n});})(opts18971_19041))\n,cljs.core.zipmap(new cljs.core.PersistentVector(null, 21, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(\"huginn.mqtt\",\"tele-send\",\"huginn.mqtt/tele-send\",268749892,null),new cljs.core.Symbol(\"huginn.mqtt\",\"publish-async\",\"huginn.mqtt/publish-async\",-1643069183,null),new cljs.core.Symbol(\"huginn.mqtt\",\"build-client\",\"huginn.mqtt/build-client\",-620852627,null),new cljs.core.Symbol(\"huginn.mqtt\",\"client-id\",\"huginn.mqtt/client-id\",1699900680,null),new cljs.core.Symbol(\"huginn.mqtt\",\"prep-temps\",\"huginn.mqtt/prep-temps\",-1223395116,null),new cljs.core.Symbol(\"huginn.mqtt\",\"publisher\",\"huginn.mqtt/publisher\",1717609742,null),new cljs.core.Symbol(\"huginn.mqtt\",\"init-client\",\"huginn.mqtt/init-client\",-283765885,null),new cljs.core.Symbol(\"huginn.mqtt\",\"payload-root\",\"huginn.mqtt/payload-root\",-1931779544,null),new cljs.core.Symbol(\"huginn.mqtt\",\"config-chan\",\"huginn.mqtt/config-chan\",-1665797133,null),new cljs.core.Symbol(\"huginn.mqtt\",\"mqtt-topic\",\"huginn.mqtt/mqtt-topic\",-2087820524,null),new cljs.core.Symbol(\"huginn.mqtt\",\"tele-chan\",\"huginn.mqtt/tele-chan\",1912072830,null),new cljs.core.Symbol(\"huginn.mqtt\",\"client-handlers\",\"huginn.mqtt/client-handlers\",1114981143,null),new cljs.core.Symbol(\"huginn.mqtt\",\"kill-it\",\"huginn.mqtt/kill-it\",-6333577,null),new cljs.core.Symbol(\"huginn.mqtt\",\"state-send\",\"huginn.mqtt/state-send\",661664058,null),new cljs.core.Symbol(\"huginn.mqtt\",\"publish-one\",\"huginn.mqtt/publish-one\",1981166109,null),new cljs.core.Symbol(\"huginn.mqtt\",\"system-function\",\"huginn.mqtt/system-function\",219927996,null),new cljs.core.Symbol(\"huginn.mqtt\",\"stop\",\"huginn.mqtt/stop\",-2121246628,null),new cljs.core.Symbol(\"huginn.mqtt\",\"sender\",\"huginn.mqtt/sender\",-581128399,null),new cljs.core.Symbol(\"huginn.mqtt\",\"client-refresher\",\"huginn.mqtt/client-refresher\",-1016997122,null),new cljs.core.Symbol(\"huginn.mqtt\",\"add-handlers\",\"huginn.mqtt/add-handlers\",413228883,null),new cljs.core.Symbol(\"huginn.mqtt\",\"clean-up\",\"huginn.mqtt/clean-up\",660615933,null)], null),new cljs.core.PersistentVector(null, 21, 5, cljs.core.PersistentVector.EMPTY_NODE, [((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.tele_send,new cljs.core.Var(function(){return huginn.mqtt.tele_send;},new cljs.core.Symbol(\"huginn.mqtt\",\"tele-send\",\"huginn.mqtt/tele-send\",268749892,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"tele-send\",\"tele-send\",826303809,null),\"huginn/mqtt.cljs\",15,1,286,286,cljs.core.List.EMPTY,null,(cljs.core.truth_(huginn.mqtt.tele_send)?huginn.mqtt.tele_send.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.tele_send = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"tele-send\",\"huginn.mqtt/tele-send\",268749892,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.publish_async,new cljs.core.Var(function(){return huginn.mqtt.publish_async;},new cljs.core.Symbol(\"huginn.mqtt\",\"publish-async\",\"huginn.mqtt/publish-async\",-1643069183,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"declared\",\"declared\",92336021),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"publish-async\",\"publish-async\",-43227134,null),\"huginn/mqtt.cljs\",23,1,117,true,117,cljs.core.List.EMPTY,null,(cljs.core.truth_(huginn.mqtt.publish_async)?huginn.mqtt.publish_async.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.publish_async = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"publish-async\",\"huginn.mqtt/publish-async\",-1643069183,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.build_client,new cljs.core.Var(function(){return huginn.mqtt.build_client;},new cljs.core.Symbol(\"huginn.mqtt\",\"build-client\",\"huginn.mqtt/build-client\",-620852627,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"build-client\",\"build-client\",-63753374,null),\"huginn/mqtt.cljs\",19,1,105,105,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null)),null,(cljs.core.truth_(huginn.mqtt.build_client)?huginn.mqtt.build_client.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.build_client = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"build-client\",\"huginn.mqtt/build-client\",-620852627,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.client_id,new cljs.core.Var(function(){return huginn.mqtt.client_id;},new cljs.core.Symbol(\"huginn.mqtt\",\"client-id\",\"huginn.mqtt/client-id\",1699900680,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"client-id\",\"client-id\",1175909387,null),\"huginn/mqtt.cljs\",16,1,51,51,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"projectId\",\"projectId\",89518431,null),new cljs.core.Symbol(null,\"registryId\",\"registryId\",-127162479,null),new cljs.core.Symbol(null,\"cloudRegion\",\"cloudRegion\",782774313,null),new cljs.core.Symbol(null,\"deviceId\",\"deviceId\",-744448561,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null)], null)),\"Builds a client id used to identify the device this message is\\n  comming from\",(cljs.core.truth_(huginn.mqtt.client_id)?huginn.mqtt.client_id.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.client_id = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"client-id\",\"huginn.mqtt/client-id\",1699900680,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.prep_temps,new cljs.core.Var(function(){return huginn.mqtt.prep_temps;},new cljs.core.Symbol(\"huginn.mqtt\",\"prep-temps\",\"huginn.mqtt/prep-temps\",-1223395116,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"prep-temps\",\"prep-temps\",1370022315,null),\"huginn/mqtt.cljs\",17,1,158,158,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null),new cljs.core.Symbol(null,\"data\",\"data\",1407862150,null)], null)),\"pulls the data out of the systeminformation library and wrapping them up\\n  to be sent into mqtt\",(cljs.core.truth_(huginn.mqtt.prep_temps)?huginn.mqtt.prep_temps.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.prep_temps = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"prep-temps\",\"huginn.mqtt/prep-temps\",-1223395116,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.publisher,new cljs.core.Var(function(){return huginn.mqtt.publisher;},new cljs.core.Symbol(\"huginn.mqtt\",\"publisher\",\"huginn.mqtt/publisher\",1717609742,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"publisher\",\"publisher\",1487166987,null),\"huginn/mqtt.cljs\",16,1,194,194,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"client-atom\",\"client-atom\",-92552583,null),new cljs.core.Symbol(null,\"send-chan\",\"send-chan\",-973246167,null)], null)),\"main loop that pushes packets added to the send-chan to google iot core\",(cljs.core.truth_(huginn.mqtt.publisher)?huginn.mqtt.publisher.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.publisher = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"publisher\",\"huginn.mqtt/publisher\",1717609742,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.init_client,new cljs.core.Var(function(){return huginn.mqtt.init_client;},new cljs.core.Symbol(\"huginn.mqtt\",\"init-client\",\"huginn.mqtt/init-client\",-283765885,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"init-client\",\"init-client\",-1916041074,null),\"huginn/mqtt.cljs\",18,1,125,125,cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null),new cljs.core.Symbol(null,\"send\",\"send\",988380413,null),new cljs.core.Symbol(null,\"recv\",\"recv\",-2095807159,null)], null)),null,(cljs.core.truth_(huginn.mqtt.init_client)?huginn.mqtt.init_client.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.init_client = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"init-client\",\"huginn.mqtt/init-client\",-283765885,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.payload_root,new cljs.core.Var(function(){return huginn.mqtt.payload_root;},new cljs.core.Symbol(\"huginn.mqtt\",\"payload-root\",\"huginn.mqtt/payload-root\",-1931779544,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"payload-root\",\"payload-root\",1936194351,null),\"huginn/mqtt.cljs\",19,1,138,138,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"registryId\",\"registryId\",-127162479,null),new cljs.core.Symbol(null,\"userId\",\"userId\",-2078841634,null),new cljs.core.Symbol(null,\"deviceId\",\"deviceId\",-744448561,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null)], null)),\"builds the prefix of the actual values being sent\\n  (str (payload-root config) sensor-name /  sensor-value)\",(cljs.core.truth_(huginn.mqtt.payload_root)?huginn.mqtt.payload_root.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.payload_root = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"payload-root\",\"huginn.mqtt/payload-root\",-1931779544,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.config_chan,new cljs.core.Var(function(){return huginn.mqtt.config_chan;},new cljs.core.Symbol(\"huginn.mqtt\",\"config-chan\",\"huginn.mqtt/config-chan\",-1665797133,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"config-chan\",\"config-chan\",-1108473616,null),\"huginn/mqtt.cljs\",18,1,63,63,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"deviceId\",\"deviceId\",-744448561,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null)], null)),\"google give each device two channeles, a state channel (the config channel)\\n  and a telemetry channel (the one that we push all our data over). The name of\\n  these channels are determined by google iot core.\",(cljs.core.truth_(huginn.mqtt.config_chan)?huginn.mqtt.config_chan.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.config_chan = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"config-chan\",\"huginn.mqtt/config-chan\",-1665797133,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.mqtt_topic,new cljs.core.Var(function(){return huginn.mqtt.mqtt_topic;},new cljs.core.Symbol(\"huginn.mqtt\",\"mqtt-topic\",\"huginn.mqtt/mqtt-topic\",-2087820524,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"mqtt-topic\",\"mqtt-topic\",1699076625,null),\"huginn/mqtt.cljs\",17,1,149,149,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"deviceId\",\"deviceId\",-744448561,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null),new cljs.core.Symbol(null,\"msg-type\",\"msg-type\",-492036295,null)], null)),\"msg-type can be 'state' for state updates\\n   or 'events' to publish telemetry\",(cljs.core.truth_(huginn.mqtt.mqtt_topic)?huginn.mqtt.mqtt_topic.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.mqtt_topic = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"mqtt-topic\",\"huginn.mqtt/mqtt-topic\",-2087820524,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.tele_chan,new cljs.core.Var(function(){return huginn.mqtt.tele_chan;},new cljs.core.Symbol(\"huginn.mqtt\",\"tele-chan\",\"huginn.mqtt/tele-chan\",1912072830,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"tele-chan\",\"tele-chan\",1396327281,null),\"huginn/mqtt.cljs\",16,1,232,232,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null)),\"takes the client opts and builds a channel with system telementry\\n  values on it (cpu tempratures specifically)\",(cljs.core.truth_(huginn.mqtt.tele_chan)?huginn.mqtt.tele_chan.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.tele_chan = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"tele-chan\",\"huginn.mqtt/tele-chan\",1912072830,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.client_handlers,new cljs.core.Var(function(){return huginn.mqtt.client_handlers;},new cljs.core.Symbol(\"huginn.mqtt\",\"client-handlers\",\"huginn.mqtt/client-handlers\",1114981143,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"client-handlers\",\"client-handlers\",590476308,null),\"huginn/mqtt.cljs\",22,1,76,76,cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"success-fn\",\"success-fn\",1133667460,null),new cljs.core.Symbol(null,\"fail\",\"fail\",-948220839,null),new cljs.core.Symbol(null,\"send\",\"send\",988380413,null),new cljs.core.Symbol(null,\"recv\",\"recv\",-2095807159,null)], null)),\"builds a map of handels to attach to the mqtt object\",(cljs.core.truth_(huginn.mqtt.client_handlers)?huginn.mqtt.client_handlers.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.client_handlers = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"client-handlers\",\"huginn.mqtt/client-handlers\",1114981143,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.kill_it,new cljs.core.Var(function(){return huginn.mqtt.kill_it;},new cljs.core.Symbol(\"huginn.mqtt\",\"kill-it\",\"huginn.mqtt/kill-it\",-6333577,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"kill-it\",\"kill-it\",-568139148,null),\"huginn/mqtt.cljs\",14,1,341,341,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"system-promise\",\"system-promise\",-131836305,null)], null)),\"Feed the system promise to this and it will kill it\",(cljs.core.truth_(huginn.mqtt.kill_it)?huginn.mqtt.kill_it.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.kill_it = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"kill-it\",\"huginn.mqtt/kill-it\",-6333577,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.state_send,new cljs.core.Var(function(){return huginn.mqtt.state_send;},new cljs.core.Symbol(\"huginn.mqtt\",\"state-send\",\"huginn.mqtt/state-send\",661664058,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"state-send\",\"state-send\",1144756791,null),\"huginn/mqtt.cljs\",16,1,283,283,cljs.core.List.EMPTY,null,(cljs.core.truth_(huginn.mqtt.state_send)?huginn.mqtt.state_send.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.state_send = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"state-send\",\"huginn.mqtt/state-send\",661664058,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.publish_one,new cljs.core.Var(function(){return huginn.mqtt.publish_one;},new cljs.core.Symbol(\"huginn.mqtt\",\"publish-one\",\"huginn.mqtt/publish-one\",1981166109,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"publish-one\",\"publish-one\",1464683800,null),\"huginn/mqtt.cljs\",18,1,187,187,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"client\",\"client\",317083410,null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"topic\",\"topic\",-319949164,null),new cljs.core.Symbol(null,\"payload\",\"payload\",1257495435,null),new cljs.core.Symbol(null,\"qos\",\"qos\",-483760792,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"p\",\"p\",1791580836,null)], null)], null)),\"Publises one mqtt packet to the client\",(cljs.core.truth_(huginn.mqtt.publish_one)?huginn.mqtt.publish_one.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.publish_one = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"publish-one\",\"huginn.mqtt/publish-one\",1981166109,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.system_function,new cljs.core.Var(function(){return huginn.mqtt.system_function;},new cljs.core.Symbol(\"huginn.mqtt\",\"system-function\",\"huginn.mqtt/system-function\",219927996,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"system-function\",\"system-function\",1793031353,null),\"huginn/mqtt.cljs\",22,1,299,299,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null)),\"the heart of the system lies here.\\n  This function takes options (config/default-options works well)\\n  It returns a map\\n  This map has\\n  :send-chan A channel you can use to directly send messages of mqtt, must be of the\\n  form {:payload string? :qos #js {:qos #{0 1 2}} :topic (topics can be built with mqtt-topic)}\\n  :recv-chan has items in the form of {:topic string? :message string? :packet buffer?}\\n  :state-chan, send things of the form (coll-of {:payload string?}), onto the state channel\\n  (google publishes these values to a differnt pubsub channel then device telemetry)\\n  :telemetry-chan, sends (coll-of {:payload string?}), all the events in the collections\\n  are sent in the same batch, the same is true for stat-chan.\\n  :client-atom, contains the current version of the mqtt client. This is an atom so\\n  that the client-refersher can refresh the authentication token and swap it.\\n  this pattern also ensures only one client\\n\\n  payloads must be prefixed with a string describing where the data came (payload-root opts) will generate this for you\",(cljs.core.truth_(huginn.mqtt.system_function)?huginn.mqtt.system_function.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.system_function = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"system-function\",\"huginn.mqtt/system-function\",219927996,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.stop,new cljs.core.Var(function(){return huginn.mqtt.stop;},new cljs.core.Symbol(\"huginn.mqtt\",\"stop\",\"huginn.mqtt/stop\",-2121246628,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"stop\",\"stop\",-500379815,null),\"huginn/mqtt.cljs\",10,1,183,183,cljs.core.List.EMPTY,null,(cljs.core.truth_(huginn.mqtt.stop)?huginn.mqtt.stop.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.stop = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"stop\",\"huginn.mqtt/stop\",-2121246628,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.sender,new cljs.core.Var(function(){return huginn.mqtt.sender;},new cljs.core.Symbol(\"huginn.mqtt\",\"sender\",\"huginn.mqtt/sender\",-581128399,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"sender\",\"sender\",-1097132484,null),\"huginn/mqtt.cljs\",13,1,257,257,cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"topic-name\",\"topic-name\",-1894802441,null),new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null),new cljs.core.Symbol(null,\"send\",\"send\",988380413,null),new cljs.core.Symbol(null,\"t-chan\",\"t-chan\",550088976,null)], null)),\"takes information for the tele-chan in the form of collections of\\n  mqtt-packets and assignes a default topic if a subfolder is set,\\n  adds a default qos. Then takes the resulting structures and puts\\n  them on to the send channel. waits for :delayMs between collections \",(cljs.core.truth_(huginn.mqtt.sender)?huginn.mqtt.sender.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.sender = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"sender\",\"huginn.mqtt/sender\",-581128399,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.client_refresher,new cljs.core.Var(function(){return huginn.mqtt.client_refresher;},new cljs.core.Symbol(\"huginn.mqtt\",\"client-refresher\",\"huginn.mqtt/client-refresher\",-1016997122,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"client-refresher\",\"client-refresher\",1020949501,null),\"huginn/mqtt.cljs\",23,1,202,202,cljs.core.list(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"client-atom\",\"client-atom\",-92552583,null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"tokenExpMins\",\"tokenExpMins\",1819670,null),new cljs.core.Symbol(null,\"delayMs\",\"delayMs\",623201359,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"opts\",\"opts\",1795607228,null)], null),new cljs.core.Symbol(null,\"send\",\"send\",988380413,null),new cljs.core.Symbol(null,\"recv\",\"recv\",-2095807159,null)], null)),\"loops and refreshs the client atom every token experation.\\n  Mqtt requires that you refresh your token frequently (less then 20 mins)\",(cljs.core.truth_(huginn.mqtt.client_refresher)?huginn.mqtt.client_refresher.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.client_refresher = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"client-refresher\",\"huginn.mqtt/client-refresher\",-1016997122,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.add_handlers,new cljs.core.Var(function(){return huginn.mqtt.add_handlers;},new cljs.core.Symbol(\"huginn.mqtt\",\"add-handlers\",\"huginn.mqtt/add-handlers\",413228883,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"add-handlers\",\"add-handlers\",2045102174,null),\"huginn/mqtt.cljs\",19,1,96,96,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"client\",\"client\",317083410,null),new cljs.core.Symbol(null,\"handlers\",\"handlers\",1720060308,null)], null)),\"takes a map of handlers and attaches them to the mqtt object\",(cljs.core.truth_(huginn.mqtt.add_handlers)?huginn.mqtt.add_handlers.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.add_handlers = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"add-handlers\",\"huginn.mqtt/add-handlers\",413228883,null);\n});})(opts18971_19041))\n,((function (opts18971_19041){\nreturn (function (){\nvar checked__15596__auto__ = orchestra_cljs.spec.test.instrument_1_STAR_(huginn.mqtt.clean_up,new cljs.core.Var(function(){return huginn.mqtt.clean_up;},new cljs.core.Symbol(\"huginn.mqtt\",\"clean-up\",\"huginn.mqtt/clean-up\",660615933,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt\",\"huginn.mqtt\",-563197735,null),new cljs.core.Symbol(null,\"clean-up\",\"clean-up\",1185712638,null),\"huginn/mqtt.cljs\",15,1,289,289,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"send-chan\",\"send-chan\",-973246167,null),new cljs.core.Symbol(null,\"recv-chan\",\"recv-chan\",-1785196919,null),new cljs.core.Symbol(null,\"telemetry-chan\",\"telemetry-chan\",-351304976,null),new cljs.core.Symbol(null,\"state-chan\",\"state-chan\",598054510,null),new cljs.core.Symbol(null,\"client-atom\",\"client-atom\",-92552583,null)], null),new cljs.core.Keyword(null,\"as\",\"as\",1148689641),new cljs.core.Symbol(null,\"system\",\"system\",1611149803,null)], null)], null)),null,(cljs.core.truth_(huginn.mqtt.clean_up)?huginn.mqtt.clean_up.cljs$lang$test:null)])),opts18971_19041);\nif(cljs.core.truth_(checked__15596__auto__)){\nhuginn.mqtt.clean_up = checked__15596__auto__;\n} else {\n}\n\nreturn new cljs.core.Symbol(\"huginn.mqtt\",\"clean-up\",\"huginn.mqtt/clean-up\",660615933,null);\n});})(opts18971_19041))\n], null)))));\nhuginn.mqtt_spec.test_startup_shutdown = (function huginn$mqtt_spec$test_startup_shutdown(){\nreturn cljs.test.test_var(huginn.mqtt_spec.test_startup_shutdown.cljs$lang$var);\n});\nhuginn.mqtt_spec.test_startup_shutdown.cljs$lang$test = (function (){\n\nif((typeof huginn !== 'undefined') && (typeof huginn.mqtt_spec !== 'undefined') && (typeof huginn.mqtt_spec.t_huginn$mqtt_spec18993 !== 'undefined')){\n} else {\n\n/**\n* @constructor\n * @implements {cljs.core.IFn}\n * @implements {cljs.core.IMeta}\n * @implements {cljs.test.IAsyncTest}\n * @implements {cljs.core.IWithMeta}\n*/\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993 = (function (meta18994){\nthis.meta18994 = meta18994;\nthis.cljs$lang$protocol_mask$partition0$ = 393217;\nthis.cljs$lang$protocol_mask$partition1$ = 0;\n});\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (_18995,meta18994__$1){\nvar self__ = this;\nvar _18995__$1 = this;\nreturn (new huginn.mqtt_spec.t_huginn$mqtt_spec18993(meta18994__$1));\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.prototype.cljs$core$IMeta$_meta$arity$1 = (function (_18995){\nvar self__ = this;\nvar _18995__$1 = this;\nreturn self__.meta18994;\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.prototype.cljs$test$IAsyncTest$ = cljs.core.PROTOCOL_SENTINEL;\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.prototype.call = (function (self__,done){\nvar self__ = this;\nvar self____$1 = this;\nvar ___9740__auto__ = self____$1;\nreturn promesa.core.then(huginn.mqtt.system_function(huginn.config.default_options),((function (___9740__auto__,self____$1){\nreturn (function (system){\nreturn promesa.core.then(huginn.mqtt.kill_it(system),((function (___9740__auto__,self____$1){\nreturn (function (dead){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",28,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (___9740__auto__,self____$1){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"its dead\"], null);\n});})(___9740__auto__,self____$1))\n,null)),null,-1190570811);\n\nreturn (done.cljs$core$IFn$_invoke$arity$0 ? done.cljs$core$IFn$_invoke$arity$0() : done.call(null));\n});})(___9740__auto__,self____$1))\n);\n});})(___9740__auto__,self____$1))\n);\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.prototype.apply = (function (self__,args18996){\nvar self__ = this;\nvar self____$1 = this;\nreturn self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args18996)));\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.prototype.cljs$core$IFn$_invoke$arity$1 = (function (done){\nvar self__ = this;\nvar ___9740__auto__ = this;\nreturn promesa.core.then(huginn.mqtt.system_function(huginn.config.default_options),((function (___9740__auto__){\nreturn (function (system){\nreturn promesa.core.then(huginn.mqtt.kill_it(system),((function (___9740__auto__){\nreturn (function (dead){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",28,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (___9740__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"its dead\"], null);\n});})(___9740__auto__))\n,null)),null,1758520);\n\nreturn (done.cljs$core$IFn$_invoke$arity$0 ? done.cljs$core$IFn$_invoke$arity$0() : done.call(null));\n});})(___9740__auto__))\n);\n});})(___9740__auto__))\n);\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.getBasis = (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"meta18994\",\"meta18994\",725051960,null)], null);\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.cljs$lang$type = true;\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.cljs$lang$ctorStr = \"huginn.mqtt-spec/t_huginn$mqtt_spec18993\";\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec18993.cljs$lang$ctorPrWriter = (function (this__4192__auto__,writer__4193__auto__,opt__4194__auto__){\nreturn cljs.core._write(writer__4193__auto__,\"huginn.mqtt-spec/t_huginn$mqtt_spec18993\");\n});\n\n/**\n * Positional factory function for huginn.mqtt-spec/t_huginn$mqtt_spec18993.\n */\nhuginn.mqtt_spec.__GT_t_huginn$mqtt_spec18993 = (function huginn$mqtt_spec$__GT_t_huginn$mqtt_spec18993(meta18994){\nreturn (new huginn.mqtt_spec.t_huginn$mqtt_spec18993(meta18994));\n});\n\n}\n\nreturn (new huginn.mqtt_spec.t_huginn$mqtt_spec18993(null));\n});\n\nvar the_var__9927__auto___19047 = new cljs.core.Var(function(){return huginn.mqtt_spec.test_startup_shutdown;},new cljs.core.Symbol(\"huginn.mqtt-spec\",\"test-startup-shutdown\",\"huginn.mqtt-spec/test-startup-shutdown\",1509562432,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt-spec\",\"huginn.mqtt-spec\",-1076969908,null),new cljs.core.Symbol(null,\"test-startup-shutdown\",\"test-startup-shutdown\",-1967701493,null),\"huginn/mqtt_spec.cljs\",33,1,20,20,cljs.core.List.EMPTY,null,(cljs.core.truth_(huginn.mqtt_spec.test_startup_shutdown)?huginn.mqtt_spec.test_startup_shutdown.cljs$lang$test:null)]));\nhuginn.mqtt_spec.test_startup_shutdown.cljs$lang$var = the_var__9927__auto___19047;\n\nshadow.test.env.register_test(new cljs.core.Symbol(null,\"huginn.mqtt-spec\",\"huginn.mqtt-spec\",-1076969908,null),new cljs.core.Symbol(null,\"test-startup-shutdown\",\"test-startup-shutdown\",-1967701493,null),the_var__9927__auto___19047);\nhuginn.mqtt_spec.test_chan = (function huginn$mqtt_spec$test_chan(){\nvar mets = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"payload\",\"payload\",-383036092),[\"test-temp/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1([cljs.core.str.cljs$core$IFn$_invoke$arity$1((10))].join(''))].join(''),new cljs.core.Keyword(null,\"subfolder\",\"subfolder\",1044158439),\"metrics/temperature\"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"payload\",\"payload\",-383036092),[\"test-temp/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1([cljs.core.str.cljs$core$IFn$_invoke$arity$1((10))].join(''))].join(''),new cljs.core.Keyword(null,\"subfolder\",\"subfolder\",1044158439),\"metrics/temperature\"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"payload\",\"payload\",-383036092),[\"test-temp/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1([cljs.core.str.cljs$core$IFn$_invoke$arity$1((10))].join(''))].join(''),new cljs.core.Keyword(null,\"subfolder\",\"subfolder\",1044158439),\"metrics/temperature\"], null)], null);\nvar c = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nreturn cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$2(c,mets);\n});\nhuginn.mqtt_spec._start_mix_tester = (function huginn$mqtt_spec$_start_mix_tester(p__19001){\nvar map__19002 = p__19001;\nvar map__19002__$1 = ((((!((map__19002 == null)))?(((((map__19002.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__19002.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__19002):map__19002);\nvar system = map__19002__$1;\nvar telemetry_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__19002__$1,new cljs.core.Keyword(null,\"telemetry-chan\",\"telemetry-chan\",-1991836503));\nvar mixer = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__19002__$1,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315));\nvar s_chan = huginn.mqtt_spec.test_chan();\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",48,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (s_chan,map__19002,map__19002__$1,system,telemetry_chan,mixer){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"adding mixxer\"], null);\n});})(s_chan,map__19002,map__19002__$1,system,telemetry_chan,mixer))\n,null)),null,-1062881672);\n\ncljs.core.async.admix(mixer,s_chan);\n\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(system,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315),mixer),new cljs.core.Keyword(null,\"test-chan\",\"test-chan\",-1100048290),s_chan);\n});\nhuginn.mqtt_spec.start_mix_tester = (function huginn$mqtt_spec$start_mix_tester(system_promise){\nreturn promesa.core.then(system_promise,huginn.mqtt_spec._start_mix_tester);\n});\nhuginn.mqtt_spec.add_mixer = (function huginn$mqtt_spec$add_mixer(p__19005){\nvar map__19006 = p__19005;\nvar map__19006__$1 = ((((!((map__19006 == null)))?(((((map__19006.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__19006.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__19006):map__19006);\nvar state = map__19006__$1;\nvar telemetry_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__19006__$1,new cljs.core.Keyword(null,\"telemetry-chan\",\"telemetry-chan\",-1991836503));\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",61,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (map__19006,map__19006__$1,state,telemetry_chan){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"adding mixer\"], null);\n});})(map__19006,map__19006__$1,state,telemetry_chan))\n,null)),null,-2073986775);\n\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(state,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315),cljs.core.async.mix(telemetry_chan));\n});\nhuginn.mqtt_spec.sleep = (function huginn$mqtt_spec$sleep(prom){\nreturn promesa.core.then(prom,(function (res){\ntry{var values__9699__auto___19048 = (new cljs.core.List(null,res,(new cljs.core.List(null,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315),null,(1),null)),(2),null));\nvar result__9700__auto___19049 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__9699__auto___19048);\nif(cljs.core.truth_(result__9700__auto___19049)){\ncljs.test.do_report(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"pass\",\"pass\",1574159993),new cljs.core.Keyword(null,\"expected\",\"expected\",1583670997),cljs.core.list(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),new cljs.core.Symbol(null,\"res\",\"res\",245523648,null),new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315)),new cljs.core.Keyword(null,\"actual\",\"actual\",107306363),cljs.core.cons(cljs.core.contains_QMARK_,values__9699__auto___19048),new cljs.core.Keyword(null,\"message\",\"message\",-406056002),null], null));\n} else {\ncljs.test.do_report(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"fail\",\"fail\",1706214930),new cljs.core.Keyword(null,\"expected\",\"expected\",1583670997),cljs.core.list(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),new cljs.core.Symbol(null,\"res\",\"res\",245523648,null),new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315)),new cljs.core.Keyword(null,\"actual\",\"actual\",107306363),(new cljs.core.List(null,new cljs.core.Symbol(null,\"not\",\"not\",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),values__9699__auto___19048),null,(1),null)),(2),null)),new cljs.core.Keyword(null,\"message\",\"message\",-406056002),null], null));\n}\n\n}catch (e19009){var t__9730__auto___19050 = e19009;\ncljs.test.do_report(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"error\",\"error\",-978969032),new cljs.core.Keyword(null,\"expected\",\"expected\",1583670997),cljs.core.list(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),new cljs.core.Symbol(null,\"res\",\"res\",245523648,null),new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315)),new cljs.core.Keyword(null,\"actual\",\"actual\",107306363),t__9730__auto___19050,new cljs.core.Keyword(null,\"message\",\"message\",-406056002),null], null));\n}\ntry{var values__9699__auto___19051 = (new cljs.core.List(null,res,(new cljs.core.List(null,new cljs.core.Keyword(null,\"test-chan\",\"test-chan\",-1100048290),null,(1),null)),(2),null));\nvar result__9700__auto___19052 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.contains_QMARK_,values__9699__auto___19051);\nif(cljs.core.truth_(result__9700__auto___19052)){\ncljs.test.do_report(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"pass\",\"pass\",1574159993),new cljs.core.Keyword(null,\"expected\",\"expected\",1583670997),cljs.core.list(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),new cljs.core.Symbol(null,\"res\",\"res\",245523648,null),new cljs.core.Keyword(null,\"test-chan\",\"test-chan\",-1100048290)),new cljs.core.Keyword(null,\"actual\",\"actual\",107306363),cljs.core.cons(cljs.core.contains_QMARK_,values__9699__auto___19051),new cljs.core.Keyword(null,\"message\",\"message\",-406056002),null], null));\n} else {\ncljs.test.do_report(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"fail\",\"fail\",1706214930),new cljs.core.Keyword(null,\"expected\",\"expected\",1583670997),cljs.core.list(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),new cljs.core.Symbol(null,\"res\",\"res\",245523648,null),new cljs.core.Keyword(null,\"test-chan\",\"test-chan\",-1100048290)),new cljs.core.Keyword(null,\"actual\",\"actual\",107306363),(new cljs.core.List(null,new cljs.core.Symbol(null,\"not\",\"not\",1044554643,null),(new cljs.core.List(null,cljs.core.cons(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),values__9699__auto___19051),null,(1),null)),(2),null)),new cljs.core.Keyword(null,\"message\",\"message\",-406056002),null], null));\n}\n\n}catch (e19011){var t__9730__auto___19053 = e19011;\ncljs.test.do_report(new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"error\",\"error\",-978969032),new cljs.core.Keyword(null,\"expected\",\"expected\",1583670997),cljs.core.list(new cljs.core.Symbol(null,\"contains?\",\"contains?\",-1676812576,null),new cljs.core.Symbol(null,\"res\",\"res\",245523648,null),new cljs.core.Keyword(null,\"test-chan\",\"test-chan\",-1100048290)),new cljs.core.Keyword(null,\"actual\",\"actual\",107306363),t__9730__auto___19053,new cljs.core.Keyword(null,\"message\",\"message\",-406056002),null], null));\n}\nreturn promesa.core.promise((function (resolve,reject){\nvar c__15660__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run(((function (c__15660__auto__){\nreturn (function (){\nvar f__15661__auto__ = (function (){var switch__15468__auto__ = ((function (c__15660__auto__){\nreturn (function (state_19018){\nvar state_val_19019 = (state_19018[(1)]);\nif((state_val_19019 === (1))){\nvar inst_19013 = cljs.core.async.timeout((1));\nvar state_19018__$1 = state_19018;\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_19018__$1,(2),inst_19013);\n} else {\nif((state_val_19019 === (2))){\nvar inst_19015 = (state_19018[(2)]);\nvar inst_19016 = (resolve.cljs$core$IFn$_invoke$arity$1 ? resolve.cljs$core$IFn$_invoke$arity$1(res) : resolve.call(null,res));\nvar state_19018__$1 = (function (){var statearr_19022 = state_19018;\n(statearr_19022[(7)] = inst_19015);\n\nreturn statearr_19022;\n})();\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_19018__$1,inst_19016);\n} else {\nreturn null;\n}\n}\n});})(c__15660__auto__))\n;\nreturn ((function (switch__15468__auto__,c__15660__auto__){\nreturn (function() {\nvar huginn$mqtt_spec$sleep_$_state_machine__15469__auto__ = null;\nvar huginn$mqtt_spec$sleep_$_state_machine__15469__auto____0 = (function (){\nvar statearr_19023 = [null,null,null,null,null,null,null,null];\n(statearr_19023[(0)] = huginn$mqtt_spec$sleep_$_state_machine__15469__auto__);\n\n(statearr_19023[(1)] = (1));\n\nreturn statearr_19023;\n});\nvar huginn$mqtt_spec$sleep_$_state_machine__15469__auto____1 = (function (state_19018){\nwhile(true){\nvar ret_value__15470__auto__ = (function (){try{while(true){\nvar result__15471__auto__ = switch__15468__auto__(state_19018);\nif(cljs.core.keyword_identical_QMARK_(result__15471__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__15471__auto__;\n}\nbreak;\n}\n}catch (e19024){if((e19024 instanceof Object)){\nvar ex__15472__auto__ = e19024;\nvar statearr_19025_19054 = state_19018;\n(statearr_19025_19054[(5)] = ex__15472__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_19018);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e19024;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__15470__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__19055 = state_19018;\nstate_19018 = G__19055;\ncontinue;\n} else {\nreturn ret_value__15470__auto__;\n}\nbreak;\n}\n});\nhuginn$mqtt_spec$sleep_$_state_machine__15469__auto__ = function(state_19018){\nswitch(arguments.length){\ncase 0:\nreturn huginn$mqtt_spec$sleep_$_state_machine__15469__auto____0.call(this);\ncase 1:\nreturn huginn$mqtt_spec$sleep_$_state_machine__15469__auto____1.call(this,state_19018);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nhuginn$mqtt_spec$sleep_$_state_machine__15469__auto__.cljs$core$IFn$_invoke$arity$0 = huginn$mqtt_spec$sleep_$_state_machine__15469__auto____0;\nhuginn$mqtt_spec$sleep_$_state_machine__15469__auto__.cljs$core$IFn$_invoke$arity$1 = huginn$mqtt_spec$sleep_$_state_machine__15469__auto____1;\nreturn huginn$mqtt_spec$sleep_$_state_machine__15469__auto__;\n})()\n;})(switch__15468__auto__,c__15660__auto__))\n})();\nvar state__15662__auto__ = (function (){var statearr_19026 = (f__15661__auto__.cljs$core$IFn$_invoke$arity$0 ? f__15661__auto__.cljs$core$IFn$_invoke$arity$0() : f__15661__auto__.call(null));\n(statearr_19026[(6)] = c__15660__auto__);\n\nreturn statearr_19026;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__15662__auto__);\n});})(c__15660__auto__))\n);\n\nreturn c__15660__auto__;\n}));\n}));\n});\nhuginn.mqtt_spec.test_send_shutdown = (function huginn$mqtt_spec$test_send_shutdown(){\nreturn cljs.test.test_var(huginn.mqtt_spec.test_send_shutdown.cljs$lang$var);\n});\nhuginn.mqtt_spec.test_send_shutdown.cljs$lang$test = (function (){\n\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",79,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"send test\"], null);\n}),null)),null,100386626);\n\nif((typeof huginn !== 'undefined') && (typeof huginn.mqtt_spec !== 'undefined') && (typeof huginn.mqtt_spec.t_huginn$mqtt_spec19027 !== 'undefined')){\n} else {\n\n/**\n* @constructor\n * @implements {cljs.core.IFn}\n * @implements {cljs.core.IMeta}\n * @implements {cljs.test.IAsyncTest}\n * @implements {cljs.core.IWithMeta}\n*/\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027 = (function (meta19028){\nthis.meta19028 = meta19028;\nthis.cljs$lang$protocol_mask$partition0$ = 393217;\nthis.cljs$lang$protocol_mask$partition1$ = 0;\n});\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (_19029,meta19028__$1){\nvar self__ = this;\nvar _19029__$1 = this;\nreturn (new huginn.mqtt_spec.t_huginn$mqtt_spec19027(meta19028__$1));\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.prototype.cljs$core$IMeta$_meta$arity$1 = (function (_19029){\nvar self__ = this;\nvar _19029__$1 = this;\nreturn self__.meta19028;\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.prototype.cljs$test$IAsyncTest$ = cljs.core.PROTOCOL_SENTINEL;\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.prototype.call = (function (self__,done){\nvar self__ = this;\nvar self____$1 = this;\nvar ___9740__auto__ = self____$1;\nreturn promesa.core.chain.cljs$core$IFn$_invoke$arity$variadic(huginn.mqtt.system_function(huginn.config.default_options),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([huginn.mqtt_spec.add_mixer,((function (___9740__auto__,self____$1){\nreturn (function (sys){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (___9740__auto__,self____$1){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"got sys\"], null);\n});})(___9740__auto__,self____$1))\n,null)),null,-1011665887);\n\ntry{var result__18711__auto__ = sys;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (result__18711__auto__,___9740__auto__,self____$1){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"sys\",\"sys\",1048252097,null),\"=>\",result__18711__auto__], null);\n});})(result__18711__auto__,___9740__auto__,self____$1))\n,null)),null,-1522694039);\n\nreturn result__18711__auto__;\n}catch (e19034){if((e19034 instanceof Error)){\nvar e__18673__auto__ = e19034;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (e__18673__auto__,___9740__auto__,self____$1){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [e__18673__auto__], null);\n});})(e__18673__auto__,___9740__auto__,self____$1))\n,null)),null,-1901512155);\n\nthrow e__18673__auto__;\n} else {\nthrow e19034;\n\n}\n}});})(___9740__auto__,self____$1))\n,huginn.mqtt_spec.start_mix_tester,huginn.mqtt_spec.sleep,huginn.mqtt.kill_it,((function (___9740__auto__,self____$1){\nreturn (function (system){\nreturn (done.cljs$core$IFn$_invoke$arity$0 ? done.cljs$core$IFn$_invoke$arity$0() : done.call(null));\n});})(___9740__auto__,self____$1))\n], 0));\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.prototype.apply = (function (self__,args19032){\nvar self__ = this;\nvar self____$1 = this;\nreturn self____$1.call.apply(self____$1,[self____$1].concat(cljs.core.aclone(args19032)));\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.prototype.cljs$core$IFn$_invoke$arity$1 = (function (done){\nvar self__ = this;\nvar ___9740__auto__ = this;\nreturn promesa.core.chain.cljs$core$IFn$_invoke$arity$variadic(huginn.mqtt.system_function(huginn.config.default_options),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([huginn.mqtt_spec.add_mixer,((function (___9740__auto__){\nreturn (function (sys){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (___9740__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"got sys\"], null);\n});})(___9740__auto__))\n,null)),null,1059753148);\n\ntry{var result__18711__auto__ = sys;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (result__18711__auto__,___9740__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"sys\",\"sys\",1048252097,null),\"=>\",result__18711__auto__], null);\n});})(result__18711__auto__,___9740__auto__))\n,null)),null,694466420);\n\nreturn result__18711__auto__;\n}catch (e19037){if((e19037 instanceof Error)){\nvar e__18673__auto__ = e19037;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.mqtt-spec\",\"*cider-repl src/huginn:localhost:41213(clj)*\",84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (e__18673__auto__,___9740__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [e__18673__auto__], null);\n});})(e__18673__auto__,___9740__auto__))\n,null)),null,1948454710);\n\nthrow e__18673__auto__;\n} else {\nthrow e19037;\n\n}\n}});})(___9740__auto__))\n,huginn.mqtt_spec.start_mix_tester,huginn.mqtt_spec.sleep,huginn.mqtt.kill_it,((function (___9740__auto__){\nreturn (function (system){\nreturn (done.cljs$core$IFn$_invoke$arity$0 ? done.cljs$core$IFn$_invoke$arity$0() : done.call(null));\n});})(___9740__auto__))\n], 0));\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.getBasis = (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"meta19028\",\"meta19028\",1673681238,null)], null);\n});\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.cljs$lang$type = true;\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.cljs$lang$ctorStr = \"huginn.mqtt-spec/t_huginn$mqtt_spec19027\";\n\nhuginn.mqtt_spec.t_huginn$mqtt_spec19027.cljs$lang$ctorPrWriter = (function (this__4192__auto__,writer__4193__auto__,opt__4194__auto__){\nreturn cljs.core._write(writer__4193__auto__,\"huginn.mqtt-spec/t_huginn$mqtt_spec19027\");\n});\n\n/**\n * Positional factory function for huginn.mqtt-spec/t_huginn$mqtt_spec19027.\n */\nhuginn.mqtt_spec.__GT_t_huginn$mqtt_spec19027 = (function huginn$mqtt_spec$__GT_t_huginn$mqtt_spec19027(meta19028){\nreturn (new huginn.mqtt_spec.t_huginn$mqtt_spec19027(meta19028));\n});\n\n}\n\nreturn (new huginn.mqtt_spec.t_huginn$mqtt_spec19027(null));\n});\n\nvar the_var__9927__auto___19056 = new cljs.core.Var(function(){return huginn.mqtt_spec.test_send_shutdown;},new cljs.core.Symbol(\"huginn.mqtt-spec\",\"test-send-shutdown\",\"huginn.mqtt-spec/test-send-shutdown\",-1348713919,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"huginn.mqtt-spec\",\"huginn.mqtt-spec\",-1076969908,null),new cljs.core.Symbol(null,\"test-send-shutdown\",\"test-send-shutdown\",-95378422,null),\"huginn/mqtt_spec.cljs\",30,1,77,77,cljs.core.List.EMPTY,null,(cljs.core.truth_(huginn.mqtt_spec.test_send_shutdown)?huginn.mqtt_spec.test_send_shutdown.cljs$lang$test:null)]));\nhuginn.mqtt_spec.test_send_shutdown.cljs$lang$var = the_var__9927__auto___19056;\n\nshadow.test.env.register_test(new cljs.core.Symbol(null,\"huginn.mqtt-spec\",\"huginn.mqtt-spec\",-1076969908,null),new cljs.core.Symbol(null,\"test-send-shutdown\",\"test-send-shutdown\",-95378422,null),the_var__9927__auto___19056);\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","huginn/mqtt_spec.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",21],"~:ns-aliases",["^ ","~$jsonwebtoken","~$shadow.js.shim.module$jsonwebtoken","~$systeminformation","~$shadow.js.shim.module$systeminformation","~$clojure.core.async","~$cljs.core.async","~$raspicam","~$shadow.js.shim.module$raspicam"],"~:use-macros",["^ ","~$get-env","~$taoensso.timbre","~$log","^F","~$logf","^F","~$reportf","^F","~$fatalf","^F","~$warnf","^F","~$report","^F","~$spy","^F","~$warn","^F","~$trace","^F","~$debug","^F","~$debugf","^F","~$tracef","^F","~$infof","^F","~$fatal","^F","~$errorf","^F","~$info","^F","~$error","^F"],"~:excludes",["~#set",[]],"~:name","~$huginn.mqtt-spec","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$t","~$cljs.test","~$p","~$promesa.core","^15","^15","~$timbre","^F","~$a","^A","~$huginn.config","^17","~$orchestra-cljs.spec.test","^18","~$cljs.core","^19","^14","^14","~$goog","^1:","^A","^A","~$config","^17","~$huginn.jwt","^1<","~$s","~$cljs.spec.alpha","~$mqtt","~$huginn.mqtt","~$jw","^1<","^1?","^1?","^F","^F","~$st","^18","^1=","^1="],"~:seen",["^Y",["~:require"]],"~:uses",null,"~:require-macros",["^ ","~$t","^14","^16","^F","~$a","^A","^18","^18","^19","^19","^14","^14","^A","^A","~$s","^1=","^F","^F","^1A","^18","^1=","^1="],"~:form",["~#list",["~$ns","^[",["^1G",["^1C",["^1=","~:as","~$s"],["^14","^1I","~$t"],["^1?","^1I","^1>"],["^17","^1I","^1;"],["^1<","^1I","^1@"],["^15","^1I","~$p"],["^A","^1I","~$a"],["^F","^1I","^16","~:refer-macros",["^G","^O","^P","^V","^N","^W","^T","^L","^H","^R","^Q","^S","^K","^U","^J","^I","^M","^E"]],["^18","^1I","^1A"]]]]],"~:flags",["^ ","^1C",["^Y",[]]],"~:js-deps",["^ "],"~:deps",["^1:","^19","^1=","^14","^1?","^17","^1<","^15","^A","^F","^18"]],"^11","^[","~:resource-id",["~:shadow.build.classpath/resource","huginn/mqtt_spec.cljs"],"~:compiled-at",1540189270673,"~:resource-name","huginn/mqtt_spec.cljs","~:warnings",[],"~:source","(ns huginn.mqtt-spec\n  (:require\n   [cljs.spec.alpha :as s]\n   [cljs.test :as t]\n   [huginn.mqtt :as mqtt]\n   [huginn.config :as config]\n   [huginn.jwt :as jw]\n   [promesa.core :as p]\n   [cljs.core.async :as a]\n   [taoensso.timbre :as timbre\n    :refer-macros [log  trace  debug  info  warn  error  fatal  report\n                   logf tracef debugf infof warnf errorf fatalf reportf\n                   spy get-env]]\n   [orchestra-cljs.spec.test :as st]))\n\n(st/instrument 'huginn.mqtt)\n\n\n\n(t/deftest test-startup-shutdown\n  \"tests that the system can start and stop\"\n  (t/async done\n           (p/then\n            (mqtt/system-function config/default-options)\n            (fn [system]\n              (p/then (mqtt/kill-it system)\n                      (fn [dead]\n                        (debug \"its dead\")\n                        (done)))))))\n\n(defn test-chan\n  []\n    (let [mets\n          [{:payload (str \"test-temp/\" (str 10))\n            :subfolder \"metrics/temperature\"}\n           {:payload (str \"test-temp/\" (str 10))\n            :subfolder \"metrics/temperature\"}\n           {:payload (str \"test-temp/\" (str 10))\n            :subfolder \"metrics/temperature\"}]\n          c (a/chan)\n          ]\n      (a/onto-chan c mets )))\n\n\n(defn -start-mix-tester\n  [ {:keys [telemetry-chan mixer] :as system} ]\n  (let [s-chan (test-chan)]\n    (debug \"adding mixxer\")\n    (a/admix mixer s-chan)\n    (-> system\n        (assoc :mixer mixer)\n        (assoc :test-chan s-chan))))\n\n(defn start-mix-tester\n  [system-promise]\n  (p/then system-promise  -start-mix-tester ))\n\n\n(defn add-mixer\n  [{:keys [telemetry-chan] :as state}]\n  (debug \"adding mixer\")\n  (assoc state :mixer (a/mix telemetry-chan)))\n\n\n(defn sleep\n  [prom]\n  (p/then prom\n          (fn [res]\n            (t/is (contains? res :mixer))\n            (t/is (contains? res :test-chan))\n            (p/promise\n             (fn [resolve reject]\n               (a/go\n                 (let [waiter (a/<! (a/timeout 1))]\n                   (resolve res))))))))\n\n(t/deftest test-send-shutdown\n  \"testing that the system can send then shutdown\"\n  (debug \"send test\")\n  (t/async done\n           (p/chain\n            (mqtt/system-function config/default-options)\n            add-mixer\n            (fn [sys] (debug \"got sys\") (spy sys))\n            start-mix-tester\n            sleep\n            mqtt/kill-it\n            (fn [system]\n              (done)))))\n","~:reader-features",["^Y",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["opts18971","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","ret__15628__auto__","p__18972","vec__18973","___15629__auto__","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","f__15630__auto__","sym__15631__auto__","G__18976","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","orchestra-cljs.spec.test/distinct-by","cljs.core/first","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","p1__15627__15632__auto__","G__18978","fexpr__18977","orchestra_cljs.spec.test.instrumentable_syms.cljs$core$IFn$_invoke$arity$1","cljs.core/zipmap","checked__15596__auto__","orchestra-cljs.spec.test/instrument-1*","huginn.mqtt/tele-send","huginn.mqtt/publish-async","huginn.mqtt/build-client","huginn.mqtt/client-id","huginn.mqtt/prep-temps","huginn.mqtt/publisher","huginn.mqtt/init-client","huginn.mqtt/payload-root","huginn.mqtt/config-chan","huginn.mqtt/mqtt-topic","huginn.mqtt/tele-chan","huginn.mqtt/client-handlers","huginn.mqtt/kill-it","huginn.mqtt/state-send","huginn.mqtt/publish-one","huginn.mqtt/system-function","huginn.mqtt/stop","huginn.mqtt/sender","huginn.mqtt/client-refresher","huginn.mqtt/add-handlers","huginn.mqtt/clean-up","cljs.test/test-var","the-var__9927__auto__","huginn.mqtt-spec/test-startup-shutdown","shadow.test.env/register-test","js/huginn","js/huginn.mqtt-spec","js/huginn.mqtt-spec.t_huginn$mqtt_spec18993","huginn.mqtt-spec/t_huginn$mqtt_spec18993","_18995","meta18994","cljs.core/PROTOCOL_SENTINEL","self__","___9740__auto__","args18996","cljs.core/aclone","this__4192__auto__","writer__4193__auto__","opt__4194__auto__","cljs.core/-write","huginn.mqtt-spec/->t_huginn$mqtt_spec18993","done","promesa.core/then","huginn.config/default-options","system","dead","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10","taoensso.timbre/*config*","cljs.core/Delay","huginn.mqtt-spec/test-chan","mets","c","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$2","p__19001","map__19002","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","huginn.mqtt-spec/-start-mix-tester","telemetry-chan","mixer","s-chan","cljs.core.async/admix","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","huginn.mqtt-spec/start-mix-tester","system-promise","p__19005","map__19006","huginn.mqtt-spec/add-mixer","state","cljs.core.async/mix","huginn.mqtt-spec/sleep","prom","res","values__9699__auto__","cljs.core/List","result__9700__auto__","cljs.test/do-report","cljs.core/cons","t__9730__auto__","e19009","cljs.core/contains?","e19011","promesa.core/promise","resolve","reject","c__15660__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__15661__auto__","switch__15468__auto__","state_19018","state_val_19019","inst_19013","cljs.core.async.impl.ioc-helpers/take!","inst_19015","inst_19016","statearr-19022","cljs.core.async.impl.ioc-helpers/return-chan","statearr-19023","state-machine__15469__auto__","ret-value__15470__auto__","result__15471__auto__","cljs.core/keyword-identical?","e19024","js/Object","ex__15472__auto__","statearr-19025","cljs.core.async.impl.ioc-helpers/process-exception","state__15662__auto__","statearr-19026","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.async/timeout","huginn.mqtt-spec/test-send-shutdown","js/huginn.mqtt-spec.t_huginn$mqtt_spec19027","huginn.mqtt-spec/t_huginn$mqtt_spec19027","_19029","meta19028","args19032","huginn.mqtt-spec/->t_huginn$mqtt_spec19027","promesa.core.chain.cljs$core$IFn$_invoke$arity$variadic","sys","result__18711__auto__","e19034","js/Error","e__18673__auto__","e19037"]]],"~:cache-keys",["~#cmap",[["^1O","cljs_node_io/file.cljs"],[1537666007418,"^1:","^19","~$goog.Uri","~$cljs-node-io.streams","~$cljs-node-io.fs","~$cljs-node-io.protocols"],["^1O","goog/dom/tagname.js"],[1530991559994,"^1:","~$goog.dom.HtmlElement"],["^1O","goog/async/freelist.js"],[1530991559994,"^1:"],["^1O","cljs/core/async/impl/ioc_helpers.cljs"],[1534380136417,"^1:","^19","~$cljs.core.async.impl.protocols"],["^1O","goog/labs/useragent/platform.js"],[1530991559994,"^1:","~$goog.labs.userAgent.util","~$goog.string"],["~:macro","^19"],[1534380137000],["^1O","cljs/core/async.cljs"],[1534380136417,"^1:","^19","^25","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers"],["^1O","goog/timer/timer.js"],[1530991559994,"^1:","~$goog.Promise","~$goog.events.EventTarget"],["^1O","orchestra_cljs/spec/test.cljs"],[1538695969819,"^1:","^19","~$goog.object","~$goog.userAgent.product","~$clojure.string","~$cljs.stacktrace","~$cljs.pprint","^1=","~$cljs.spec.gen.alpha"],["^1O","cljs/nodejs.cljs"],[1534380137690,"^1:","^19"],["^1O","cljs/spec/gen/alpha.cljs"],[1534380137690,"^1:","^19","^20"],["^1O","cljs/tools/reader/impl/utils.cljs"],[1535586405375,"^1:","^19","^2B","^27"],["^1O","cljs_node_io/fs.cljs"],[1537666007418,"^1:","^19","^A","^25"],["^1O","cljs_node_io/core.cljs"],[1537666007418,"^1:","^19","^A","^25","~$cljs-node-io.file","^21","^23","^20"],["^1O","goog/math/math.js"],[1530991559994,"^1:","~$goog.array","~$goog.asserts"],["^1O","goog/string/stringformat.js"],[1530991559994,"^1:","^27"],["^1O","goog/events/eventtype.js"],[1530991559994,"^1:","~$goog.userAgent"],["^1O","goog/labs/useragent/browser.js"],[1530991559994,"^1:","^2G","^26","^2@","^27"],["^1O","goog/array/array.js"],[1530991559994,"^1:","^2H"],["^1O","huginn/mqtt.cljs"],[1540189166236,"^1:","^19","^15","^2B","^1<","~$shadow.js.shim.module$gcic_mqtt_client","^18","^17","^F","^A","^?","^1=","~$cljs.nodejs"],["^1O","cljs_node_io/protocols.cljs"],[1537666007418,"^1:","^19"],["^28","~$cljs.core.async.macros"],[1534380136000],["^1O","cljs_node_io/streams.cljs"],[1537666007418,"^1:","^19","^20","^A","^23"],["^1O","huginn/config.cljs"],[1540154895584,"^1:","^19"],["^1O","goog/useragent/useragent.js"],[1530991559994,"^1:","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^26","~$goog.reflect","^27"],["^1O","goog/structs/prioritypool.js"],[1530991559994,"^1:","~$goog.structs.Pool","~$goog.structs.PriorityQueue"],["^28","~$cljs.tools.reader.reader-types"],[1535586405000],["^1O","goog/async/run.js"],[1530991559994,"^1:","~$goog.async.WorkQueue","~$goog.async.nextTick","~$goog.async.throwException"],["^1O","taoensso/encore.cljs"],[1535586406568,"^1:","^19","^2B","~$clojure.set","~$cljs.reader","~$cljs.tools.reader.edn","^14","^2@","^27","~$goog.string.format","~$goog.string.StringBuffer","~$goog.events","~$goog.net.XhrIo","~$goog.net.XhrIoPool","~$goog.Uri.QueryData","~$goog.structs","~$goog.net.EventType","~$goog.net.ErrorCode","~$taoensso.truss"],["^1O","goog/debug/error.js"],[1530991559994,"^1:"],["^1O","goog/async/workqueue.js"],[1530991559994,"^1:","^2H","~$goog.async.FreeList"],["^1O","huginn/jwt.cljs"],[1540154806767,"^1:","^19","^2B","^15","~$cljs-node-io.core","^2K","^="],["^1O","promesa/impl/scheduler.cljc"],[1535586406328,"^1:","^19","~$promesa.protocols"],["^1O","goog/events/events.js"],[1530991559994,"^1:","^2H","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","~$goog.events.BrowserFeature","~$goog.events.Listenable","~$goog.events.ListenerMap"],["^1O","goog/promise/resolver.js"],[1530991559994,"^1:"],["^1O","goog/events/browserfeature.js"],[1530991559994,"^1:","^2I"],["^1O","cljs/tools/reader/edn.cljs"],[1535586405375,"^1:","^19","~$cljs.tools.reader.impl.errors","^2S","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^27","^2["],["^1O","goog/structs/priorityqueue.js"],[1530991559994,"^1:","~$goog.structs.Heap"],["^1O","goog/net/xhrio.js"],[1530991559994,"^1:","~$goog.Timer","^2G","^2H","^3;","^2?","~$goog.json.hybrid","~$goog.log","^36","^35","~$goog.net.HttpStatus","~$goog.net.XmlHttp","^27","^34","~$goog.structs.Map","~$goog.uri.utils","^2I"],["^1O","goog/promise/thenable.js"],[1530991559994,"^1:"],["^1O","promesa/impl.cljc"],[1535586406328,"^1:","^19","^3:","~$org.bluebird"],["^1O","goog/dom/nodetype.js"],[1530991559994,"^1:"],["^28","^F"],[1535586406000],["^1O","cljs/tools/reader/impl/inspect.cljs"],[1535586405375,"^1:","^19"],["^1O","cljs/pprint.cljs"],[1534380137690,"^1:","^19","^2B","^27","^2["],["^28","^2E"],[1534380137000],["^1O","cljs/tools/reader.cljs"],[1535586405375,"^1:","^19","^2S","^3A","^3B","^3@","^2G","^27","^2["],["^1O","goog/net/wrapperxmlhttpfactory.js"],[1530991559994,"^1:","~$goog.net.XhrLike","~$goog.net.XmlHttpFactory"],["^1O","goog/events/eventtarget.js"],[1530991559994,"^1:","~$goog.Disposable","^2H","^30","~$goog.events.Event","^3>","^3?","^2@"],["^1O","goog/disposable/disposable.js"],[1530991559994,"^1:","~$goog.disposable.IDisposable"],["^28","^18"],[1538695969000],["^1O","goog/object/object.js"],[1530991559994,"^1:"],["^1O","goog/structs/set.js"],[1530991559994,"^1:","^34","~$goog.structs.Collection","^3J"],"~:SHADOW-TIMESTAMP",[1540077702000,1534380137000],["^1O","cljs/stacktrace.cljc"],[1534380137690,"^1:","^19","^27","^2B"],["^1O","goog/math/long.js"],[1530991559994,"^1:","^2H","^2P"],["^1O","goog/events/listener.js"],[1530991559994,"^1:","~$goog.events.ListenableKey"],["^1O","cljs/core/async/impl/channels.cljs"],[1534380136417,"^1:","^19","^25","^2<","^2:"],["^1O","goog/events/listenermap.js"],[1530991559994,"^1:","^2G","~$goog.events.Listener","^2@"],["^1O","goog/events/eventid.js"],[1530991559994,"^1:"],["^1O","taoensso/truss.cljs"],[1535586406478,"^1:","^19","~$taoensso.truss.impl"],["^1O","shadow/test/env.cljs"],[1540077702615,"^1:","^19"],["^1O","goog/functions/functions.js"],[1530991559994,"^1:"],["^1O","cljs/core/async/impl/dispatch.cljs"],[1534380136417,"^1:","^19","^2:","^2U"],["^1O","taoensso/truss/impl.cljs"],[1535586406478,"^1:","^19","^2W"],["^1O","clojure/walk.cljs"],[1534380137690,"^1:","^19"],["^1O","goog/useragent/product.js"],[1530991559994,"^1:","^2M","^2O","^2I"],["^1O","cljs/core/async/impl/protocols.cljs"],[1534380136417,"^1:","^19"],["^1O","goog/net/eventtype.js"],[1530991559994,"^1:"],["^1O","goog/structs/map.js"],[1530991559994,"^1:","~$goog.iter.Iterator","~$goog.iter.StopIteration","^2@"],["^1O","goog/net/xhriopool.js"],[1530991559994,"^1:","^31","~$goog.structs.PriorityPool"],["^1O","goog/structs/queue.js"],[1530991559994,"^1:","^2G"],["^1O","goog/labs/useragent/engine.js"],[1530991559994,"^1:","^2G","^26","^27"],["^1O","taoensso/timbre/appenders/core.cljs"],[1535586406375,"^1:","^19","^2B","~$taoensso.encore"],["^1O","cljs/reader.cljs"],[1534380137690,"^1:","^19","^2@","^3C","^2Y","^2["],["~:shadow.build.js-support/require","bluebird"],["~$shadow.js.shim.module$bluebird","shadow.js.shim.module$bluebird.js","^1:"],["^28","~$cljs-node-io.macros"],[1537666007000],["^28","^1="],[1534380137000],["^1O","goog/asserts/asserts.js"],[1530991559994,"^1:","~$goog.debug.Error","~$goog.dom.NodeType","^27"],["^1O","cljs/core/async/impl/buffers.cljs"],[1534380136417,"^1:","^19","^25"],["^28","^2D"],[1534380137000],["^1O","goog/debug/logbuffer.js"],[1530991559994,"^1:","^2H","~$goog.debug.LogRecord"],["^3[","jsonwebtoken"],["^=","shadow.js.shim.module$jsonwebtoken.js","^1:"],["^28","^3Z"],[1535586406000],["^1O","goog/uri/uri.js"],[1530991559994,"^1:","^2G","^2H","^27","^34","^3J","^3K","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"],["^1O","goog/net/errorcode.js"],[1530991559994,"^1:"],["^28","^14"],[1534380137000],["^28","^A"],[1534380136000],["^1O","goog/disposable/idisposable.js"],[1530991559994,"^1:"],["^1O","goog/promise/promise.js"],[1530991559994,"^1:","~$goog.Thenable","^2H","^38","~$goog.async.run","^2V","^42","~$goog.promise.Resolver"],["^1O","cljs/core/async/impl/timers.cljs"],[1534380136417,"^1:","^19","^25","^29","^2<"],["^1O","cljs/spec/alpha.cljs"],[1534380137690,"^1:","^19","^2@","~$clojure.walk","^2E","^2B"],["^1O","goog/debug/logrecord.js"],[1530991559994,"^1:"],["^1O","goog/base.js"],[1530991559994],["^1O","promesa/core.cljc"],[1535586406328,"^1:","^19","^3:","~$promesa.impl","~$promesa.impl.scheduler"],["^1O","goog/json/hybrid.js"],[1530991559994,"^1:","^2H","~$goog.json"],["^1O","goog/structs/structs.js"],[1530991559994,"^1:","^2G","^2@"],["^1O","cljs/tools/reader/impl/errors.cljs"],[1535586405375,"^1:","^19","^2S","^2B","~$cljs.tools.reader.impl.inspect"],["^1O","org/bluebird.cljs"],[1535669979047,"^1:","^19","^40"],["^1O","clojure/string.cljs"],[1534380137690,"^1:","^19","^27","^2["],["^1O","goog/structs/pool.js"],[1530991559994,"^1:","^3O","~$goog.structs.Queue","~$goog.structs.Set"],["^1O","goog/net/httpstatus.js"],[1530991559994,"^1:"],["^1O","goog/structs/heap.js"],[1530991559994,"^1:","^2G","^2@","~$goog.structs.Node"],["^1O","goog/debug/entrypointregistry.js"],[1530991559994,"^1:","^2H"],["^1O","goog/string/string.js"],[1530991559994,"^1:"],["^1O","goog/reflect/reflect.js"],[1530991559994,"^1:"],["^1O","goog/labs/useragent/util.js"],[1530991559994,"^1:","^27"],["^28","~$clojure.template"],[1534380136000],["^28","~$cljs.core.async.impl.ioc-macros"],[1534380136000],["^3[","gcic-mqtt-client"],["^2J","shadow.js.shim.module$gcic_mqtt_client.js","^1:"],["^1O","goog/debug/debug.js"],[1530991559994,"^1:","^2G","~$goog.debug.errorcontext","^2I"],["^1O","goog/string/stringbuffer.js"],[1530991559994,"^1:"],["^1O","goog/debug/errorcontext.js"],[1530991559994,"^1:"],["^1O","cljs/tools/reader/reader_types.cljs"],[1535586405375,"^1:","^19","^3A","^27","^2["],["^1O","promesa/protocols.cljc"],[1535586406328,"^1:","^19"],["^1O","goog/iter/iter.js"],[1530991559994,"^1:","^2G","^2H","~$goog.functions","~$goog.math"],["^1O","goog/async/nexttick.js"],[1530991559994,"^1:","^3;","~$goog.dom.TagName","^4E","^2M","^2N"],["^1O","goog/debug/logger.js"],[1530991559994,"^1:","^2G","^2H","~$goog.debug","~$goog.debug.LogBuffer","^44"],["^1O","goog/events/event.js"],[1530991559994,"^1:","^3O","~$goog.events.EventId"],["^1O","cljs/tools/reader/impl/commons.cljs"],[1535586405375,"^1:","^19","^3@","^2S","^3A"],["^3[","systeminformation"],["^?","shadow.js.shim.module$systeminformation.js","^1:"],["^1O","goog/dom/htmlelement.js"],[1530991559994,"^1:"],["^1O","cljs/core.cljs"],[1534380137690,"~$goog.math.Long","~$goog.math.Integer","^27","^2@","^2G","^20","^2["],["^1O","goog/log/log.js"],[1530991559994,"^1:","^4H","~$goog.debug.LogManager","^44","~$goog.debug.Logger"],["^1O","goog/structs/collection.js"],[1530991559994,"^1:"],["^1O","goog/events/browserevent.js"],[1530991559994,"^1:","^3=","^3P","~$goog.events.EventType","^2P","^2I"],["^1O","goog/math/integer.js"],[1530991559994,"^1:"],["^1O","goog/structs/node.js"],[1530991559994,"^1:"],["^28","^3V"],[1535586406000],["^1O","clojure/set.cljs"],[1534380137690,"^1:","^19"],["^1O","goog/uri/utils.js"],[1530991559994,"^1:","^2G","^2H","^27"],["^1O","taoensso/timbre.cljs"],[1535586406375,"^1:","^19","^2B","^3Z","~$taoensso.timbre.appenders.core"],["^1O","goog/json/json.js"],[1530991559994,"^1:"],["^1O","huginn/mqtt_spec.cljs"],[1540189053336,"^1:","^19","^1=","^14","^1?","^17","^1<","^15","^A","^F","^18"],["^1O","goog/events/listenable.js"],[1530991559994,"^1:","^4J"],["^1O","goog/net/xmlhttpfactory.js"],[1530991559994,"^1:","^3M"],["^1O","goog/net/xmlhttp.js"],[1530991559994,"^1:","^2H","~$goog.net.WrapperXmlHttpFactory","^3N"],["^1O","cljs/test.cljs"],[1534380137690,"~$shadow.test.env","^1:","^19","^2B","^2D"],["^1O","goog/net/xhrlike.js"],[1530991559994,"^1:"],["^28","^2X"],[1534380137000]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",1,"^8",5,"^9",1,"^:",21],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",["^ ","^E","^F","^G","^F","^H","^F","^I","^F","^J","^F","^K","^F","^L","^F","^M","^F","^N","^F","^O","^F","^P","^F","^Q","^F","^R","^F","^S","^F","^T","^F","^U","^F","^V","^F","^W","^F"],"^X",["^Y",[]],"^Z","^[","^12",null,"^13",["^ ","~$t","^14","~$p","^15","^15","^15","^16","^F","~$a","^A","^17","^17","^18","^18","^19","^19","^14","^14","^1:","^1:","^A","^A","^1;","^17","^1<","^1<","~$s","^1=","^1>","^1?","^1@","^1<","^1?","^1?","^F","^F","^1A","^18","^1=","^1="],"^1B",["^Y",["^1C"]],"~:shadow/js-access-global",["^Y",["Object","Error"]],"^1D",null,"~:defs",["^ ","~$sleep",["^ ","~:protocol-inline",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",65,"^8",7,"^9",65,"^:",12,"~:arglists",["^1G",["~$quote",["^1G",[["~$prom"]]]]]],"^Z","~$huginn.mqtt-spec/sleep","~:variadic",false,"^6","huginn/mqtt_spec.cljs","^:",12,"~:method-params",["^1G",[["^4Z"]]],"~:protocol-impl",null,"~:arglists-meta",["^1G",[null,null]],"^8",1,"^7",65,"^9",65,"~:max-fixed-arity",1,"~:fn-var",true,"^4X",["^1G",["^4Y",["^1G",[["^4Z"]]]]]],"~$test-chan",["^ ","^4W",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",31,"^8",7,"^9",31,"^:",16,"^4X",["^1G",["^4Y",["^1G",[[]]]]]],"^Z","~$huginn.mqtt-spec/test-chan","^50",false,"^6","huginn/mqtt_spec.cljs","^:",16,"^51",["^1G",[[]]],"^52",null,"^53",["^1G",[null,null]],"^8",1,"^7",31,"^9",31,"^54",0,"^55",true,"^4X",["^1G",["^4Y",["^1G",[[]]]]]],"~$test-send-shutdown",["^ ","^4W",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",77,"^8",12,"^9",77,"^:",30],"^Z","~$huginn.mqtt-spec/test-send-shutdown","^50",false,"^6","huginn/mqtt_spec.cljs","^:",30,"^51",["^1G",[[]]],"^52",null,"^53",["^1G",[]],"^8",1,"^7",77,"^9",77,"^54",0,"^55",true,"^4X",null,"~:test",true],"~$test-startup-shutdown",["^ ","^4W",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",20,"^8",12,"^9",20,"^:",33],"^Z","~$huginn.mqtt-spec/test-startup-shutdown","^50",false,"^6","huginn/mqtt_spec.cljs","^:",33,"^51",["^1G",[[]]],"^52",null,"^53",["^1G",[]],"^8",1,"^7",20,"^9",20,"^54",0,"^55",true,"^4X",null,"^5:",true],"~$->t_huginn$mqtt_spec19027",["^ ","^4W",null,"^5",["^ ","~:anonymous",true,"~:protocols",["^Y",["~$cljs.core/IFn","~$cljs.core/IMeta","~$cljs.test/IAsyncTest","~$cljs.core/IWithMeta"]],"~:skip-protocol-flag",["^Y",["^5@","^5A","^5C"]],"~:factory","~:positional","^4X",["^1G",["^4Y",["^1G",[["~$meta19028"]]]]],"~:doc","Positional factory function for huginn.mqtt-spec/t_huginn$mqtt_spec19027.","^6",null],"^5?",["^Y",["^5@","^5A","^5B","^5C"]],"^Z","~$huginn.mqtt-spec/->t_huginn$mqtt_spec19027","^50",false,"^6","huginn/mqtt_spec.cljs","^51",["^1G",[["^5G"]]],"^52",null,"^53",["^1G",[null,null]],"^5>",true,"^8",3,"^5E","^5F","^7",80,"^54",1,"^55",true,"^4X",["^1G",["^4Y",["^1G",[["^5G"]]]]],"^5D",["^Y",["^5@","^5A","^5C"]],"^5H","Positional factory function for huginn.mqtt-spec/t_huginn$mqtt_spec19027."],"~$start-mix-tester",["^ ","^4W",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",54,"^8",7,"^9",54,"^:",23,"^4X",["^1G",["^4Y",["^1G",[["~$system-promise"]]]]]],"^Z","~$huginn.mqtt-spec/start-mix-tester","^50",false,"^6","huginn/mqtt_spec.cljs","^:",23,"^51",["^1G",[["^5K"]]],"^52",null,"^53",["^1G",[null,null]],"^8",1,"^7",54,"^9",54,"^54",1,"^55",true,"^4X",["^1G",["^4Y",["^1G",[["^5K"]]]]]],"~$->t_huginn$mqtt_spec18993",["^ ","^4W",null,"^5",["^ ","^5>",true,"^5?",["^Y",["^5@","^5A","^5B","^5C"]],"^5D",["^Y",["^5@","^5A","^5C"]],"^5E","^5F","^4X",["^1G",["^4Y",["^1G",[["~$meta18994"]]]]],"^5H","Positional factory function for huginn.mqtt-spec/t_huginn$mqtt_spec18993.","^6",null],"^5?",["^Y",["^5@","^5A","^5B","^5C"]],"^Z","~$huginn.mqtt-spec/->t_huginn$mqtt_spec18993","^50",false,"^6","huginn/mqtt_spec.cljs","^51",["^1G",[["^5N"]]],"^52",null,"^53",["^1G",[null,null]],"^5>",true,"^8",3,"^5E","^5F","^7",22,"^54",1,"^55",true,"^4X",["^1G",["^4Y",["^1G",[["^5N"]]]]],"^5D",["^Y",["^5@","^5A","^5C"]],"^5H","Positional factory function for huginn.mqtt-spec/t_huginn$mqtt_spec18993."],"~$-start-mix-tester",["^ ","^4W",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",45,"^8",7,"^9",45,"^:",24,"^4X",["^1G",["^4Y",["^1G",[[["^ ","~:keys",["~$telemetry-chan","~$mixer"],"^1I","~$system"]]]]]]],"^Z","~$huginn.mqtt-spec/-start-mix-tester","^50",false,"^6","huginn/mqtt_spec.cljs","^:",24,"^51",["^1G",[["~$p__19001"]]],"^52",null,"^53",["^1G",[null,null]],"^8",1,"^7",45,"^9",45,"^54",1,"^55",true,"^4X",["^1G",["^4Y",["^1G",[[["^ ","^5Q",["^5R","^5S"],"^1I","^5T"]]]]]]],"~$t_huginn$mqtt_spec19027",["^ ","~:num-fields",1,"^5?",["^Y",["^5@","^5A","^5B","^5C"]],"^Z","~$huginn.mqtt-spec/t_huginn$mqtt_spec19027","^6","huginn/mqtt_spec.cljs","~:type",true,"^5>",true,"^8",3,"^7",80,"~:record",false,"~:tag","~$function","^5D",["^Y",["^5@","^5A","^5C"]]],"~$add-mixer",["^ ","^4W",null,"^5",["^ ","^6","huginn/mqtt_spec.cljs","^7",59,"^8",7,"^9",59,"^:",16,"^4X",["^1G",["^4Y",["^1G",[[["^ ","^5Q",["^5R"],"^1I","~$state"]]]]]]],"^Z","~$huginn.mqtt-spec/add-mixer","^50",false,"^6","huginn/mqtt_spec.cljs","^:",16,"^51",["^1G",[["~$p__19005"]]],"^52",null,"^53",["^1G",[null,null]],"^8",1,"^7",59,"^9",59,"^54",1,"^55",true,"^4X",["^1G",["^4Y",["^1G",[[["^ ","^5Q",["^5R"],"^1I","^63"]]]]]]],"~$t_huginn$mqtt_spec18993",["^ ","^5X",1,"^5?",["^Y",["^5@","^5A","^5B","^5C"]],"^Z","~$huginn.mqtt-spec/t_huginn$mqtt_spec18993","^6","huginn/mqtt_spec.cljs","^5Z",true,"^5>",true,"^8",3,"^7",22,"^5[",false,"^60","^61","^5D",["^Y",["^5@","^5A","^5C"]]]],"^1E",["^ ","~$t","^14","^16","^F","~$a","^A","^18","^18","^19","^19","^14","^14","^A","^A","~$s","^1=","^F","^F","^1A","^18","^1=","^1="],"~:cljs.analyzer/constants",["^ ","^1B",["^Y",["^5<","~$res","~$contains?","~$huginn.mqtt/publish-async","~$tele-send","^59","~$sys","~$publish-async","~$build-client","~$huginn.mqtt/init-client","~$huginn.mqtt/tele-send","~$success-fn","~:payload","~$p","~$data","~:else","~:subfolder","~$huginn.mqtt/client-id","~$qos","~$huginn.mqtt/payload-root","^11","~$cloudRegion","^Z","~:telemetry-chan","^1I","~$send-chan","~$recv","~$recv-chan","^58","^6","^:","~$client-id","~$prep-temps","^5T","^5;","~$publisher","~$payload","~:recur","^5Z","^[","~:debug","~$huginn.mqtt/build-client","~$init-client","~$huginn.mqtt/publisher","~$state-chan","~$delayMs","~$deviceId","^5K","^8","~$payload-root","~$config-chan","~$t-chan","^5R","~$mqtt-topic","~$huginn.mqtt/sender","~$tele-chan","~$registryId","~:fail","^5Q","~$client","^7","~$huginn.mqtt/add-handlers","~$not","~$huginn.mqtt/config-chan","~$client-handlers","~$huginn.mqtt/prep-temps","~$handlers","~$kill-it","~$topic","~$huginn.mqtt/mqtt-topic","~:expected","~:declared","~$tokenExpMins","^5G","^9","~$state-send","~$huginn.mqtt/client-handlers","~$huginn.mqtt/kill-it","~$topic-name","~$publish-one","~:error","^5N","~$fail","~$system-function","^1?","~$client-atom","~:pass","~$msg-type","~$stop","~$huginn.mqtt/state-send","^4X","~:actual","^5H","~$huginn.mqtt/stop","~$huginn.mqtt/system-function","~$sender","~:auto","~$opts","~:p","~$send","~:mixer","~$huginn.mqtt/publish-one","~$huginn.mqtt/clean-up","^5:","~$client-refresher","~:test-chan","~$add-handlers","~$userId","~$clean-up","~$huginn.mqtt/tele-chan","~$huginn.mqtt/client-refresher","~:message","~$projectId"]],"~:order",["^6A","^6;","^6U","^6G","^7<","^6W","^6@","^6I","^7:","^7@","^84","^7E","^7F","^7P","^7Y","^7S","^7R","^73","^85","^78","^7Z","^11","^Z","^6","^:","^8","^7","^9","^4X","^5H","^5:","^1?","^6<","^7B","^6>","^6?","^7V","^6O","^5Q","^1I","^87","^75","^6J","^6Z","^6P","^6D","^6Q","^7L","^6L","^6V","^7W","^6M","^6[","^82","^70","^72","^7N","^74","^7;","^6B","^7J","^7>","^5K","^7D","^7H","^77","^7?","^6R","^6H","~$p","^7K","^7O","^7T","^7G","^71","^7[","^7C","^6Y","^81","^7=","^83","^6N","^5R","^6X","^5T","^6T","~:p","^7U","^5N","^5<","^[","^5;","^6C","^6F","^6K","^7X","^80","^5Z","^7A","^7Q","^86","^7I","^6:","^69","^7M","^76","^79","^6S","^6E","^6=","^5G","^59","^58"]],"^1K",["^ ","^1C",["^Y",[]]],"^1L",["^ "],"^1M",["^1:","^19","^1=","^14","^1?","^17","^1<","^15","^A","^F","^18"]],"^11","^[","~:ns-specs",["^ "],"~:ns-speced-vars",[],"~:compiler-options",["^1[",[["^8;","~:static-fns"],true,["^8;","~:elide-asserts"],false,["^8;","~:optimize-constants"],null,["^8;","~:external-config"],null,["^8;","~:tooling-config"],null,["^8;","~:emit-constants"],null,["^8;","~:infer-externs"],true,["^8;","^1T"],null,["~:js-options","~:js-provider"],"^1C",["~:mode"],"~:dev",["^8;","~:fn-invoke-direct"],null,["^8;","~:source-map"],"/dev/null"]]]