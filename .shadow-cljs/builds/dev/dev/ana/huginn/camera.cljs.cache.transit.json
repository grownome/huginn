["^ ","~:output",["^ ","~:js","goog.provide('huginn.camera');\ngoog.require('cljs.core');\ngoog.require('promesa.core');\ngoog.require('taoensso.timbre');\ngoog.require('goog.crypt.Md5');\ngoog.require('goog.crypt.base64');\ngoog.require('goog.crypt');\ngoog.require('cljs.core.async');\ngoog.require('cljs_node_io.core');\ngoog.require('shadow.js.shim.module$raspicam');\ngoog.require('cljs.spec.alpha');\nhuginn.camera.hash_bytes = (function huginn$camera$hash_bytes(digester,bytes_in){\ndigester.update(bytes_in);\n\nreturn digester.digest();\n});\n/**\n * convert bytes to md5 bytes\n */\nhuginn.camera.md5 = (function huginn$camera$md5(bytes_in){\nvar G__40350 = huginn.camera.hash_bytes((new goog.crypt.Md5()),bytes_in);\nreturn goog.crypt.byteArrayToHex(G__40350);\n});\nhuginn.camera.cam_handlers = (function huginn$camera$cam_handlers(success_fn,stop_fn,restart_fn,read_chan){\nreturn new cljs.core.PersistentArrayMap(null, 4, [\"start\",(function (){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"huginn.camera\",null,29,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"camera connected\"], null);\n}),null)),null,669896863);\n\nreturn (success_fn.cljs$core$IFn$_invoke$arity$0 ? success_fn.cljs$core$IFn$_invoke$arity$0() : success_fn.call(null));\n}),\"stop\",(function (){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,31,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"camera stopping\"], null);\n}),null)),null,-656057716);\n\nreturn (stop_fn.cljs$core$IFn$_invoke$arity$0 ? stop_fn.cljs$core$IFn$_invoke$arity$0() : stop_fn.call(null));\n}),\"exit\",(function (err){\n(restart_fn.cljs$core$IFn$_invoke$arity$0 ? restart_fn.cljs$core$IFn$_invoke$arity$0() : restart_fn.call(null));\n\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.camera\",null,33,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"exit: \",err], null);\n}),null)),null,1591782779);\n}),\"read\",(function (err,timestamp,filename){\ntry{var result__26768__auto___40496 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [err,timestamp,filename], null);\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,35,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (result__26768__auto___40496){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"err\",\"err\",-448925678,null),new cljs.core.Symbol(null,\"timestamp\",\"timestamp\",-2074956798,null),new cljs.core.Symbol(null,\"filename\",\"filename\",211690744,null)], null),\"=>\",result__26768__auto___40496], null);\n});})(result__26768__auto___40496))\n,null)),null,177570828);\n\n}catch (e40351){if((e40351 instanceof Error)){\nvar e__26704__auto___40497 = e40351;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.camera\",null,35,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (e__26704__auto___40497){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [e__26704__auto___40497], null);\n});})(e__26704__auto___40497))\n,null)),null,1228897099);\n\nthrow e__26704__auto___40497;\n} else {\nthrow e40351;\n\n}\n}\nvar c__23855__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run(((function (c__23855__auto__){\nreturn (function (){\nvar f__23856__auto__ = (function (){var switch__23690__auto__ = ((function (c__23855__auto__){\nreturn (function (state_40358){\nvar state_val_40359 = (state_40358[(1)]);\nif((state_val_40359 === (1))){\nvar inst_40352 = [new cljs.core.Keyword(null,\"err\",\"err\",-2089457205),new cljs.core.Keyword(null,\"timestamp\",\"timestamp\",579478971),new cljs.core.Keyword(null,\"filename\",\"filename\",-1428840783)];\nvar inst_40353 = [err,timestamp,filename];\nvar inst_40354 = cljs.core.PersistentHashMap.fromArrays(inst_40352,inst_40353);\nvar state_40358__$1 = state_40358;\nreturn cljs.core.async.impl.ioc_helpers.put_BANG_(state_40358__$1,(2),read_chan,inst_40354);\n} else {\nif((state_val_40359 === (2))){\nvar inst_40356 = (state_40358[(2)]);\nvar state_40358__$1 = state_40358;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_40358__$1,inst_40356);\n} else {\nreturn null;\n}\n}\n});})(c__23855__auto__))\n;\nreturn ((function (switch__23690__auto__,c__23855__auto__){\nreturn (function() {\nvar huginn$camera$cam_handlers_$_state_machine__23691__auto__ = null;\nvar huginn$camera$cam_handlers_$_state_machine__23691__auto____0 = (function (){\nvar statearr_40360 = [null,null,null,null,null,null,null];\n(statearr_40360[(0)] = huginn$camera$cam_handlers_$_state_machine__23691__auto__);\n\n(statearr_40360[(1)] = (1));\n\nreturn statearr_40360;\n});\nvar huginn$camera$cam_handlers_$_state_machine__23691__auto____1 = (function (state_40358){\nwhile(true){\nvar ret_value__23692__auto__ = (function (){try{while(true){\nvar result__23693__auto__ = switch__23690__auto__(state_40358);\nif(cljs.core.keyword_identical_QMARK_(result__23693__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__23693__auto__;\n}\nbreak;\n}\n}catch (e40361){if((e40361 instanceof Object)){\nvar ex__23694__auto__ = e40361;\nvar statearr_40362_40498 = state_40358;\n(statearr_40362_40498[(5)] = ex__23694__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_40358);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e40361;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__23692__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__40499 = state_40358;\nstate_40358 = G__40499;\ncontinue;\n} else {\nreturn ret_value__23692__auto__;\n}\nbreak;\n}\n});\nhuginn$camera$cam_handlers_$_state_machine__23691__auto__ = function(state_40358){\nswitch(arguments.length){\ncase 0:\nreturn huginn$camera$cam_handlers_$_state_machine__23691__auto____0.call(this);\ncase 1:\nreturn huginn$camera$cam_handlers_$_state_machine__23691__auto____1.call(this,state_40358);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nhuginn$camera$cam_handlers_$_state_machine__23691__auto__.cljs$core$IFn$_invoke$arity$0 = huginn$camera$cam_handlers_$_state_machine__23691__auto____0;\nhuginn$camera$cam_handlers_$_state_machine__23691__auto__.cljs$core$IFn$_invoke$arity$1 = huginn$camera$cam_handlers_$_state_machine__23691__auto____1;\nreturn huginn$camera$cam_handlers_$_state_machine__23691__auto__;\n})()\n;})(switch__23690__auto__,c__23855__auto__))\n})();\nvar state__23857__auto__ = (function (){var statearr_40363 = (f__23856__auto__.cljs$core$IFn$_invoke$arity$0 ? f__23856__auto__.cljs$core$IFn$_invoke$arity$0() : f__23856__auto__.call(null));\n(statearr_40363[(6)] = c__23855__auto__);\n\nreturn statearr_40363;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__23857__auto__);\n});})(c__23855__auto__))\n);\n\nreturn c__23855__auto__;\n})], null);\n});\nhuginn.camera.add_handlers = (function huginn$camera$add_handlers(camera,handlers){\nvar seq__40364 = cljs.core.seq(handlers);\nvar chunk__40365 = null;\nvar count__40366 = (0);\nvar i__40367 = (0);\nwhile(true){\nif((i__40367 < count__40366)){\nvar vec__40368 = chunk__40365.cljs$core$IIndexed$_nth$arity$2(null,i__40367);\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__40368,(0),null);\nvar hand = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__40368,(1),null);\ncamera.on(key,hand);\n\n\nvar G__40500 = seq__40364;\nvar G__40501 = chunk__40365;\nvar G__40502 = count__40366;\nvar G__40503 = (i__40367 + (1));\nseq__40364 = G__40500;\nchunk__40365 = G__40501;\ncount__40366 = G__40502;\ni__40367 = G__40503;\ncontinue;\n} else {\nvar temp__5457__auto__ = cljs.core.seq(seq__40364);\nif(temp__5457__auto__){\nvar seq__40364__$1 = temp__5457__auto__;\nif(cljs.core.chunked_seq_QMARK_(seq__40364__$1)){\nvar c__4351__auto__ = cljs.core.chunk_first(seq__40364__$1);\nvar G__40504 = cljs.core.chunk_rest(seq__40364__$1);\nvar G__40505 = c__4351__auto__;\nvar G__40506 = cljs.core.count(c__4351__auto__);\nvar G__40507 = (0);\nseq__40364 = G__40504;\nchunk__40365 = G__40505;\ncount__40366 = G__40506;\ni__40367 = G__40507;\ncontinue;\n} else {\nvar vec__40371 = cljs.core.first(seq__40364__$1);\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__40371,(0),null);\nvar hand = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__40371,(1),null);\ncamera.on(key,hand);\n\n\nvar G__40508 = cljs.core.next(seq__40364__$1);\nvar G__40509 = null;\nvar G__40510 = (0);\nvar G__40511 = (0);\nseq__40364 = G__40508;\nchunk__40365 = G__40509;\ncount__40366 = G__40510;\ni__40367 = G__40511;\ncontinue;\n}\n} else {\nreturn null;\n}\n}\nbreak;\n}\n});\nhuginn.camera.decode = (function huginn$camera$decode(v){\nreturn Buffer.from(goog.crypt.base64.decodeStringToUint8Array(v));\n});\ncljs.spec.alpha.def_impl(new cljs.core.Symbol(\"huginn.camera\",\"chunk-img\",\"huginn.camera/chunk-img\",-1728618372,null),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"fspec\",\"cljs.spec.alpha/fspec\",-1289128341,null),new cljs.core.Keyword(null,\"args\",\"args\",1315556576),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"cat\",\"cljs.spec.alpha/cat\",-1471398329,null),new cljs.core.Keyword(null,\"img\",\"img\",1442687358),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"cljs.core\",\"instance?\",\"cljs.core/instance?\",2044751870,null),new cljs.core.Symbol(\"js\",\"Buffer.\",\"js/Buffer.\",1771299022,null)),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)),new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null)),new cljs.core.Keyword(null,\"fn\",\"fn\",-1175266204),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)], null)], null)], null),cljs.core.list(new cljs.core.Symbol(\"\",\"equals\",\"/equals\",1177497557,null),cljs.core.list(new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null)),cljs.core.list(new cljs.core.Symbol(\"js\",\"Buffer.concat\",\"js/Buffer.concat\",920561241,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"apply\",\"cljs.core/apply\",1757277831,null),new cljs.core.Symbol(\"cljs.core\",\"array\",\"cljs.core/array\",486685886,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map\",\"cljs.core/map\",-338988913,null),new cljs.core.Symbol(\"huginn.camera\",\"decode\",\"huginn.camera/decode\",-411159142,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null))))))),cljs.spec.alpha.fspec_impl(cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"cat\",\"cljs.spec.alpha/cat\",-1471398329,null),new cljs.core.Keyword(null,\"img\",\"img\",1442687358),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"cljs.core\",\"instance?\",\"cljs.core/instance?\",2044751870,null),new cljs.core.Symbol(\"js\",\"Buffer.\",\"js/Buffer.\",1771299022,null)),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)),cljs.spec.alpha.cat_impl(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.instance_QMARK_,Buffer),cljs.core.int_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"cljs.core\",\"instance?\",\"cljs.core/instance?\",2044751870,null),new cljs.core.Symbol(\"js\",\"Buffer.\",\"js/Buffer.\",1771299022,null)),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)], null)),null,null),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"cat\",\"cljs.spec.alpha/cat\",-1471398329,null),new cljs.core.Keyword(null,\"img\",\"img\",1442687358),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"cljs.core\",\"instance?\",\"cljs.core/instance?\",2044751870,null),new cljs.core.Symbol(\"js\",\"Buffer.\",\"js/Buffer.\",1771299022,null)),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)),cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Symbol(null,\"string?\",\"string?\",-1129175764,null),cljs.core.string_QMARK_,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(\"cljs.spec.alpha\",\"kind-form\",\"cljs.spec.alpha/kind-form\",-1047104697),null,new cljs.core.Keyword(\"cljs.spec.alpha\",\"cpred\",\"cljs.spec.alpha/cpred\",-693471218),(function (G__40374){\nreturn cljs.core.coll_QMARK_(G__40374);\n}),new cljs.core.Keyword(\"cljs.spec.alpha\",\"conform-all\",\"cljs.spec.alpha/conform-all\",45201917),true,new cljs.core.Keyword(\"cljs.spec.alpha\",\"describe\",\"cljs.spec.alpha/describe\",1883026911),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null))], null),null),null,null),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null)),cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)], null)], null)], null),cljs.core.list(new cljs.core.Symbol(\"\",\"equals\",\"/equals\",1177497557,null),cljs.core.list(new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null)),cljs.core.list(new cljs.core.Symbol(\"js\",\"Buffer.concat\",\"js/Buffer.concat\",920561241,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"apply\",\"cljs.core/apply\",1757277831,null),new cljs.core.Symbol(\"cljs.core\",\"array\",\"cljs.core/array\",486685886,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map\",\"cljs.core/map\",-338988913,null),new cljs.core.Symbol(\"huginn.camera\",\"decode\",\"huginn.camera/decode\",-411159142,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)))))),(function (p__40375){\nvar map__40376 = p__40375;\nvar map__40376__$1 = ((((!((map__40376 == null)))?(((((map__40376.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__40376.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__40376):map__40376);\nvar args = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40376__$1,new cljs.core.Keyword(null,\"args\",\"args\",1315556576));\nvar ret = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40376__$1,new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814));\nreturn new cljs.core.Keyword(null,\"img\",\"img\",1442687358).cljs$core$IFn$_invoke$arity$1(args).equals(Buffer.concat(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.array,cljs.core.map.cljs$core$IFn$_invoke$arity$2(huginn.camera.decode,ret))));\n}),null,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)], null)], null)], null),cljs.core.list(new cljs.core.Symbol(\"\",\"equals\",\"/equals\",1177497557,null),cljs.core.list(new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null)),cljs.core.list(new cljs.core.Symbol(\"js\",\"Buffer.concat\",\"js/Buffer.concat\",920561241,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"apply\",\"cljs.core/apply\",1757277831,null),new cljs.core.Symbol(\"cljs.core\",\"array\",\"cljs.core/array\",486685886,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map\",\"cljs.core/map\",-338988913,null),new cljs.core.Symbol(\"huginn.camera\",\"decode\",\"huginn.camera/decode\",-411159142,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)))))),null));\nhuginn.camera.chunk_img = (function huginn$camera$chunk_img(img,chunk_size){\n\nvar points = cljs.core.range.cljs$core$IFn$_invoke$arity$2((0),img.length);\nvar groups = cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2(chunk_size,points);\nvar starts = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first,groups);\nvar ends = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cljs.core.inc,cljs.core.last),groups);\nif((img.length < chunk_size)){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [img], null);\n} else {\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (points,groups,starts,ends){\nreturn (function (buff){\nvar G__40378 = (new Buffer(buff));\nreturn goog.crypt.base64.encodeByteArray(G__40378);\n});})(points,groups,starts,ends))\n,cljs.core.map.cljs$core$IFn$_invoke$arity$3(((function (points,groups,starts,ends){\nreturn (function (start,end){\nreturn img.slice(start,end);\n});})(points,groups,starts,ends))\n,starts,ends)));\n}\n});\nhuginn.camera.read_imgs = (function huginn$camera$read_imgs(output_dir,in$,out){\nvar c__23855__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run(((function (c__23855__auto__){\nreturn (function (){\nvar f__23856__auto__ = (function (){var switch__23690__auto__ = ((function (c__23855__auto__){\nreturn (function (state_40448){\nvar state_val_40449 = (state_40448[(1)]);\nif((state_val_40449 === (7))){\nvar inst_40398 = (state_40448[(2)]);\nvar state_40448__$1 = state_40448;\nif(cljs.core.truth_(inst_40398)){\nvar statearr_40450_40517 = state_40448__$1;\n(statearr_40450_40517[(1)] = (11));\n\n} else {\nvar statearr_40451_40518 = state_40448__$1;\n(statearr_40451_40518[(1)] = (12));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (20))){\nvar inst_40444 = (state_40448[(2)]);\nvar state_40448__$1 = state_40448;\nvar statearr_40452_40519 = state_40448__$1;\n(statearr_40452_40519[(2)] = inst_40444);\n\n(statearr_40452_40519[(1)] = (3));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (1))){\nvar state_40448__$1 = state_40448;\nvar statearr_40453_40523 = state_40448__$1;\n(statearr_40453_40523[(2)] = null);\n\n(statearr_40453_40523[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (4))){\nvar inst_40382 = (state_40448[(7)]);\nvar inst_40382__$1 = (state_40448[(2)]);\nvar inst_40384 = (inst_40382__$1 == null);\nvar inst_40385 = cljs.core.not(inst_40384);\nvar state_40448__$1 = (function (){var statearr_40454 = state_40448;\n(statearr_40454[(7)] = inst_40382__$1);\n\nreturn statearr_40454;\n})();\nif(inst_40385){\nvar statearr_40455_40524 = state_40448__$1;\n(statearr_40455_40524[(1)] = (5));\n\n} else {\nvar statearr_40456_40525 = state_40448__$1;\n(statearr_40456_40525[(1)] = (6));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (15))){\nvar inst_40417 = (state_40448[(8)]);\nvar state_40448__$1 = state_40448;\nvar statearr_40457_40526 = state_40448__$1;\n(statearr_40457_40526[(2)] = inst_40417);\n\n(statearr_40457_40526[(1)] = (17));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (21))){\nvar inst_40433 = (state_40448[(9)]);\nvar inst_40431 = (state_40448[(10)]);\nvar inst_40417 = (state_40448[(8)]);\nvar inst_40430 = (state_40448[(11)]);\nvar inst_40406 = (state_40448[(12)]);\nvar inst_40405 = (state_40448[(13)]);\nvar inst_40418 = (state_40448[(14)]);\nvar inst_40416 = (state_40448[(15)]);\nvar inst_40403 = (state_40448[(16)]);\nvar inst_40438 = (state_40448[(2)]);\nvar inst_40439 = (function (){var complete = inst_40433;\nvar byte_hash = inst_40431;\nvar timestamp = inst_40405;\nvar img_buffers = inst_40430;\nvar vec__40410 = inst_40416;\nvar map__40380 = inst_40403;\nvar img_data = inst_40418;\nvar err = inst_40417;\nvar img_packets = inst_40433;\nvar filename = inst_40406;\nvar img_res = inst_40403;\nreturn ((function (complete,byte_hash,timestamp,img_buffers,vec__40410,map__40380,img_data,err,img_packets,filename,img_res,inst_40433,inst_40431,inst_40417,inst_40430,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,inst_40438,state_val_40449,c__23855__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"done xforming\"], null);\n});\n;})(complete,byte_hash,timestamp,img_buffers,vec__40410,map__40380,img_data,err,img_packets,filename,img_res,inst_40433,inst_40431,inst_40417,inst_40430,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,inst_40438,state_val_40449,c__23855__auto__))\n})();\nvar inst_40440 = (new cljs.core.Delay(inst_40439,null));\nvar inst_40441 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,107,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_40440,null,93233142);\nvar state_40448__$1 = (function (){var statearr_40458 = state_40448;\n(statearr_40458[(17)] = inst_40438);\n\n(statearr_40458[(18)] = inst_40441);\n\nreturn statearr_40458;\n})();\nvar statearr_40459_40527 = state_40448__$1;\n(statearr_40459_40527[(2)] = null);\n\n(statearr_40459_40527[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (13))){\nvar inst_40406 = (state_40448[(12)]);\nvar inst_40405 = (state_40448[(13)]);\nvar inst_40403 = (state_40448[(16)]);\nvar inst_40403__$1 = (state_40448[(2)]);\nvar inst_40404 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(inst_40403__$1,new cljs.core.Keyword(null,\"err\",\"err\",-2089457205));\nvar inst_40405__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(inst_40403__$1,new cljs.core.Keyword(null,\"timestamp\",\"timestamp\",579478971));\nvar inst_40406__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(inst_40403__$1,new cljs.core.Keyword(null,\"filename\",\"filename\",-1428840783));\nvar inst_40407 = (function (){var map__40380 = inst_40403__$1;\nvar img_res = inst_40403__$1;\nvar err = inst_40404;\nvar timestamp = inst_40405__$1;\nvar filename = inst_40406__$1;\nreturn ((function (map__40380,img_res,err,timestamp,filename,inst_40406,inst_40405,inst_40403,inst_40403__$1,inst_40404,inst_40405__$1,inst_40406__$1,state_val_40449,c__23855__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"xforming image \",filename], null);\n});\n;})(map__40380,img_res,err,timestamp,filename,inst_40406,inst_40405,inst_40403,inst_40403__$1,inst_40404,inst_40405__$1,inst_40406__$1,state_val_40449,c__23855__auto__))\n})();\nvar inst_40408 = (new cljs.core.Delay(inst_40407,null));\nvar inst_40409 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,86,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_40408,null,-1521725051);\nvar inst_40413 = [cljs.core.str.cljs$core$IFn$_invoke$arity$1(output_dir),\"/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(inst_40406__$1)].join('');\nvar inst_40414 = cljs_node_io.core.aslurp.cljs$core$IFn$_invoke$arity$variadic(inst_40413,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"encoding\",\"encoding\",1728578272),\"\"], 0));\nvar state_40448__$1 = (function (){var statearr_40460 = state_40448;\n(statearr_40460[(19)] = inst_40409);\n\n(statearr_40460[(12)] = inst_40406__$1);\n\n(statearr_40460[(13)] = inst_40405__$1);\n\n(statearr_40460[(16)] = inst_40403__$1);\n\nreturn statearr_40460;\n})();\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_40448__$1,(14),inst_40414);\n} else {\nif((state_val_40449 === (6))){\nvar state_40448__$1 = state_40448;\nvar statearr_40461_40528 = state_40448__$1;\n(statearr_40461_40528[(2)] = false);\n\n(statearr_40461_40528[(1)] = (7));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (17))){\nvar inst_40423 = (state_40448[(2)]);\nvar state_40448__$1 = state_40448;\nif(cljs.core.truth_(inst_40423)){\nvar statearr_40462_40529 = state_40448__$1;\n(statearr_40462_40529[(1)] = (18));\n\n} else {\nvar statearr_40463_40530 = state_40448__$1;\n(statearr_40463_40530[(1)] = (19));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (3))){\nvar inst_40446 = (state_40448[(2)]);\nvar state_40448__$1 = state_40448;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_40448__$1,inst_40446);\n} else {\nif((state_val_40449 === (12))){\nvar inst_40382 = (state_40448[(7)]);\nvar state_40448__$1 = state_40448;\nvar statearr_40464_40531 = state_40448__$1;\n(statearr_40464_40531[(2)] = inst_40382);\n\n(statearr_40464_40531[(1)] = (13));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (2))){\nvar state_40448__$1 = state_40448;\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_40448__$1,(4),in$);\n} else {\nif((state_val_40449 === (19))){\nvar inst_40433 = (state_40448[(9)]);\nvar inst_40431 = (state_40448[(10)]);\nvar inst_40417 = (state_40448[(8)]);\nvar inst_40430 = (state_40448[(11)]);\nvar inst_40406 = (state_40448[(12)]);\nvar inst_40405 = (state_40448[(13)]);\nvar inst_40418 = (state_40448[(14)]);\nvar inst_40416 = (state_40448[(15)]);\nvar inst_40403 = (state_40448[(16)]);\nvar inst_40430__$1 = huginn.camera.chunk_img(inst_40418,(50000));\nvar inst_40431__$1 = huginn.camera.md5(inst_40418);\nvar inst_40432 = (function (){var map__40380 = inst_40403;\nvar img_res = inst_40403;\nvar err = inst_40417;\nvar timestamp = inst_40405;\nvar filename = inst_40406;\nvar vec__40410 = inst_40416;\nvar img_data = inst_40418;\nvar img_buffers = inst_40430__$1;\nvar byte_hash = inst_40431__$1;\nreturn ((function (map__40380,img_res,err,timestamp,filename,vec__40410,img_data,img_buffers,byte_hash,inst_40433,inst_40431,inst_40417,inst_40430,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,inst_40430__$1,inst_40431__$1,state_val_40449,c__23855__auto__){\nreturn (function (index,payload){\nreturn cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"payload\",\"payload\",-383036092),new cljs.core.Keyword(null,\"timestamp\",\"timestamp\",579478971),new cljs.core.Keyword(null,\"subfolder\",\"subfolder\",1044158439)],[payload,timestamp,[\"captures/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(byte_hash),\"/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1((cljs.core.count(img_buffers) - (1))),\"/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(index)].join('')]);\n});\n;})(map__40380,img_res,err,timestamp,filename,vec__40410,img_data,img_buffers,byte_hash,inst_40433,inst_40431,inst_40417,inst_40430,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,inst_40430__$1,inst_40431__$1,state_val_40449,c__23855__auto__))\n})();\nvar inst_40433__$1 = cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(inst_40432,inst_40430__$1);\nvar inst_40434 = (function (){var complete = inst_40433__$1;\nvar byte_hash = inst_40431__$1;\nvar timestamp = inst_40405;\nvar img_buffers = inst_40430__$1;\nvar vec__40410 = inst_40416;\nvar map__40380 = inst_40403;\nvar img_data = inst_40418;\nvar err = inst_40417;\nvar img_packets = inst_40433__$1;\nvar filename = inst_40406;\nvar img_res = inst_40403;\nreturn ((function (complete,byte_hash,timestamp,img_buffers,vec__40410,map__40380,img_data,err,img_packets,filename,img_res,inst_40433,inst_40431,inst_40417,inst_40430,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,inst_40430__$1,inst_40431__$1,inst_40432,inst_40433__$1,state_val_40449,c__23855__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"trying to write img packet\"], null);\n});\n;})(complete,byte_hash,timestamp,img_buffers,vec__40410,map__40380,img_data,err,img_packets,filename,img_res,inst_40433,inst_40431,inst_40417,inst_40430,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,inst_40430__$1,inst_40431__$1,inst_40432,inst_40433__$1,state_val_40449,c__23855__auto__))\n})();\nvar inst_40435 = (new cljs.core.Delay(inst_40434,null));\nvar inst_40436 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,105,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_40435,null,587790510);\nvar state_40448__$1 = (function (){var statearr_40465 = state_40448;\n(statearr_40465[(9)] = inst_40433__$1);\n\n(statearr_40465[(10)] = inst_40431__$1);\n\n(statearr_40465[(11)] = inst_40430__$1);\n\n(statearr_40465[(20)] = inst_40436);\n\nreturn statearr_40465;\n})();\nreturn cljs.core.async.impl.ioc_helpers.put_BANG_(state_40448__$1,(21),out,inst_40433__$1);\n} else {\nif((state_val_40449 === (11))){\nvar inst_40382 = (state_40448[(7)]);\nvar inst_40400 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,inst_40382);\nvar state_40448__$1 = state_40448;\nvar statearr_40466_40532 = state_40448__$1;\n(statearr_40466_40532[(2)] = inst_40400);\n\n(statearr_40466_40532[(1)] = (13));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (9))){\nvar state_40448__$1 = state_40448;\nvar statearr_40467_40533 = state_40448__$1;\n(statearr_40467_40533[(2)] = false);\n\n(statearr_40467_40533[(1)] = (10));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (5))){\nvar inst_40382 = (state_40448[(7)]);\nvar inst_40387 = inst_40382.cljs$lang$protocol_mask$partition0$;\nvar inst_40388 = (inst_40387 & (64));\nvar inst_40389 = inst_40382.cljs$core$ISeq$;\nvar inst_40390 = (cljs.core.PROTOCOL_SENTINEL === inst_40389);\nvar inst_40391 = ((inst_40388) || (inst_40390));\nvar state_40448__$1 = state_40448;\nif(cljs.core.truth_(inst_40391)){\nvar statearr_40468_40534 = state_40448__$1;\n(statearr_40468_40534[(1)] = (8));\n\n} else {\nvar statearr_40469_40535 = state_40448__$1;\n(statearr_40469_40535[(1)] = (9));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (14))){\nvar inst_40417 = (state_40448[(8)]);\nvar inst_40416 = (state_40448[(15)]);\nvar inst_40416__$1 = (state_40448[(2)]);\nvar inst_40417__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(inst_40416__$1,(0),null);\nvar inst_40418 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(inst_40416__$1,(1),null);\nvar state_40448__$1 = (function (){var statearr_40470 = state_40448;\n(statearr_40470[(8)] = inst_40417__$1);\n\n(statearr_40470[(14)] = inst_40418);\n\n(statearr_40470[(15)] = inst_40416__$1);\n\nreturn statearr_40470;\n})();\nif(cljs.core.truth_(inst_40417__$1)){\nvar statearr_40471_40536 = state_40448__$1;\n(statearr_40471_40536[(1)] = (15));\n\n} else {\nvar statearr_40472_40537 = state_40448__$1;\n(statearr_40472_40537[(1)] = (16));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (16))){\nvar inst_40406 = (state_40448[(12)]);\nvar inst_40421 = cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(inst_40406,\"\");\nvar state_40448__$1 = state_40448;\nvar statearr_40473_40538 = state_40448__$1;\n(statearr_40473_40538[(2)] = inst_40421);\n\n(statearr_40473_40538[(1)] = (17));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (10))){\nvar inst_40395 = (state_40448[(2)]);\nvar state_40448__$1 = state_40448;\nvar statearr_40474_40539 = state_40448__$1;\n(statearr_40474_40539[(2)] = inst_40395);\n\n(statearr_40474_40539[(1)] = (7));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (18))){\nvar inst_40417 = (state_40448[(8)]);\nvar inst_40406 = (state_40448[(12)]);\nvar inst_40405 = (state_40448[(13)]);\nvar inst_40418 = (state_40448[(14)]);\nvar inst_40416 = (state_40448[(15)]);\nvar inst_40403 = (state_40448[(16)]);\nvar inst_40425 = (function (){var map__40380 = inst_40403;\nvar img_res = inst_40403;\nvar err = inst_40417;\nvar timestamp = inst_40405;\nvar filename = inst_40406;\nvar vec__40410 = inst_40416;\nvar img_data = inst_40418;\nreturn ((function (map__40380,img_res,err,timestamp,filename,vec__40410,img_data,inst_40417,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,state_val_40449,c__23855__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"error reading image:\",err,\" \",filename], null);\n});\n;})(map__40380,img_res,err,timestamp,filename,vec__40410,img_data,inst_40417,inst_40406,inst_40405,inst_40418,inst_40416,inst_40403,state_val_40449,c__23855__auto__))\n})();\nvar inst_40426 = (new cljs.core.Delay(inst_40425,null));\nvar inst_40427 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.camera\",null,90,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_40426,null,-625064148);\nvar state_40448__$1 = (function (){var statearr_40475 = state_40448;\n(statearr_40475[(21)] = inst_40427);\n\nreturn statearr_40475;\n})();\nvar statearr_40476_40540 = state_40448__$1;\n(statearr_40476_40540[(2)] = null);\n\n(statearr_40476_40540[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_40449 === (8))){\nvar state_40448__$1 = state_40448;\nvar statearr_40477_40541 = state_40448__$1;\n(statearr_40477_40541[(2)] = true);\n\n(statearr_40477_40541[(1)] = (10));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nreturn null;\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n});})(c__23855__auto__))\n;\nreturn ((function (switch__23690__auto__,c__23855__auto__){\nreturn (function() {\nvar huginn$camera$read_imgs_$_state_machine__23691__auto__ = null;\nvar huginn$camera$read_imgs_$_state_machine__23691__auto____0 = (function (){\nvar statearr_40478 = [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];\n(statearr_40478[(0)] = huginn$camera$read_imgs_$_state_machine__23691__auto__);\n\n(statearr_40478[(1)] = (1));\n\nreturn statearr_40478;\n});\nvar huginn$camera$read_imgs_$_state_machine__23691__auto____1 = (function (state_40448){\nwhile(true){\nvar ret_value__23692__auto__ = (function (){try{while(true){\nvar result__23693__auto__ = switch__23690__auto__(state_40448);\nif(cljs.core.keyword_identical_QMARK_(result__23693__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__23693__auto__;\n}\nbreak;\n}\n}catch (e40479){if((e40479 instanceof Object)){\nvar ex__23694__auto__ = e40479;\nvar statearr_40480_40542 = state_40448;\n(statearr_40480_40542[(5)] = ex__23694__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_40448);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e40479;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__23692__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__40543 = state_40448;\nstate_40448 = G__40543;\ncontinue;\n} else {\nreturn ret_value__23692__auto__;\n}\nbreak;\n}\n});\nhuginn$camera$read_imgs_$_state_machine__23691__auto__ = function(state_40448){\nswitch(arguments.length){\ncase 0:\nreturn huginn$camera$read_imgs_$_state_machine__23691__auto____0.call(this);\ncase 1:\nreturn huginn$camera$read_imgs_$_state_machine__23691__auto____1.call(this,state_40448);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nhuginn$camera$read_imgs_$_state_machine__23691__auto__.cljs$core$IFn$_invoke$arity$0 = huginn$camera$read_imgs_$_state_machine__23691__auto____0;\nhuginn$camera$read_imgs_$_state_machine__23691__auto__.cljs$core$IFn$_invoke$arity$1 = huginn$camera$read_imgs_$_state_machine__23691__auto____1;\nreturn huginn$camera$read_imgs_$_state_machine__23691__auto__;\n})()\n;})(switch__23690__auto__,c__23855__auto__))\n})();\nvar state__23857__auto__ = (function (){var statearr_40481 = (f__23856__auto__.cljs$core$IFn$_invoke$arity$0 ? f__23856__auto__.cljs$core$IFn$_invoke$arity$0() : f__23856__auto__.call(null));\n(statearr_40481[(6)] = c__23855__auto__);\n\nreturn statearr_40481;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__23857__auto__);\n});})(c__23855__auto__))\n);\n\nreturn c__23855__auto__;\n});\nhuginn.camera.build_camera = (function huginn$camera$build_camera(var_args){\nvar G__40483 = arguments.length;\nswitch (G__40483) {\ncase 0:\nreturn huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0();\n\nbreak;\ncase 1:\nreturn huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\nhuginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0 = (function (){\nreturn huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);\n});\n\nhuginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1 = (function (p__40484){\nvar map__40485 = p__40484;\nvar map__40485__$1 = ((((!((map__40485 == null)))?(((((map__40485.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__40485.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__40485):map__40485);\nvar opts = map__40485__$1;\nvar output_dir = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__40485__$1,new cljs.core.Keyword(null,\"output-dir\",\"output-dir\",-290956991),\"pics\");\nvar tl = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__40485__$1,new cljs.core.Keyword(null,\"tl\",\"tl\",-35265210),(((60) * (1000)) * (5)));\nvar mode = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__40485__$1,new cljs.core.Keyword(null,\"mode\",\"mode\",654403691),\"timelapse\");\nvar encoding = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__40485__$1,new cljs.core.Keyword(null,\"encoding\",\"encoding\",1728578272),\"jpg\");\nreturn promesa.core.promise(((function (map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (resolve,reject){\nvar snap_chan = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nvar data_chan = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nvar camera = (new shadow.js.shim.module$raspicam(({\"output\": [cljs.core.str.cljs$core$IFn$_invoke$arity$1(output_dir),\"/%04d_img.jpg\"].join(''), \"mode\": mode, \"encoding\": encoding, \"tl\": tl})));\nvar output = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,\"raw-chan\",\"raw-chan\",-779682305),snap_chan,new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063),data_chan,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585),camera], null);\nvar handlers = huginn.camera.cam_handlers(((function (snap_chan,data_chan,camera,output,map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (){\nreturn (resolve.cljs$core$IFn$_invoke$arity$1 ? resolve.cljs$core$IFn$_invoke$arity$1(output) : resolve.call(null,output));\n});})(snap_chan,data_chan,camera,output,map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding))\n,((function (snap_chan,data_chan,camera,output,map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (){\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs_node_io.core.delete_file,cljs_node_io.core.file_seq(output_dir)));\n});})(snap_chan,data_chan,camera,output,map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding))\n,((function (snap_chan,data_chan,camera,output,map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (){\nreturn camera.start();\n});})(snap_chan,data_chan,camera,output,map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding))\n,snap_chan);\nhuginn.camera.read_imgs(output_dir,snap_chan,data_chan);\n\nhuginn.camera.add_handlers(camera,handlers);\n\nreturn camera.start();\n});})(map__40485,map__40485__$1,opts,output_dir,tl,mode,encoding))\n);\n});\n\nhuginn.camera.build_camera.cljs$lang$maxFixedArity = 1;\n\nhuginn.camera.cleanup_camera = (function huginn$camera$cleanup_camera(p__40487){\nvar map__40488 = p__40487;\nvar map__40488__$1 = ((((!((map__40488 == null)))?(((((map__40488.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__40488.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__40488):map__40488);\nvar system = map__40488__$1;\nvar camera = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40488__$1,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585));\nvar snap_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40488__$1,new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063));\ncamera.stop();\n\ncljs.core.async.close_BANG_(snap_chan);\n\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(system,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585)),new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063));\n});\nhuginn.camera._start_mix_camera = (function huginn$camera$_start_mix_camera(p__40490){\nvar map__40491 = p__40490;\nvar map__40491__$1 = ((((!((map__40491 == null)))?(((((map__40491.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__40491.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__40491):map__40491);\nvar system = map__40491__$1;\nvar telemetry_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40491__$1,new cljs.core.Keyword(null,\"telemetry-chan\",\"telemetry-chan\",-1991836503));\nvar mixer = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40491__$1,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315));\nvar camera_p = huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0();\nreturn promesa.core.then(camera_p,((function (camera_p,map__40491,map__40491__$1,system,telemetry_chan,mixer){\nreturn (function (p__40493){\nvar map__40494 = p__40493;\nvar map__40494__$1 = ((((!((map__40494 == null)))?(((((map__40494.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__40494.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__40494):map__40494);\nvar snap_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40494__$1,new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063));\nvar camera = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__40494__$1,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585));\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"huginn.camera\",null,157,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (map__40494,map__40494__$1,snap_chan,camera,camera_p,map__40491,map__40491__$1,system,telemetry_chan,mixer){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"connecting camera to mixer\"], null);\n});})(map__40494,map__40494__$1,snap_chan,camera,camera_p,map__40491,map__40491__$1,system,telemetry_chan,mixer))\n,null)),null,-1988913618);\n\ncljs.core.async.admix(mixer,snap_chan);\n\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(system,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585),camera),new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315),mixer),new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063),snap_chan)], null);\n});})(camera_p,map__40491,map__40491__$1,system,telemetry_chan,mixer))\n);\n});\nhuginn.camera.start_mix_camera = (function huginn$camera$start_mix_camera(system_promise){\nreturn promesa.core.then(system_promise,huginn.camera._start_mix_camera);\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","huginn/camera.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",18],"~:ns-aliases",["^ ","~$jsonwebtoken","~$shadow.js.shim.module$jsonwebtoken","~$mqtt","~$shadow.js.shim.module$mqtt","~$systeminformation","~$shadow.js.shim.module$systeminformation","~$clojure.core.async","~$cljs.core.async","~$raspicam","~$shadow.js.shim.module$raspicam"],"~:use-macros",["^ ","~$get-env","~$taoensso.timbre","~$log","^H","~$logf","^H","~$reportf","^H","~$fatalf","^H","~$warnf","^H","~$report","^H","~$spy","^H","~$warn","^H","~$trace","^H","~$debug","^H","~$debugf","^H","~$tracef","^H","~$infof","^H","~$fatal","^H","~$errorf","^H","~$info","^H","~$error","^H"],"~:excludes",["~#set",[]],"~:name","~$huginn.camera","~:op","~:ns","~:imports",null,"~:requires",["^ ","^D","^E","~$goog.crypt","^16","~$MD5","~$goog.crypt.Md5","~$p","~$promesa.core","^19","^19","~$timbre","^H","~$a","^C","~$r","^E","~$cljs.core","^1;","~$goog.crypt.base64","^1<","~$io","~$cljs-node-io.core","~$goog","^1?","^C","^C","~$gcrypt","^16","^B","^C","^1>","^1>","~$spec","~$cljs.spec.alpha","^H","^H","~$b64","^1<","^1B","^1B","^18","^18","^E","^E"],"~:seen",["^[",["~:require"]],"~:uses",null,"~:require-macros",["^ ","^H","^H","^1:","^H","^1;","^1;","~$a","^C","^C","^C","^B","^C","^1A","^1B","^1B","^1B"],"~:form",["~#list",["~$ns","^11",["^1I",["^1E",["^19","~:as","~$p"],["^H","^1K","^1:","~:refer-macros",["^I","^Q","^R","^X","^P","^Y","^V","^N","^J","^T","^S","^U","^M","^W","^L","^K","^O","^G"]],["^18","^1K","^17"],["^1<","^1K","^1C"],["^16","^1K","^1@"],["^B","^1K","~$a"],["^1>","^1K","^1="],["^D","^1K","~$r"],["^1B","^1K","^1A"]]]]],"~:flags",["^ ","^1E",["^[",[]]],"~:js-deps",["^ "],"~:deps",["^1?","^1;","^19","^H","^18","^1<","^16","^C","^1>","^E","^1B"]],"^13","^11","~:resource-id",["~:shadow.build.classpath/resource","huginn/camera.cljs"],"~:compiled-at",1540147993315,"~:resource-name","huginn/camera.cljs","~:warnings",[],"~:source","(ns huginn.camera\n  (:require\n   [promesa.core :as p]\n   [taoensso.timbre :as timbre\n    :refer-macros [log  trace  debug  info  warn  error  fatal  report\n                   logf tracef debugf infof warnf errorf fatalf reportf\n                   spy get-env]]\n   [goog.crypt.Md5 :as MD5]\n   [goog.crypt.base64 :as b64]\n   [goog.crypt :as gcrypt]\n   [clojure.core.async :as a]\n   [cljs-node-io.core :as io]\n   [raspicam :as r]\n   [cljs.spec.alpha :as spec]))\n\n(defn hash-bytes [digester bytes-in]\n  (do\n    (.update digester bytes-in)\n    (.digest digester)))\n\n(defn md5\n  \"convert bytes to md5 bytes\"\n  [bytes-in]\n  (gcrypt/byteArrayToHex (hash-bytes (goog.crypt.Md5.) bytes-in)))\n\n(defn cam-handlers\n  [success-fn stop-fn restart-fn read-chan ]\n  {\"start\" (fn []\n             (info \"camera connected\")\n             (success-fn))\n   \"stop\"   (fn [] (debug \"camera stopping\")\n              (stop-fn))\n   \"exit\"   (fn [err] (restart-fn) (error \"exit: \" err))\n   \"read\" (fn [err timestamp filename]\n               (spy :debug [err timestamp filename])\n            (a/go\n              (let []\n                (a/>! read-chan {:err err\n                                 :timestamp timestamp\n                                 :filename filename}))))})\n\n\n\n(defn add-handlers\n  [camera handlers]\n  (doseq [[key hand] handlers]\n    (.on camera key hand)))\n\n\n(defn decode\n  [v]\n  (js/Buffer.from\n   (b64/decodeStringToUint8Array\n    v\n    ))\n\n  )\n\n(spec/fdef chunk-img\n  :args (spec/cat :img (partial instance? js/Buffer.)\n                  :chunk-size int?)\n  :ret (spec/coll-of string?)\n  :fn  (fn [{:keys [args ret]}]\n         (.equals (:img args) (js/Buffer.concat (apply array (map decode ret))))))\n\n\n(defn chunk-img\n  [img chunk-size]\n  \"\"\n  (let [points   (range 0 (.-length img))\n        groups   (partition-all chunk-size points)\n        starts   (map first groups)\n        ends     (map (comp inc last) groups)]\n    (if (< (.-length img) chunk-size)\n      [img]\n      (->> (map (fn [start end] (.slice img start end)) starts ends)\n           (map (fn [buff] (b64/encodeByteArray  (js/Buffer. buff))))\n           (into [])))))\n\n\n(defn read-imgs\n  [output-dir in out]\n  (a/go-loop []\n    (let [{:keys [err timestamp filename]\n           :as img-res} (a/<! in)]\n      (debug \"xforming image \" filename)\n      (let [[err img-data] (a/<!\n                            (io/aslurp (str output-dir \"/\" filename) :encoding \"\"))]\n        (if (or err (= filename \"\"))\n          (do (error \"error reading image:\" err \" \" filename)\n              (recur))\n          (let [img-buffers (chunk-img img-data  50000)\n                byte-hash (md5 img-data)\n                img-packets (map-indexed\n                             (fn [index payload]\n                               (hash-map :payload payload\n                                         :timestamp timestamp\n                                         :subfolder (str \"captures/\"\n                                                         byte-hash\n                                                         \"/\"\n                                                         (- (count img-buffers) 1)\n                                                         \"/\"\n                                                         index))) img-buffers)\n               complete  img-packets]\n            (debug \"trying to write img packet\")\n            (a/>! out complete)\n            (debug \"done xforming\")\n            (recur)))))))\n\n(defn build-camera\n  ([] (build-camera {}))\n  ([{:keys [output-dir tl mode encoding]\n     :or {output-dir \"pics\"\n          mode \"timelapse\"\n          encoding \"jpg\"\n          tl (* 60 1000 5)} :as opts} ]\n   (p/promise\n    (fn [resolve reject]\n      (let [snap-chan (a/chan)\n            data-chan (a/chan)\n            ^RaspiCam\n            camera (r.\n                    #js\n                    {:output (str output-dir \"/%04d_img.jpg\")\n                     :mode mode\n                     :encoding encoding\n                     :tl tl})\n            output {:raw-chan snap-chan\n                    :snap-chan data-chan\n                    :camera camera}\n            handlers (cam-handlers\n                      #(resolve output)\n                      #(doall\n                        (map io/delete-file\n                             (io/file-seq output-dir)))\n                      #(.start camera)\n                      snap-chan)]\n        (read-imgs output-dir snap-chan data-chan)\n        (add-handlers camera handlers)\n        (.start camera))))))\n\n\n(defn cleanup-camera\n  [{:keys [camera snap-chan] :as system}]\n  (.stop camera)\n  (a/close! snap-chan)\n  (-> system\n      (dissoc :camera)\n      (dissoc :snap-chan)))\n\n\n(defn -start-mix-camera\n  [{:keys [telemetry-chan mixer] :as system}]\n  (let [camera-p (build-camera)]\n    (p/then camera-p\n            (fn [{:keys [snap-chan camera]}]\n              (info \"connecting camera to mixer\")\n              (a/admix mixer snap-chan)\n              [(-> system\n                   (assoc :camera camera)\n                   (assoc :mixer mixer)\n                   (assoc :snap-chan snap-chan))]))))\n\n(defn start-mix-camera\n  [system-promise]\n  (p/then system-promise -start-mix-camera))\n","~:reader-features",["^[",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["huginn.camera/hash-bytes","digester","bytes-in","huginn.camera/md5","G__40350","goog.crypt/byteArrayToHex","goog/crypt.Md5","huginn.camera/cam-handlers","success-fn","stop-fn","restart-fn","read-chan","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10","taoensso.timbre/*config*","cljs.core/Delay","err","timestamp","filename","result__26768__auto__","e40351","js/Error","e__26704__auto__","c__23855__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__23856__auto__","switch__23690__auto__","state_40358","state_val_40359","inst_40352","inst_40353","inst_40354","cljs.core/PersistentHashMap","cljs.core.async.impl.ioc-helpers/put!","inst_40356","cljs.core.async.impl.ioc-helpers/return-chan","statearr-40360","state-machine__23691__auto__","ret-value__23692__auto__","result__23693__auto__","cljs.core/keyword-identical?","e40361","js/Object","ex__23694__auto__","statearr-40362","cljs.core.async.impl.ioc-helpers/process-exception","state__23857__auto__","statearr-40363","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","huginn.camera/add-handlers","camera","handlers","seq__40364","cljs.core/seq","chunk__40365","count__40366","i__40367","vec__40368","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","temp__5457__auto__","cljs.core/chunked-seq?","c__4351__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__40371","cljs.core/first","cljs.core/next","key","hand","huginn.camera/decode","v","js/Buffer.from","goog.crypt.base64/decodeStringToUint8Array","cljs.spec.alpha/def-impl","cljs.spec.alpha/fspec-impl","cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4","cljs.spec.alpha/cat-impl","cljs.core.partial.cljs$core$IFn$_invoke$arity$2","cljs.core/instance?","js/Buffer.","cljs.core/int?","cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4","G__40374","cljs.core/coll?","cljs.core/string?","p__40375","map__40376","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","args","ret","js/Buffer.concat","cljs.core/array","cljs.core.map.cljs$core$IFn$_invoke$arity$2","huginn.camera/chunk-img","img","chunk-size","points","cljs.core.range.cljs$core$IFn$_invoke$arity$2","groups","cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2","starts","ends","cljs.core.comp.cljs$core$IFn$_invoke$arity$2","cljs.core/inc","cljs.core/last","cljs.core.map.cljs$core$IFn$_invoke$arity$3","start","end","buff","G__40378","goog.crypt.base64/encodeByteArray","js/Buffer","cljs.core.into.cljs$core$IFn$_invoke$arity$2","huginn.camera/read-imgs","output-dir","in","out","state_40448","state_val_40449","inst_40398","statearr-40450","statearr-40451","inst_40444","statearr-40452","statearr-40453","inst_40382","inst_40384","inst_40385","cljs.core/not","statearr-40454","statearr-40455","statearr-40456","inst_40417","statearr-40457","inst_40433","inst_40431","inst_40430","inst_40406","inst_40405","inst_40418","inst_40416","inst_40403","inst_40438","inst_40439","vec__40410","map__40380","inst_40440","inst_40441","statearr-40458","statearr-40459","inst_40404","inst_40407","inst_40408","inst_40409","inst_40413","inst_40414","statearr-40460","cljs.core.async.impl.ioc-helpers/take!","statearr-40461","inst_40423","statearr-40462","statearr-40463","inst_40446","statearr-40464","inst_40432","inst_40434","inst_40435","inst_40436","statearr-40465","inst_40400","statearr-40466","statearr-40467","inst_40387","inst_40388","inst_40389","inst_40390","inst_40391","statearr-40468","statearr-40469","statearr-40470","statearr-40471","statearr-40472","inst_40421","statearr-40473","inst_40395","statearr-40474","inst_40425","inst_40426","inst_40427","statearr-40475","statearr-40476","statearr-40477","statearr-40478","e40479","statearr-40480","statearr-40481","img-res","img-data","cljs_node_io.core.aslurp.cljs$core$IFn$_invoke$arity$variadic","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","img-buffers","byte-hash","img-packets","cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2","index","payload","complete","var_args","G__40483","huginn.camera/build-camera","p__40484","map__40485","cljs.core.get.cljs$core$IFn$_invoke$arity$3","huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1","tl","mode","encoding","opts","promesa.core/promise","resolve","reject","snap-chan","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","data-chan","js/shadow.js.shim.module$raspicam","output","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","cljs-node-io.core/delete-file","cljs-node-io.core/file-seq","p__40487","map__40488","huginn.camera/cleanup-camera","system","cljs.core.async/close!","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","p__40490","map__40491","huginn.camera/-start-mix-camera","telemetry-chan","mixer","camera-p","huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0","promesa.core/then","p__40493","map__40494","cljs.core.async/admix","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","huginn.camera/start-mix-camera","system-promise"]]],"~:cache-keys",["~#cmap",[["^1Q","cljs_node_io/file.cljs"],[1537666007418,"^1?","^1;","~$goog.Uri","~$cljs-node-io.streams","~$cljs-node-io.fs","~$cljs-node-io.protocols"],["^1Q","goog/dom/tagname.js"],[1530991559994,"^1?","~$goog.dom.HtmlElement"],["^1Q","huginn/camera.cljs"],[1540147638897,"^1?","^1;","^19","^H","^18","^1<","^16","^C","^1>","^E","^1B"],["^1Q","goog/async/freelist.js"],[1530991559994,"^1?"],["^1Q","cljs/core/async/impl/ioc_helpers.cljs"],[1534380136417,"^1?","^1;","~$cljs.core.async.impl.protocols"],["^1Q","goog/labs/useragent/platform.js"],[1530991559994,"^1?","~$goog.labs.userAgent.util","~$goog.string"],["~:macro","^1;"],[1534380137000],["^1Q","goog/crypt/crypt.js"],[1530991559994,"^1?","~$goog.array","~$goog.asserts"],["^1Q","cljs/core/async.cljs"],[1534380136417,"^1?","^1;","^27","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers"],["^1Q","goog/timer/timer.js"],[1530991559994,"^1?","~$goog.Promise","~$goog.events.EventTarget"],["^1Q","cljs/spec/gen/alpha.cljs"],[1534380137690,"^1?","^1;","^22"],["^1Q","cljs/tools/reader/impl/utils.cljs"],[1535586405375,"^1?","^1;","~$clojure.string","^29"],["^1Q","cljs_node_io/fs.cljs"],[1537666007418,"^1?","^1;","^C","^27"],["^1Q","cljs_node_io/core.cljs"],[1537666007418,"^1?","^1;","^C","^27","~$cljs-node-io.file","^23","^25","^22"],["^1Q","goog/math/math.js"],[1530991559994,"^1?","^2;","^2<"],["^1Q","goog/string/stringformat.js"],[1530991559994,"^1?","^29"],["^1Q","goog/events/eventtype.js"],[1530991559994,"^1?","~$goog.userAgent"],["^1Q","goog/labs/useragent/browser.js"],[1530991559994,"^1?","^2;","^28","~$goog.object","^29"],["^1Q","goog/array/array.js"],[1530991559994,"^1?","^2<"],["^1Q","cljs_node_io/protocols.cljs"],[1537666007418,"^1?","^1;"],["^2:","~$cljs.core.async.macros"],[1534380136000],["^1Q","cljs_node_io/streams.cljs"],[1537666007418,"^1?","^1;","^22","^C","^25"],["^1Q","goog/useragent/useragent.js"],[1530991559994,"^1?","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^28","~$goog.reflect","^29"],["^1Q","goog/structs/prioritypool.js"],[1530991559994,"^1?","~$goog.structs.Pool","~$goog.structs.PriorityQueue"],["^2:","~$cljs.tools.reader.reader-types"],[1535586405000],["^1Q","goog/async/run.js"],[1530991559994,"^1?","~$goog.async.WorkQueue","~$goog.async.nextTick","~$goog.async.throwException"],["^1Q","taoensso/encore.cljs"],[1535586406568,"^1?","^1;","^2D","~$clojure.set","~$cljs.reader","~$cljs.tools.reader.edn","~$cljs.test","^2G","^29","~$goog.string.format","~$goog.string.StringBuffer","~$goog.events","~$goog.net.XhrIo","~$goog.net.XhrIoPool","~$goog.Uri.QueryData","~$goog.structs","~$goog.net.EventType","~$goog.net.ErrorCode","~$taoensso.truss"],["^1Q","goog/debug/error.js"],[1530991559994,"^1?"],["^1Q","goog/async/workqueue.js"],[1530991559994,"^1?","^2<","~$goog.async.FreeList"],["^1Q","promesa/impl/scheduler.cljc"],[1535586406328,"^1?","^1;","~$promesa.protocols"],["^1Q","goog/events/events.js"],[1530991559994,"^1?","^2<","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","~$goog.events.BrowserFeature","~$goog.events.Listenable","~$goog.events.ListenerMap"],["^1Q","goog/promise/resolver.js"],[1530991559994,"^1?"],["^1Q","goog/events/browserfeature.js"],[1530991559994,"^1?","^2F"],["^1Q","cljs/tools/reader/edn.cljs"],[1535586405375,"^1?","^1;","~$cljs.tools.reader.impl.errors","^2O","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^29","^2X"],["^1Q","goog/structs/priorityqueue.js"],[1530991559994,"^1?","~$goog.structs.Heap"],["^1Q","goog/net/xhrio.js"],[1530991559994,"^1?","~$goog.Timer","^2;","^2<","^37","^2C","~$goog.json.hybrid","~$goog.log","^33","^32","~$goog.net.HttpStatus","~$goog.net.XmlHttp","^29","^31","~$goog.structs.Map","~$goog.uri.utils","^2F"],["^1Q","goog/promise/thenable.js"],[1530991559994,"^1?"],["^1Q","promesa/impl.cljc"],[1535586406328,"^1?","^1;","^36","~$org.bluebird"],["^1Q","goog/dom/nodetype.js"],[1530991559994,"^1?"],["^2:","^H"],[1535586406000],["^1Q","cljs/tools/reader/impl/inspect.cljs"],[1535586405375,"^1?","^1;"],["^1Q","cljs/pprint.cljs"],[1534380137690,"^1?","^1;","^2D","^29","^2X"],["^2:","~$cljs.spec.gen.alpha"],[1534380137000],["^1Q","cljs/tools/reader.cljs"],[1535586405375,"^1?","^1;","^2O","^3=","^3>","^3<","^2;","^29","^2X"],["^1Q","goog/net/wrapperxmlhttpfactory.js"],[1530991559994,"^1?","~$goog.net.XhrLike","~$goog.net.XmlHttpFactory"],["^1Q","goog/events/eventtarget.js"],[1530991559994,"^1?","~$goog.Disposable","^2<","^2Y","~$goog.events.Event","^3:","^3;","^2G"],["^1Q","goog/disposable/disposable.js"],[1530991559994,"^1?","~$goog.disposable.IDisposable"],["^1Q","goog/object/object.js"],[1530991559994,"^1?"],["^1Q","goog/structs/set.js"],[1530991559994,"^1?","^31","~$goog.structs.Collection","^3F"],"~:SHADOW-TIMESTAMP",[1540077702000,1534380137000],["^1Q","goog/math/long.js"],[1530991559994,"^1?","^2<","^2L"],["^1Q","goog/events/listener.js"],[1530991559994,"^1?","~$goog.events.ListenableKey"],["^1Q","cljs/core/async/impl/channels.cljs"],[1534380136417,"^1?","^1;","^27","^2@","^2>"],["^1Q","goog/events/listenermap.js"],[1530991559994,"^1?","^2;","~$goog.events.Listener","^2G"],["^1Q","goog/events/eventid.js"],[1530991559994,"^1?"],["^1Q","taoensso/truss.cljs"],[1535586406478,"^1?","^1;","~$taoensso.truss.impl"],["^1Q","shadow/test/env.cljs"],[1540077702615,"^1?","^1;"],["^1Q","goog/functions/functions.js"],[1530991559994,"^1?"],["^1Q","cljs/core/async/impl/dispatch.cljs"],[1534380136417,"^1?","^1;","^2>","^2Q"],["^1Q","taoensso/truss/impl.cljs"],[1535586406478,"^1?","^1;","^2S"],["^1Q","clojure/walk.cljs"],[1534380137690,"^1?","^1;"],["^1Q","goog/useragent/product.js"],[1530991559994,"^1?","^2I","^2K","^2F"],["^1Q","cljs/core/async/impl/protocols.cljs"],[1534380136417,"^1?","^1;"],["^1Q","goog/net/eventtype.js"],[1530991559994,"^1?"],["^1Q","goog/structs/map.js"],[1530991559994,"^1?","~$goog.iter.Iterator","~$goog.iter.StopIteration","^2G"],["^1Q","goog/net/xhriopool.js"],[1530991559994,"^1?","^2Z","~$goog.structs.PriorityPool"],["^1Q","goog/structs/queue.js"],[1530991559994,"^1?","^2;"],["^1Q","goog/labs/useragent/engine.js"],[1530991559994,"^1?","^2;","^28","^29"],["^1Q","taoensso/timbre/appenders/core.cljs"],[1535586406375,"^1?","^1;","^2D","~$taoensso.encore"],["^1Q","cljs/reader.cljs"],[1534380137690,"^1?","^1;","^2G","^3?","^2U","^2X"],["~:shadow.build.js-support/require","bluebird"],["~$shadow.js.shim.module$bluebird","shadow.js.shim.module$bluebird.js","^1?"],["^2:","~$cljs-node-io.macros"],[1537666007000],["^2:","^1B"],[1534380137000],["^1Q","goog/asserts/asserts.js"],[1530991559994,"^1?","~$goog.debug.Error","~$goog.dom.NodeType","^29"],["^1Q","cljs/core/async/impl/buffers.cljs"],[1534380136417,"^1?","^1;","^27"],["^2:","~$cljs.pprint"],[1534380137000],["^1Q","goog/debug/logbuffer.js"],[1530991559994,"^1?","^2<","~$goog.debug.LogRecord"],["^2:","^3W"],[1535586406000],["^1Q","goog/uri/uri.js"],[1530991559994,"^1?","^2;","^2<","^29","^31","^3F","^3G","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"],["^1Q","goog/net/errorcode.js"],[1530991559994,"^1?"],["^2:","^2V"],[1534380137000],["^2:","^C"],[1534380136000],["^1Q","goog/disposable/idisposable.js"],[1530991559994,"^1?"],["^1Q","goog/crypt/md5.js"],[1530991559994,"^1?","~$goog.crypt.Hash"],["^1Q","goog/promise/promise.js"],[1530991559994,"^1?","~$goog.Thenable","^2<","^35","~$goog.async.run","^2R","^3[","~$goog.promise.Resolver"],["^1Q","cljs/core/async/impl/timers.cljs"],[1534380136417,"^1?","^1;","^27","^2=","^2@"],["^1Q","cljs/spec/alpha.cljs"],[1534380137690,"^1?","^1;","^2G","~$clojure.walk","^3I","^2D"],["^1Q","goog/debug/logrecord.js"],[1530991559994,"^1?"],["^1Q","goog/base.js"],[1530991559994],["^1Q","promesa/core.cljc"],[1535586406328,"^1?","^1;","^36","~$promesa.impl","~$promesa.impl.scheduler"],["^1Q","goog/json/hybrid.js"],[1530991559994,"^1?","^2<","~$goog.json"],["^1Q","goog/structs/structs.js"],[1530991559994,"^1?","^2;","^2G"],["^1Q","cljs/tools/reader/impl/errors.cljs"],[1535586405375,"^1?","^1;","^2O","^2D","~$cljs.tools.reader.impl.inspect"],["^1Q","org/bluebird.cljs"],[1535669979047,"^1?","^1;","^3Y"],["^1Q","clojure/string.cljs"],[1534380137690,"^1?","^1;","^29","^2X"],["^1Q","goog/structs/pool.js"],[1530991559994,"^1?","^3L","~$goog.structs.Queue","~$goog.structs.Set"],["^1Q","goog/net/httpstatus.js"],[1530991559994,"^1?"],["^1Q","goog/structs/heap.js"],[1530991559994,"^1?","^2;","^2G","~$goog.structs.Node"],["^1Q","goog/debug/entrypointregistry.js"],[1530991559994,"^1?","^2<"],["^1Q","goog/string/string.js"],[1530991559994,"^1?"],["^1Q","goog/crypt/hash.js"],[1530991559994,"^1?"],["^1Q","goog/reflect/reflect.js"],[1530991559994,"^1?"],["^1Q","goog/labs/useragent/util.js"],[1530991559994,"^1?","^29"],["^2:","~$clojure.template"],[1534380136000],["^2:","~$cljs.core.async.impl.ioc-macros"],[1534380136000],["^3X","raspicam"],["^E","shadow.js.shim.module$raspicam.js","^1?"],["^1Q","goog/debug/debug.js"],[1530991559994,"^1?","^2;","~$goog.debug.errorcontext","^2F"],["^1Q","goog/string/stringbuffer.js"],[1530991559994,"^1?"],["^1Q","goog/debug/errorcontext.js"],[1530991559994,"^1?"],["^1Q","cljs/tools/reader/reader_types.cljs"],[1535586405375,"^1?","^1;","^3=","^29","^2X"],["^1Q","promesa/protocols.cljc"],[1535586406328,"^1?","^1;"],["^1Q","goog/iter/iter.js"],[1530991559994,"^1?","^2;","^2<","~$goog.functions","~$goog.math"],["^1Q","goog/async/nexttick.js"],[1530991559994,"^1?","^37","~$goog.dom.TagName","^4D","^2I","^2J"],["^1Q","goog/debug/logger.js"],[1530991559994,"^1?","^2;","^2<","~$goog.debug","~$goog.debug.LogBuffer","^42"],["^1Q","goog/events/event.js"],[1530991559994,"^1?","^3L","~$goog.events.EventId"],["^1Q","cljs/tools/reader/impl/commons.cljs"],[1535586405375,"^1?","^1;","^3<","^2O","^3="],["^1Q","goog/dom/htmlelement.js"],[1530991559994,"^1?"],["^1Q","cljs/core.cljs"],[1534380137690,"~$goog.math.Long","~$goog.math.Integer","^29","^2G","^2;","^22","^2X"],["^1Q","goog/log/log.js"],[1530991559994,"^1?","^4G","~$goog.debug.LogManager","^42","~$goog.debug.Logger"],["^1Q","goog/structs/collection.js"],[1530991559994,"^1?"],["^1Q","goog/events/browserevent.js"],[1530991559994,"^1?","^39","^3M","~$goog.events.EventType","^2L","^2F"],["^1Q","goog/math/integer.js"],[1530991559994,"^1?"],["^1Q","goog/structs/node.js"],[1530991559994,"^1?"],["^2:","^3S"],[1535586406000],["^1Q","clojure/set.cljs"],[1534380137690,"^1?","^1;"],["^1Q","goog/uri/utils.js"],[1530991559994,"^1?","^2;","^2<","^29"],["^1Q","taoensso/timbre.cljs"],[1535586406375,"^1?","^1;","^2D","^3W","~$taoensso.timbre.appenders.core"],["^1Q","goog/json/json.js"],[1530991559994,"^1?"],["^1Q","goog/events/listenable.js"],[1530991559994,"^1?","^4I"],["^1Q","goog/net/xmlhttpfactory.js"],[1530991559994,"^1?","^3J"],["^1Q","goog/net/xmlhttp.js"],[1530991559994,"^1?","^2<","~$goog.net.WrapperXmlHttpFactory","^3K"],["^1Q","cljs/test.cljs"],[1534380137690,"~$shadow.test.env","^1?","^1;","^2D","^41"],["^1Q","goog/net/xhrlike.js"],[1530991559994,"^1?"],["^2:","^2T"],[1534380137000],["^1Q","goog/crypt/base64.js"],[1530991559994,"^1?","^2<","^16","^29","^2F","~$goog.userAgent.product"]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","huginn/camera.cljs","^7",1,"^8",5,"^9",1,"^:",18],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C","^D","^E"],"^F",["^ ","^G","^H","^I","^H","^J","^H","^K","^H","^L","^H","^M","^H","^N","^H","^O","^H","^P","^H","^Q","^H","^R","^H","^S","^H","^T","^H","^U","^H","^V","^H","^W","^H","^X","^H","^Y","^H"],"^Z",["^[",[]],"~:shadow/js-access-properties",["^[",["concat","from"]],"^10","^11","^14",null,"^15",["^ ","^D","^E","^16","^16","^17","^18","~$p","^19","^19","^19","^1:","^H","~$a","^C","~$r","^E","^1;","^1;","^1<","^1<","^1=","^1>","^1?","^1?","^C","^C","^1@","^16","^B","^C","^1>","^1>","^1A","^1B","^H","^H","^1C","^1<","^1B","^1B","^18","^18","^E","^E"],"^1D",["^[",["^1E"]],"~:shadow/js-access-global",["^[",["Object","Buffer","Error"]],"^1F",null,"~:defs",["^ ","~$read-imgs",["^ ","~:protocol-inline",null,"^5",["^ ","^6","huginn/camera.cljs","^7",81,"^8",7,"^9",81,"^:",16,"~:arglists",["^1I",["~$quote",["^1I",[["~$output-dir","~$in","~$out"]]]]]],"^10","~$huginn.camera/read-imgs","~:variadic",false,"^6","huginn/camera.cljs","^:",16,"~:method-params",["^1I",[["^4[","^50","^51"]]],"~:protocol-impl",null,"~:arglists-meta",["^1I",[null,null]],"^8",1,"^7",81,"^9",81,"~:max-fixed-arity",3,"~:fn-var",true,"^4Y",["^1I",["^4Z",["^1I",[["^4[","^50","^51"]]]]]],"~$decode",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",50,"^8",7,"^9",50,"^:",13,"^4Y",["^1I",["^4Z",["^1I",[["~$v"]]]]]],"^10","~$huginn.camera/decode","^53",false,"^6","huginn/camera.cljs","^:",13,"^54",["^1I",[["~$v"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",50,"^9",50,"^57",1,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["~$v"]]]]]],"~$cam-handlers",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",26,"^8",7,"^9",26,"^:",19,"^4Y",["^1I",["^4Z",["^1I",[["~$success-fn","~$stop-fn","~$restart-fn","~$read-chan"]]]]]],"^10","~$huginn.camera/cam-handlers","^53",false,"^6","huginn/camera.cljs","^:",19,"^54",["^1I",[["^5<","^5=","^5>","^5?"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",26,"^9",26,"^57",4,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["^5<","^5=","^5>","^5?"]]]]]],"~$md5",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",21,"^8",7,"^9",21,"^:",10,"^4Y",["^1I",["^4Z",["^1I",[["~$bytes-in"]]]]],"~:doc","convert bytes to md5 bytes"],"^10","~$huginn.camera/md5","^53",false,"^6","huginn/camera.cljs","^:",10,"^54",["^1I",[["^5B"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",21,"^9",21,"^57",1,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["^5B"]]]]],"^5C","convert bytes to md5 bytes"],"~$build-camera",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",110,"^8",7,"^9",110,"^:",19,"^4Y",["^1I",["^4Z",["^1I",[[],[["^ ","~:keys",["^4[","~$tl","~$mode","~$encoding"],"~:or",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","~$opts"]]]]]],"~:top-fn",["^ ","^53",false,"^57",1,"^54",["^1I",[[],[["^ ","^5F",["^4[","^5G","^5H","^5I"],"^5J",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","^5K"]]]],"^4Y",["^1I",[[],[["^ ","^5F",["^4[","^5G","^5H","^5I"],"^5J",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","^5K"]]]],"^56",["^1I",[null,null]]]],"^10","~$huginn.camera/build-camera","^53",false,"^6","huginn/camera.cljs","^:",19,"^5L",["^ ","^53",false,"^57",1,"^54",["^1I",[[],[["^ ","^5F",["^4[","^5G","^5H","^5I"],"^5J",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","^5K"]]]],"^4Y",["^1I",[[],[["^ ","^5F",["^4[","^5G","^5H","^5I"],"^5J",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","^5K"]]]],"^56",["^1I",[null,null]]],"^54",["^1I",[[],[["^ ","^5F",["^4[","^5G","^5H","^5I"],"^5J",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","^5K"]]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",110,"^9",110,"^57",1,"^58",true,"^4Y",["^1I",[[],[["^ ","^5F",["^4[","^5G","^5H","^5I"],"^5J",["^ ","^4[","pics","^5H","timelapse","^5I","jpg","^5G",["^1I",["~$*",60,1000,5]]],"^1K","^5K"]]]]],"~$hash-bytes",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",16,"^8",7,"^9",16,"^:",17,"^4Y",["^1I",["^4Z",["^1I",[["~$digester","^5B"]]]]]],"^10","~$huginn.camera/hash-bytes","^53",false,"^6","huginn/camera.cljs","^:",17,"^54",["^1I",[["^5O","^5B"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",16,"^9",16,"^57",2,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["^5O","^5B"]]]]]],"~$cleanup-camera",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",143,"^8",7,"^9",143,"^:",21,"^4Y",["^1I",["^4Z",["^1I",[[["^ ","^5F",["~$camera","~$snap-chan"],"^1K","~$system"]]]]]]],"^10","~$huginn.camera/cleanup-camera","^53",false,"^6","huginn/camera.cljs","^:",21,"^54",["^1I",[["~$p__40487"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",143,"^9",143,"^57",1,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[[["^ ","^5F",["^5R","^5S"],"^1K","^5T"]]]]]]],"~$-start-mix-camera",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",152,"^8",7,"^9",152,"^:",24,"^4Y",["^1I",["^4Z",["^1I",[[["^ ","^5F",["~$telemetry-chan","~$mixer"],"^1K","^5T"]]]]]]],"^10","~$huginn.camera/-start-mix-camera","^53",false,"^6","huginn/camera.cljs","^:",24,"^54",["^1I",[["~$p__40490"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",152,"^9",152,"^57",1,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[[["^ ","^5F",["^5X","^5Y"],"^1K","^5T"]]]]]]],"~$start-mix-camera",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",164,"^8",7,"^9",164,"^:",23,"^4Y",["^1I",["^4Z",["^1I",[["~$system-promise"]]]]]],"^10","~$huginn.camera/start-mix-camera","^53",false,"^6","huginn/camera.cljs","^:",23,"^54",["^1I",[["^61"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",164,"^9",164,"^57",1,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["^61"]]]]]],"~$chunk-img",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",67,"^8",7,"^9",67,"^:",16,"^4Y",["^1I",["^4Z",["^1I",[["~$img","~$chunk-size"]]]]]],"^10","~$huginn.camera/chunk-img","^53",false,"^6","huginn/camera.cljs","^:",16,"^54",["^1I",[["^64","^65"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",67,"^9",67,"^57",2,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["^64","^65"]]]]]],"~$add-handlers",["^ ","^4X",null,"^5",["^ ","^6","huginn/camera.cljs","^7",44,"^8",7,"^9",44,"^:",19,"^4Y",["^1I",["^4Z",["^1I",[["^5R","~$handlers"]]]]]],"^10","~$huginn.camera/add-handlers","^53",false,"^6","huginn/camera.cljs","^:",19,"^54",["^1I",[["^5R","^68"]]],"^55",null,"^56",["^1I",[null,null]],"^8",1,"^7",44,"^9",44,"^57",2,"^58",true,"^4Y",["^1I",["^4Z",["^1I",[["^5R","^68"]]]]]]],"^1G",["^ ","^H","^H","^1:","^H","^1;","^1;","~$a","^C","^C","^C","^B","^C","^1A","^1B","^1B","^1B"],"~:cljs.analyzer/constants",["^ ","^1D",["^[",["~:args","~:encoding","~:output-dir","~$timestamp","~:ret","~:fn","~:payload","~$cljs.core/partial","~:tl","~:else","~$cljs.spec.alpha/coll-of","~$cljs.spec.alpha/cat","~$cljs.core/apply","~$args","~:cljs.spec.alpha/kind-form","~:subfolder","~:snap-chan","~$cljs.core/int?","~:telemetry-chan","~$cljs.core/string?","~$ret","~:mode","~:err","~$cljs.spec.alpha/fspec","~$string?","~:recur","~:debug","~:cljs.spec.alpha/cpred","~$js/Buffer.","~$cljs.core/map","~:filename","~$err","^5F","~$/equals","~$cljs.core/fn","~:info","~:camera","~$filename","~:error","~$js/Buffer.concat","~:chunk-size","^5:","~:timestamp","^66","~:auto","~:p","~:cljs.spec.alpha/conform-all","~:mixer","~$cljs.core/array","~:img","~$cljs.core/instance?","~:cljs.spec.alpha/describe","~:raw-chan"]],"~:order",["^71","~:p","^78","^6U","^74","^6D","^6Z","^6>","^73","^6Q","^77","^6Y","^6T","^66","^6R","^6;","^6F","^7<","^6B","^7=","^6W","^76","^6L","^6?","^6E","^6N","^6@","^70","^5F","^6H","^6O","^6[","^75","^6G","^7;","^6X","^5:","^6S","^6I","^6V","^79","^7>","^6<","^6A","^6J","^6=","^6C","^6P","^7?","^6K","^72","^6M","^7:"]],"^1M",["^ ","^1E",["^[",[]]],"^1N",["^ "],"^1O",["^1?","^1;","^19","^H","^18","^1<","^16","^C","^1>","^E","^1B"]],"^13","^11","~:ns-specs",["^ ","^66",["^1I",["^6R","^6;",["^1I",["^6F","^7<",["^1I",["^6B","^7=","^6W"]],"^76","^6L"]],"^6?",["^1I",["^6E","^6N"]],"^6@",["^1I",["^70",[["^ ","^5F",["^6H","^6O"]]],["^1I",["^6[",["^1I",["^7<","^6H"]],["^1I",["^75",["^1I",["^6G","^7;",["^1I",["^6X","^5:","^6O"]]]]]]]]]]]]],"~:ns-speced-vars",["^66"],"~:compiler-options",["^21",[["^7C","~:static-fns"],true,["^7C","~:elide-asserts"],false,["^7C","~:optimize-constants"],null,["^7C","~:external-config"],null,["^7C","~:tooling-config"],null,["^7C","~:emit-constants"],null,["^7C","~:infer-externs"],true,["^7C","^1V"],null,["~:js-options","~:js-provider"],"^1E",["^6P"],"~:dev",["^7C","~:fn-invoke-direct"],null,["^7C","~:source-map"],"/dev/null"]]]