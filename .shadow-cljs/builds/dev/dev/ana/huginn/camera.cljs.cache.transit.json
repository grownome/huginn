["^ ","~:output",["^ ","~:js","goog.provide('huginn.camera');\ngoog.require('cljs.core');\ngoog.require('promesa.core');\ngoog.require('taoensso.timbre');\ngoog.require('goog.crypt.Md5');\ngoog.require('goog.crypt.base64');\ngoog.require('goog.crypt');\ngoog.require('cljs.core.async');\ngoog.require('cljs_node_io.core');\ngoog.require('shadow.js.shim.module$raspicam');\ngoog.require('cljs.spec.alpha');\nhuginn.camera.hash_bytes = (function huginn$camera$hash_bytes(digester,bytes_in){\ndigester.update(bytes_in);\n\nreturn digester.digest();\n});\n/**\n * convert bytes to md5 bytes\n */\nhuginn.camera.md5 = (function huginn$camera$md5(bytes_in){\nvar G__4841 = huginn.camera.hash_bytes((new goog.crypt.Md5()),bytes_in);\nreturn goog.crypt.byteArrayToHex(G__4841);\n});\nhuginn.camera.cam_handlers = (function huginn$camera$cam_handlers(success_fn,stop_fn,restart_fn,read_chan){\nreturn new cljs.core.PersistentArrayMap(null, 4, [\"start\",(function (){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"huginn.camera\",null,29,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"camera connected\"], null);\n}),null)),null,-1146781618);\n\nreturn (success_fn.cljs$core$IFn$_invoke$arity$0 ? success_fn.cljs$core$IFn$_invoke$arity$0() : success_fn.call(null));\n}),\"stop\",(function (){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,31,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"camera stopping\"], null);\n}),null)),null,2052484493);\n\nreturn (stop_fn.cljs$core$IFn$_invoke$arity$0 ? stop_fn.cljs$core$IFn$_invoke$arity$0() : stop_fn.call(null));\n}),\"exit\",(function (err){\n(restart_fn.cljs$core$IFn$_invoke$arity$0 ? restart_fn.cljs$core$IFn$_invoke$arity$0() : restart_fn.call(null));\n\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.camera\",null,33,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"exit: \",err], null);\n}),null)),null,-1226076555);\n}),\"read\",(function (err,timestamp,filename){\ntry{var result__4774__auto___4996 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [err,timestamp,filename], null);\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,35,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (result__4774__auto___4996){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"err\",\"err\",-448925678,null),new cljs.core.Symbol(null,\"timestamp\",\"timestamp\",-2074956798,null),new cljs.core.Symbol(null,\"filename\",\"filename\",211690744,null)], null),\"=>\",result__4774__auto___4996], null);\n});})(result__4774__auto___4996))\n,null)),null,-401237375);\n\n}catch (e4842){if((e4842 instanceof Error)){\nvar e__4736__auto___4997 = e4842;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.camera\",null,35,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (e__4736__auto___4997){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [e__4736__auto___4997], null);\n});})(e__4736__auto___4997))\n,null)),null,1616056831);\n\nthrow e__4736__auto___4997;\n} else {\nthrow e4842;\n\n}\n}\nvar c__1665__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run(((function (c__1665__auto__){\nreturn (function (){\nvar f__1666__auto__ = (function (){var switch__1642__auto__ = ((function (c__1665__auto__){\nreturn (function (state_4849){\nvar state_val_4850 = (state_4849[(1)]);\nif((state_val_4850 === (1))){\nvar inst_4843 = [new cljs.core.Keyword(null,\"err\",\"err\",-2089457205),new cljs.core.Keyword(null,\"timestamp\",\"timestamp\",579478971),new cljs.core.Keyword(null,\"filename\",\"filename\",-1428840783)];\nvar inst_4844 = [err,timestamp,filename];\nvar inst_4845 = cljs.core.PersistentHashMap.fromArrays(inst_4843,inst_4844);\nvar state_4849__$1 = state_4849;\nreturn cljs.core.async.impl.ioc_helpers.put_BANG_(state_4849__$1,(2),read_chan,inst_4845);\n} else {\nif((state_val_4850 === (2))){\nvar inst_4847 = (state_4849[(2)]);\nvar state_4849__$1 = state_4849;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_4849__$1,inst_4847);\n} else {\nreturn null;\n}\n}\n});})(c__1665__auto__))\n;\nreturn ((function (switch__1642__auto__,c__1665__auto__){\nreturn (function() {\nvar huginn$camera$cam_handlers_$_state_machine__1643__auto__ = null;\nvar huginn$camera$cam_handlers_$_state_machine__1643__auto____0 = (function (){\nvar statearr_4851 = [null,null,null,null,null,null,null];\n(statearr_4851[(0)] = huginn$camera$cam_handlers_$_state_machine__1643__auto__);\n\n(statearr_4851[(1)] = (1));\n\nreturn statearr_4851;\n});\nvar huginn$camera$cam_handlers_$_state_machine__1643__auto____1 = (function (state_4849){\nwhile(true){\nvar ret_value__1644__auto__ = (function (){try{while(true){\nvar result__1645__auto__ = switch__1642__auto__(state_4849);\nif(cljs.core.keyword_identical_QMARK_(result__1645__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__1645__auto__;\n}\nbreak;\n}\n}catch (e4852){if((e4852 instanceof Object)){\nvar ex__1646__auto__ = e4852;\nvar statearr_4853_4998 = state_4849;\n(statearr_4853_4998[(5)] = ex__1646__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_4849);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e4852;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__1644__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__4999 = state_4849;\nstate_4849 = G__4999;\ncontinue;\n} else {\nreturn ret_value__1644__auto__;\n}\nbreak;\n}\n});\nhuginn$camera$cam_handlers_$_state_machine__1643__auto__ = function(state_4849){\nswitch(arguments.length){\ncase 0:\nreturn huginn$camera$cam_handlers_$_state_machine__1643__auto____0.call(this);\ncase 1:\nreturn huginn$camera$cam_handlers_$_state_machine__1643__auto____1.call(this,state_4849);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nhuginn$camera$cam_handlers_$_state_machine__1643__auto__.cljs$core$IFn$_invoke$arity$0 = huginn$camera$cam_handlers_$_state_machine__1643__auto____0;\nhuginn$camera$cam_handlers_$_state_machine__1643__auto__.cljs$core$IFn$_invoke$arity$1 = huginn$camera$cam_handlers_$_state_machine__1643__auto____1;\nreturn huginn$camera$cam_handlers_$_state_machine__1643__auto__;\n})()\n;})(switch__1642__auto__,c__1665__auto__))\n})();\nvar state__1667__auto__ = (function (){var statearr_4854 = (f__1666__auto__.cljs$core$IFn$_invoke$arity$0 ? f__1666__auto__.cljs$core$IFn$_invoke$arity$0() : f__1666__auto__.call(null));\n(statearr_4854[(6)] = c__1665__auto__);\n\nreturn statearr_4854;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__1667__auto__);\n});})(c__1665__auto__))\n);\n\nreturn c__1665__auto__;\n})], null);\n});\nhuginn.camera.add_handlers = (function huginn$camera$add_handlers(camera,handlers){\nvar seq__4855 = cljs.core.seq(handlers);\nvar chunk__4856 = null;\nvar count__4857 = (0);\nvar i__4858 = (0);\nwhile(true){\nif((i__4858 < count__4857)){\nvar vec__4859 = chunk__4856.cljs$core$IIndexed$_nth$arity$2(null,i__4858);\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__4859,(0),null);\nvar hand = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__4859,(1),null);\ncamera.on(key,hand);\n\n\nvar G__5000 = seq__4855;\nvar G__5001 = chunk__4856;\nvar G__5002 = count__4857;\nvar G__5003 = (i__4858 + (1));\nseq__4855 = G__5000;\nchunk__4856 = G__5001;\ncount__4857 = G__5002;\ni__4858 = G__5003;\ncontinue;\n} else {\nvar temp__5457__auto__ = cljs.core.seq(seq__4855);\nif(temp__5457__auto__){\nvar seq__4855__$1 = temp__5457__auto__;\nif(cljs.core.chunked_seq_QMARK_(seq__4855__$1)){\nvar c__4351__auto__ = cljs.core.chunk_first(seq__4855__$1);\nvar G__5004 = cljs.core.chunk_rest(seq__4855__$1);\nvar G__5005 = c__4351__auto__;\nvar G__5006 = cljs.core.count(c__4351__auto__);\nvar G__5007 = (0);\nseq__4855 = G__5004;\nchunk__4856 = G__5005;\ncount__4857 = G__5006;\ni__4858 = G__5007;\ncontinue;\n} else {\nvar vec__4862 = cljs.core.first(seq__4855__$1);\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__4862,(0),null);\nvar hand = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__4862,(1),null);\ncamera.on(key,hand);\n\n\nvar G__5008 = cljs.core.next(seq__4855__$1);\nvar G__5009 = null;\nvar G__5010 = (0);\nvar G__5011 = (0);\nseq__4855 = G__5008;\nchunk__4856 = G__5009;\ncount__4857 = G__5010;\ni__4858 = G__5011;\ncontinue;\n}\n} else {\nreturn null;\n}\n}\nbreak;\n}\n});\nhuginn.camera.decode = (function huginn$camera$decode(v){\nreturn Buffer.from(goog.crypt.base64.decodeStringToUint8Array(v));\n});\ncljs.spec.alpha.def_impl(new cljs.core.Symbol(\"huginn.camera\",\"chunk-img\",\"huginn.camera/chunk-img\",-1728618372,null),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"fspec\",\"cljs.spec.alpha/fspec\",-1289128341,null),new cljs.core.Keyword(null,\"args\",\"args\",1315556576),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"cat\",\"cljs.spec.alpha/cat\",-1471398329,null),new cljs.core.Keyword(null,\"img\",\"img\",1442687358),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"js\",\"Buffer.isBuffer\",\"js/Buffer.isBuffer\",-1103340269,null)),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)),new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null)),new cljs.core.Keyword(null,\"fn\",\"fn\",-1175266204),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)], null)], null)], null),cljs.core.list(new cljs.core.Symbol(\"\",\"equals\",\"/equals\",1177497557,null),cljs.core.list(new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null)),cljs.core.list(new cljs.core.Symbol(\"js\",\"Buffer.concat\",\"js/Buffer.concat\",920561241,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"apply\",\"cljs.core/apply\",1757277831,null),new cljs.core.Symbol(\"cljs.core\",\"array\",\"cljs.core/array\",486685886,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map\",\"cljs.core/map\",-338988913,null),new cljs.core.Symbol(\"huginn.camera\",\"decode\",\"huginn.camera/decode\",-411159142,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null))))))),cljs.spec.alpha.fspec_impl(cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"cat\",\"cljs.spec.alpha/cat\",-1471398329,null),new cljs.core.Keyword(null,\"img\",\"img\",1442687358),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"js\",\"Buffer.isBuffer\",\"js/Buffer.isBuffer\",-1103340269,null)),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)),cljs.spec.alpha.cat_impl(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.partial.cljs$core$IFn$_invoke$arity$1(Buffer.isBuffer),cljs.core.int_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"js\",\"Buffer.isBuffer\",\"js/Buffer.isBuffer\",-1103340269,null)),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)], null)),null,null),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"cat\",\"cljs.spec.alpha/cat\",-1471398329,null),new cljs.core.Keyword(null,\"img\",\"img\",1442687358),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"partial\",\"cljs.core/partial\",1483172485,null),new cljs.core.Symbol(\"js\",\"Buffer.isBuffer\",\"js/Buffer.isBuffer\",-1103340269,null)),new cljs.core.Keyword(null,\"chunk-size\",\"chunk-size\",-205934374),new cljs.core.Symbol(\"cljs.core\",\"int?\",\"cljs.core/int?\",50730120,null)),cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Symbol(null,\"string?\",\"string?\",-1129175764,null),cljs.core.string_QMARK_,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(\"cljs.spec.alpha\",\"kind-form\",\"cljs.spec.alpha/kind-form\",-1047104697),null,new cljs.core.Keyword(\"cljs.spec.alpha\",\"cpred\",\"cljs.spec.alpha/cpred\",-693471218),(function (G__4865){\nreturn cljs.core.coll_QMARK_(G__4865);\n}),new cljs.core.Keyword(\"cljs.spec.alpha\",\"conform-all\",\"cljs.spec.alpha/conform-all\",45201917),true,new cljs.core.Keyword(\"cljs.spec.alpha\",\"describe\",\"cljs.spec.alpha/describe\",1883026911),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null))], null),null),null,null),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Symbol(\"cljs.core\",\"string?\",\"cljs.core/string?\",-2072921719,null)),cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)], null)], null)], null),cljs.core.list(new cljs.core.Symbol(\"\",\"equals\",\"/equals\",1177497557,null),cljs.core.list(new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null)),cljs.core.list(new cljs.core.Symbol(\"js\",\"Buffer.concat\",\"js/Buffer.concat\",920561241,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"apply\",\"cljs.core/apply\",1757277831,null),new cljs.core.Symbol(\"cljs.core\",\"array\",\"cljs.core/array\",486685886,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map\",\"cljs.core/map\",-338988913,null),new cljs.core.Symbol(\"huginn.camera\",\"decode\",\"huginn.camera/decode\",-411159142,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)))))),(function (p__4866){\nvar map__4867 = p__4866;\nvar map__4867__$1 = ((((!((map__4867 == null)))?(((((map__4867.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__4867.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__4867):map__4867);\nvar args = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4867__$1,new cljs.core.Keyword(null,\"args\",\"args\",1315556576));\nvar ret = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4867__$1,new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814));\nreturn new cljs.core.Keyword(null,\"img\",\"img\",1442687358).cljs$core$IFn$_invoke$arity$1(args).equals(Buffer.concat(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.array,cljs.core.map.cljs$core$IFn$_invoke$arity$2(huginn.camera.decode,ret))));\n}),null,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"keys\",\"keys\",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)], null)], null)], null),cljs.core.list(new cljs.core.Symbol(\"\",\"equals\",\"/equals\",1177497557,null),cljs.core.list(new cljs.core.Keyword(null,\"img\",\"img\",1442687358),new cljs.core.Symbol(null,\"args\",\"args\",-1338879193,null)),cljs.core.list(new cljs.core.Symbol(\"js\",\"Buffer.concat\",\"js/Buffer.concat\",920561241,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"apply\",\"cljs.core/apply\",1757277831,null),new cljs.core.Symbol(\"cljs.core\",\"array\",\"cljs.core/array\",486685886,null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map\",\"cljs.core/map\",-338988913,null),new cljs.core.Symbol(\"huginn.camera\",\"decode\",\"huginn.camera/decode\",-411159142,null),new cljs.core.Symbol(null,\"ret\",\"ret\",1172308713,null)))))),null));\nhuginn.camera.chunk_img = (function huginn$camera$chunk_img(img,chunk_size){\n\nvar points = cljs.core.range.cljs$core$IFn$_invoke$arity$2((0),img.length);\nvar groups = cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2(chunk_size,points);\nvar starts = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first,groups);\nvar ends = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cljs.core.inc,cljs.core.last),groups);\nif((img.length < chunk_size)){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [img], null);\n} else {\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (points,groups,starts,ends){\nreturn (function (buff){\nvar G__4869 = (new Buffer(buff));\nreturn goog.crypt.base64.encodeByteArray(G__4869);\n});})(points,groups,starts,ends))\n,cljs.core.map.cljs$core$IFn$_invoke$arity$3(((function (points,groups,starts,ends){\nreturn (function (start,end){\nreturn img.slice(start,end);\n});})(points,groups,starts,ends))\n,starts,ends)));\n}\n});\nhuginn.camera.read_imgs = (function huginn$camera$read_imgs(output_dir,in$,out){\nvar c__1665__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run(((function (c__1665__auto__){\nreturn (function (){\nvar f__1666__auto__ = (function (){var switch__1642__auto__ = ((function (c__1665__auto__){\nreturn (function (state_4939){\nvar state_val_4940 = (state_4939[(1)]);\nif((state_val_4940 === (7))){\nvar inst_4889 = (state_4939[(2)]);\nvar state_4939__$1 = state_4939;\nif(cljs.core.truth_(inst_4889)){\nvar statearr_4941_5020 = state_4939__$1;\n(statearr_4941_5020[(1)] = (11));\n\n} else {\nvar statearr_4942_5021 = state_4939__$1;\n(statearr_4942_5021[(1)] = (12));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (20))){\nvar inst_4935 = (state_4939[(2)]);\nvar state_4939__$1 = state_4939;\nvar statearr_4943_5022 = state_4939__$1;\n(statearr_4943_5022[(2)] = inst_4935);\n\n(statearr_4943_5022[(1)] = (3));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (1))){\nvar state_4939__$1 = state_4939;\nvar statearr_4944_5023 = state_4939__$1;\n(statearr_4944_5023[(2)] = null);\n\n(statearr_4944_5023[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (4))){\nvar inst_4873 = (state_4939[(7)]);\nvar inst_4873__$1 = (state_4939[(2)]);\nvar inst_4875 = (inst_4873__$1 == null);\nvar inst_4876 = cljs.core.not(inst_4875);\nvar state_4939__$1 = (function (){var statearr_4945 = state_4939;\n(statearr_4945[(7)] = inst_4873__$1);\n\nreturn statearr_4945;\n})();\nif(inst_4876){\nvar statearr_4946_5024 = state_4939__$1;\n(statearr_4946_5024[(1)] = (5));\n\n} else {\nvar statearr_4947_5025 = state_4939__$1;\n(statearr_4947_5025[(1)] = (6));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (15))){\nvar inst_4908 = (state_4939[(8)]);\nvar state_4939__$1 = state_4939;\nvar statearr_4948_5027 = state_4939__$1;\n(statearr_4948_5027[(2)] = inst_4908);\n\n(statearr_4948_5027[(1)] = (17));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (21))){\nvar inst_4924 = (state_4939[(9)]);\nvar inst_4909 = (state_4939[(10)]);\nvar inst_4897 = (state_4939[(11)]);\nvar inst_4922 = (state_4939[(12)]);\nvar inst_4894 = (state_4939[(13)]);\nvar inst_4907 = (state_4939[(14)]);\nvar inst_4896 = (state_4939[(15)]);\nvar inst_4921 = (state_4939[(16)]);\nvar inst_4908 = (state_4939[(8)]);\nvar inst_4929 = (state_4939[(2)]);\nvar inst_4930 = (function (){var complete = inst_4924;\nvar byte_hash = inst_4922;\nvar timestamp = inst_4896;\nvar img_buffers = inst_4921;\nvar img_data = inst_4909;\nvar map__4871 = inst_4894;\nvar err = inst_4908;\nvar img_packets = inst_4924;\nvar vec__4901 = inst_4907;\nvar filename = inst_4897;\nvar img_res = inst_4894;\nreturn ((function (complete,byte_hash,timestamp,img_buffers,img_data,map__4871,err,img_packets,vec__4901,filename,img_res,inst_4924,inst_4909,inst_4897,inst_4922,inst_4894,inst_4907,inst_4896,inst_4921,inst_4908,inst_4929,state_val_4940,c__1665__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"done transforming\"], null);\n});\n;})(complete,byte_hash,timestamp,img_buffers,img_data,map__4871,err,img_packets,vec__4901,filename,img_res,inst_4924,inst_4909,inst_4897,inst_4922,inst_4894,inst_4907,inst_4896,inst_4921,inst_4908,inst_4929,state_val_4940,c__1665__auto__))\n})();\nvar inst_4931 = (new cljs.core.Delay(inst_4930,null));\nvar inst_4932 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,105,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_4931,null,917427029);\nvar state_4939__$1 = (function (){var statearr_4949 = state_4939;\n(statearr_4949[(17)] = inst_4932);\n\n(statearr_4949[(18)] = inst_4929);\n\nreturn statearr_4949;\n})();\nvar statearr_4950_5028 = state_4939__$1;\n(statearr_4950_5028[(2)] = null);\n\n(statearr_4950_5028[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (13))){\nvar inst_4897 = (state_4939[(11)]);\nvar inst_4894 = (state_4939[(13)]);\nvar inst_4896 = (state_4939[(15)]);\nvar inst_4894__$1 = (state_4939[(2)]);\nvar inst_4895 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(inst_4894__$1,new cljs.core.Keyword(null,\"err\",\"err\",-2089457205));\nvar inst_4896__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(inst_4894__$1,new cljs.core.Keyword(null,\"timestamp\",\"timestamp\",579478971));\nvar inst_4897__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(inst_4894__$1,new cljs.core.Keyword(null,\"filename\",\"filename\",-1428840783));\nvar inst_4898 = (function (){var map__4871 = inst_4894__$1;\nvar img_res = inst_4894__$1;\nvar err = inst_4895;\nvar timestamp = inst_4896__$1;\nvar filename = inst_4897__$1;\nreturn ((function (map__4871,img_res,err,timestamp,filename,inst_4897,inst_4894,inst_4896,inst_4894__$1,inst_4895,inst_4896__$1,inst_4897__$1,state_val_4940,c__1665__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"xforming image \",filename], null);\n});\n;})(map__4871,img_res,err,timestamp,filename,inst_4897,inst_4894,inst_4896,inst_4894__$1,inst_4895,inst_4896__$1,inst_4897__$1,state_val_4940,c__1665__auto__))\n})();\nvar inst_4899 = (new cljs.core.Delay(inst_4898,null));\nvar inst_4900 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,84,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_4899,null,926228215);\nvar inst_4904 = [cljs.core.str.cljs$core$IFn$_invoke$arity$1(output_dir),\"/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(inst_4897__$1)].join('');\nvar inst_4905 = cljs_node_io.core.aslurp.cljs$core$IFn$_invoke$arity$variadic(inst_4904,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"encoding\",\"encoding\",1728578272),\"\"], 0));\nvar state_4939__$1 = (function (){var statearr_4951 = state_4939;\n(statearr_4951[(19)] = inst_4900);\n\n(statearr_4951[(11)] = inst_4897__$1);\n\n(statearr_4951[(13)] = inst_4894__$1);\n\n(statearr_4951[(15)] = inst_4896__$1);\n\nreturn statearr_4951;\n})();\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_4939__$1,(14),inst_4905);\n} else {\nif((state_val_4940 === (6))){\nvar state_4939__$1 = state_4939;\nvar statearr_4952_5030 = state_4939__$1;\n(statearr_4952_5030[(2)] = false);\n\n(statearr_4952_5030[(1)] = (7));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (17))){\nvar inst_4914 = (state_4939[(2)]);\nvar state_4939__$1 = state_4939;\nif(cljs.core.truth_(inst_4914)){\nvar statearr_4953_5031 = state_4939__$1;\n(statearr_4953_5031[(1)] = (18));\n\n} else {\nvar statearr_4954_5032 = state_4939__$1;\n(statearr_4954_5032[(1)] = (19));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (3))){\nvar inst_4937 = (state_4939[(2)]);\nvar state_4939__$1 = state_4939;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_4939__$1,inst_4937);\n} else {\nif((state_val_4940 === (12))){\nvar inst_4873 = (state_4939[(7)]);\nvar state_4939__$1 = state_4939;\nvar statearr_4955_5033 = state_4939__$1;\n(statearr_4955_5033[(2)] = inst_4873);\n\n(statearr_4955_5033[(1)] = (13));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (2))){\nvar state_4939__$1 = state_4939;\nreturn cljs.core.async.impl.ioc_helpers.take_BANG_(state_4939__$1,(4),in$);\n} else {\nif((state_val_4940 === (19))){\nvar inst_4924 = (state_4939[(9)]);\nvar inst_4909 = (state_4939[(10)]);\nvar inst_4897 = (state_4939[(11)]);\nvar inst_4922 = (state_4939[(12)]);\nvar inst_4894 = (state_4939[(13)]);\nvar inst_4907 = (state_4939[(14)]);\nvar inst_4896 = (state_4939[(15)]);\nvar inst_4921 = (state_4939[(16)]);\nvar inst_4908 = (state_4939[(8)]);\nvar inst_4921__$1 = huginn.camera.chunk_img(inst_4909,(50000));\nvar inst_4922__$1 = huginn.camera.md5(inst_4909);\nvar inst_4923 = (function (){var map__4871 = inst_4894;\nvar img_res = inst_4894;\nvar err = inst_4908;\nvar timestamp = inst_4896;\nvar filename = inst_4897;\nvar vec__4901 = inst_4907;\nvar img_data = inst_4909;\nvar img_buffers = inst_4921__$1;\nvar byte_hash = inst_4922__$1;\nreturn ((function (map__4871,img_res,err,timestamp,filename,vec__4901,img_data,img_buffers,byte_hash,inst_4924,inst_4909,inst_4897,inst_4922,inst_4894,inst_4907,inst_4896,inst_4921,inst_4908,inst_4921__$1,inst_4922__$1,state_val_4940,c__1665__auto__){\nreturn (function (index,payload){\nreturn cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"payload\",\"payload\",-383036092),new cljs.core.Keyword(null,\"timestamp\",\"timestamp\",579478971),new cljs.core.Keyword(null,\"subfolder\",\"subfolder\",1044158439)],[payload,timestamp,[\"captures/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(byte_hash),\"/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1((cljs.core.count(img_buffers) - (1))),\"/\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(index)].join('')]);\n});\n;})(map__4871,img_res,err,timestamp,filename,vec__4901,img_data,img_buffers,byte_hash,inst_4924,inst_4909,inst_4897,inst_4922,inst_4894,inst_4907,inst_4896,inst_4921,inst_4908,inst_4921__$1,inst_4922__$1,state_val_4940,c__1665__auto__))\n})();\nvar inst_4924__$1 = cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(inst_4923,inst_4921__$1);\nvar inst_4925 = (function (){var complete = inst_4924__$1;\nvar byte_hash = inst_4922__$1;\nvar timestamp = inst_4896;\nvar img_buffers = inst_4921__$1;\nvar img_data = inst_4909;\nvar map__4871 = inst_4894;\nvar err = inst_4908;\nvar img_packets = inst_4924__$1;\nvar vec__4901 = inst_4907;\nvar filename = inst_4897;\nvar img_res = inst_4894;\nreturn ((function (complete,byte_hash,timestamp,img_buffers,img_data,map__4871,err,img_packets,vec__4901,filename,img_res,inst_4924,inst_4909,inst_4897,inst_4922,inst_4894,inst_4907,inst_4896,inst_4921,inst_4908,inst_4921__$1,inst_4922__$1,inst_4923,inst_4924__$1,state_val_4940,c__1665__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"trying to write img packet\"], null);\n});\n;})(complete,byte_hash,timestamp,img_buffers,img_data,map__4871,err,img_packets,vec__4901,filename,img_res,inst_4924,inst_4909,inst_4897,inst_4922,inst_4894,inst_4907,inst_4896,inst_4921,inst_4908,inst_4921__$1,inst_4922__$1,inst_4923,inst_4924__$1,state_val_4940,c__1665__auto__))\n})();\nvar inst_4926 = (new cljs.core.Delay(inst_4925,null));\nvar inst_4927 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"huginn.camera\",null,103,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_4926,null,1543883937);\nvar state_4939__$1 = (function (){var statearr_4956 = state_4939;\n(statearr_4956[(9)] = inst_4924__$1);\n\n(statearr_4956[(12)] = inst_4922__$1);\n\n(statearr_4956[(16)] = inst_4921__$1);\n\n(statearr_4956[(20)] = inst_4927);\n\nreturn statearr_4956;\n})();\nreturn cljs.core.async.impl.ioc_helpers.put_BANG_(state_4939__$1,(21),out,inst_4924__$1);\n} else {\nif((state_val_4940 === (11))){\nvar inst_4873 = (state_4939[(7)]);\nvar inst_4891 = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,inst_4873);\nvar state_4939__$1 = state_4939;\nvar statearr_4957_5038 = state_4939__$1;\n(statearr_4957_5038[(2)] = inst_4891);\n\n(statearr_4957_5038[(1)] = (13));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (9))){\nvar state_4939__$1 = state_4939;\nvar statearr_4958_5039 = state_4939__$1;\n(statearr_4958_5039[(2)] = false);\n\n(statearr_4958_5039[(1)] = (10));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (5))){\nvar inst_4873 = (state_4939[(7)]);\nvar inst_4878 = inst_4873.cljs$lang$protocol_mask$partition0$;\nvar inst_4879 = (inst_4878 & (64));\nvar inst_4880 = inst_4873.cljs$core$ISeq$;\nvar inst_4881 = (cljs.core.PROTOCOL_SENTINEL === inst_4880);\nvar inst_4882 = ((inst_4879) || (inst_4881));\nvar state_4939__$1 = state_4939;\nif(cljs.core.truth_(inst_4882)){\nvar statearr_4959_5040 = state_4939__$1;\n(statearr_4959_5040[(1)] = (8));\n\n} else {\nvar statearr_4960_5041 = state_4939__$1;\n(statearr_4960_5041[(1)] = (9));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (14))){\nvar inst_4907 = (state_4939[(14)]);\nvar inst_4908 = (state_4939[(8)]);\nvar inst_4907__$1 = (state_4939[(2)]);\nvar inst_4908__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(inst_4907__$1,(0),null);\nvar inst_4909 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(inst_4907__$1,(1),null);\nvar state_4939__$1 = (function (){var statearr_4961 = state_4939;\n(statearr_4961[(10)] = inst_4909);\n\n(statearr_4961[(14)] = inst_4907__$1);\n\n(statearr_4961[(8)] = inst_4908__$1);\n\nreturn statearr_4961;\n})();\nif(cljs.core.truth_(inst_4908__$1)){\nvar statearr_4962_5042 = state_4939__$1;\n(statearr_4962_5042[(1)] = (15));\n\n} else {\nvar statearr_4963_5043 = state_4939__$1;\n(statearr_4963_5043[(1)] = (16));\n\n}\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (16))){\nvar inst_4897 = (state_4939[(11)]);\nvar inst_4912 = cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(inst_4897,\"\");\nvar state_4939__$1 = state_4939;\nvar statearr_4964_5044 = state_4939__$1;\n(statearr_4964_5044[(2)] = inst_4912);\n\n(statearr_4964_5044[(1)] = (17));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (10))){\nvar inst_4886 = (state_4939[(2)]);\nvar state_4939__$1 = state_4939;\nvar statearr_4965_5045 = state_4939__$1;\n(statearr_4965_5045[(2)] = inst_4886);\n\n(statearr_4965_5045[(1)] = (7));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (18))){\nvar inst_4909 = (state_4939[(10)]);\nvar inst_4897 = (state_4939[(11)]);\nvar inst_4894 = (state_4939[(13)]);\nvar inst_4907 = (state_4939[(14)]);\nvar inst_4896 = (state_4939[(15)]);\nvar inst_4908 = (state_4939[(8)]);\nvar inst_4916 = (function (){var map__4871 = inst_4894;\nvar img_res = inst_4894;\nvar err = inst_4908;\nvar timestamp = inst_4896;\nvar filename = inst_4897;\nvar vec__4901 = inst_4907;\nvar img_data = inst_4909;\nreturn ((function (map__4871,img_res,err,timestamp,filename,vec__4901,img_data,inst_4909,inst_4897,inst_4894,inst_4907,inst_4896,inst_4908,state_val_4940,c__1665__auto__){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"error reading image:\",err,\" \",filename], null);\n});\n;})(map__4871,img_res,err,timestamp,filename,vec__4901,img_data,inst_4909,inst_4897,inst_4894,inst_4907,inst_4896,inst_4908,state_val_4940,c__1665__auto__))\n})();\nvar inst_4917 = (new cljs.core.Delay(inst_4916,null));\nvar inst_4918 = taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"huginn.camera\",null,88,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),inst_4917,null,-1964782830);\nvar state_4939__$1 = (function (){var statearr_4966 = state_4939;\n(statearr_4966[(21)] = inst_4918);\n\nreturn statearr_4966;\n})();\nvar statearr_4967_5069 = state_4939__$1;\n(statearr_4967_5069[(2)] = null);\n\n(statearr_4967_5069[(1)] = (2));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nif((state_val_4940 === (8))){\nvar state_4939__$1 = state_4939;\nvar statearr_4968_5070 = state_4939__$1;\n(statearr_4968_5070[(2)] = true);\n\n(statearr_4968_5070[(1)] = (10));\n\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nreturn null;\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n}\n});})(c__1665__auto__))\n;\nreturn ((function (switch__1642__auto__,c__1665__auto__){\nreturn (function() {\nvar huginn$camera$read_imgs_$_state_machine__1643__auto__ = null;\nvar huginn$camera$read_imgs_$_state_machine__1643__auto____0 = (function (){\nvar statearr_4969 = [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];\n(statearr_4969[(0)] = huginn$camera$read_imgs_$_state_machine__1643__auto__);\n\n(statearr_4969[(1)] = (1));\n\nreturn statearr_4969;\n});\nvar huginn$camera$read_imgs_$_state_machine__1643__auto____1 = (function (state_4939){\nwhile(true){\nvar ret_value__1644__auto__ = (function (){try{while(true){\nvar result__1645__auto__ = switch__1642__auto__(state_4939);\nif(cljs.core.keyword_identical_QMARK_(result__1645__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__1645__auto__;\n}\nbreak;\n}\n}catch (e4970){if((e4970 instanceof Object)){\nvar ex__1646__auto__ = e4970;\nvar statearr_4971_5073 = state_4939;\n(statearr_4971_5073[(5)] = ex__1646__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_4939);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e4970;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__1644__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__5074 = state_4939;\nstate_4939 = G__5074;\ncontinue;\n} else {\nreturn ret_value__1644__auto__;\n}\nbreak;\n}\n});\nhuginn$camera$read_imgs_$_state_machine__1643__auto__ = function(state_4939){\nswitch(arguments.length){\ncase 0:\nreturn huginn$camera$read_imgs_$_state_machine__1643__auto____0.call(this);\ncase 1:\nreturn huginn$camera$read_imgs_$_state_machine__1643__auto____1.call(this,state_4939);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nhuginn$camera$read_imgs_$_state_machine__1643__auto__.cljs$core$IFn$_invoke$arity$0 = huginn$camera$read_imgs_$_state_machine__1643__auto____0;\nhuginn$camera$read_imgs_$_state_machine__1643__auto__.cljs$core$IFn$_invoke$arity$1 = huginn$camera$read_imgs_$_state_machine__1643__auto____1;\nreturn huginn$camera$read_imgs_$_state_machine__1643__auto__;\n})()\n;})(switch__1642__auto__,c__1665__auto__))\n})();\nvar state__1667__auto__ = (function (){var statearr_4972 = (f__1666__auto__.cljs$core$IFn$_invoke$arity$0 ? f__1666__auto__.cljs$core$IFn$_invoke$arity$0() : f__1666__auto__.call(null));\n(statearr_4972[(6)] = c__1665__auto__);\n\nreturn statearr_4972;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__1667__auto__);\n});})(c__1665__auto__))\n);\n\nreturn c__1665__auto__;\n});\nhuginn.camera.build_camera = (function huginn$camera$build_camera(var_args){\nvar G__4974 = arguments.length;\nswitch (G__4974) {\ncase 0:\nreturn huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0();\n\nbreak;\ncase 1:\nreturn huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\nhuginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0 = (function (){\nreturn huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);\n});\n\nhuginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1 = (function (p__4975){\nvar map__4976 = p__4975;\nvar map__4976__$1 = ((((!((map__4976 == null)))?(((((map__4976.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__4976.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__4976):map__4976);\nvar opts = map__4976__$1;\nvar output_dir = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__4976__$1,new cljs.core.Keyword(null,\"output-dir\",\"output-dir\",-290956991),\"pics\");\nvar tl = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__4976__$1,new cljs.core.Keyword(null,\"tl\",\"tl\",-35265210),(((60) * (1000)) * (5)));\nvar mode = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__4976__$1,new cljs.core.Keyword(null,\"mode\",\"mode\",654403691),\"timelapse\");\nvar encoding = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__4976__$1,new cljs.core.Keyword(null,\"encoding\",\"encoding\",1728578272),\"jpg\");\nreturn promesa.core.promise(((function (map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (resolve,reject){\nvar snap_chan = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nvar data_chan = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nvar restart_chan = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();\nvar camera = (new shadow.js.shim.module$raspicam(({\"output\": [cljs.core.str.cljs$core$IFn$_invoke$arity$1(output_dir),\"/%01d_img.jpg\"].join(''), \"mode\": mode, \"encoding\": encoding, \"tl\": tl})));\nvar output = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"raw-chan\",\"raw-chan\",-779682305),snap_chan,new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063),data_chan,new cljs.core.Keyword(null,\"restart-chan\",\"restart-chan\",1415403484),restart_chan,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585),camera], null);\nvar handlers = huginn.camera.cam_handlers(((function (snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (){\nreturn (resolve.cljs$core$IFn$_invoke$arity$1 ? resolve.cljs$core$IFn$_invoke$arity$1(output) : resolve.call(null,output));\n});})(snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n,((function (snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (){\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs_node_io.core.delete_file,cljs_node_io.core.file_seq(output_dir)));\n});})(snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n,((function (snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function huginn$camera$restart(){\nvar c__1665__auto__ = cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1((1));\ncljs.core.async.impl.dispatch.run(((function (c__1665__auto__,snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (){\nvar f__1666__auto__ = (function (){var switch__1642__auto__ = ((function (c__1665__auto__,snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function (state_4981){\nvar state_val_4982 = (state_4981[(1)]);\nif((state_val_4982 === (1))){\nvar state_4981__$1 = state_4981;\nreturn cljs.core.async.impl.ioc_helpers.put_BANG_(state_4981__$1,(2),restart_chan,\"Camera Dead\");\n} else {\nif((state_val_4982 === (2))){\nvar inst_4979 = (state_4981[(2)]);\nvar state_4981__$1 = state_4981;\nreturn cljs.core.async.impl.ioc_helpers.return_chan(state_4981__$1,inst_4979);\n} else {\nreturn null;\n}\n}\n});})(c__1665__auto__,snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n;\nreturn ((function (switch__1642__auto__,c__1665__auto__,snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding){\nreturn (function() {\nvar huginn$camera$restart_$_state_machine__1643__auto__ = null;\nvar huginn$camera$restart_$_state_machine__1643__auto____0 = (function (){\nvar statearr_4983 = [null,null,null,null,null,null,null];\n(statearr_4983[(0)] = huginn$camera$restart_$_state_machine__1643__auto__);\n\n(statearr_4983[(1)] = (1));\n\nreturn statearr_4983;\n});\nvar huginn$camera$restart_$_state_machine__1643__auto____1 = (function (state_4981){\nwhile(true){\nvar ret_value__1644__auto__ = (function (){try{while(true){\nvar result__1645__auto__ = switch__1642__auto__(state_4981);\nif(cljs.core.keyword_identical_QMARK_(result__1645__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\ncontinue;\n} else {\nreturn result__1645__auto__;\n}\nbreak;\n}\n}catch (e4984){if((e4984 instanceof Object)){\nvar ex__1646__auto__ = e4984;\nvar statearr_4985_5094 = state_4981;\n(statearr_4985_5094[(5)] = ex__1646__auto__);\n\n\ncljs.core.async.impl.ioc_helpers.process_exception(state_4981);\n\nreturn new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268);\n} else {\nthrow e4984;\n\n}\n}})();\nif(cljs.core.keyword_identical_QMARK_(ret_value__1644__auto__,new cljs.core.Keyword(null,\"recur\",\"recur\",-437573268))){\nvar G__5095 = state_4981;\nstate_4981 = G__5095;\ncontinue;\n} else {\nreturn ret_value__1644__auto__;\n}\nbreak;\n}\n});\nhuginn$camera$restart_$_state_machine__1643__auto__ = function(state_4981){\nswitch(arguments.length){\ncase 0:\nreturn huginn$camera$restart_$_state_machine__1643__auto____0.call(this);\ncase 1:\nreturn huginn$camera$restart_$_state_machine__1643__auto____1.call(this,state_4981);\n}\nthrow(new Error('Invalid arity: ' + arguments.length));\n};\nhuginn$camera$restart_$_state_machine__1643__auto__.cljs$core$IFn$_invoke$arity$0 = huginn$camera$restart_$_state_machine__1643__auto____0;\nhuginn$camera$restart_$_state_machine__1643__auto__.cljs$core$IFn$_invoke$arity$1 = huginn$camera$restart_$_state_machine__1643__auto____1;\nreturn huginn$camera$restart_$_state_machine__1643__auto__;\n})()\n;})(switch__1642__auto__,c__1665__auto__,snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n})();\nvar state__1667__auto__ = (function (){var statearr_4986 = (f__1666__auto__.cljs$core$IFn$_invoke$arity$0 ? f__1666__auto__.cljs$core$IFn$_invoke$arity$0() : f__1666__auto__.call(null));\n(statearr_4986[(6)] = c__1665__auto__);\n\nreturn statearr_4986;\n})();\nreturn cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped(state__1667__auto__);\n});})(c__1665__auto__,snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n);\n\nreturn c__1665__auto__;\n});})(snap_chan,data_chan,restart_chan,camera,output,map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n,snap_chan);\nhuginn.camera.read_imgs(output_dir,snap_chan,data_chan);\n\nhuginn.camera.add_handlers(camera,handlers);\n\nreturn camera.start();\n});})(map__4976,map__4976__$1,opts,output_dir,tl,mode,encoding))\n);\n});\n\nhuginn.camera.build_camera.cljs$lang$maxFixedArity = 1;\n\nhuginn.camera.cleanup_camera = (function huginn$camera$cleanup_camera(p__4987){\nvar map__4988 = p__4987;\nvar map__4988__$1 = ((((!((map__4988 == null)))?(((((map__4988.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__4988.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__4988):map__4988);\nvar system = map__4988__$1;\nvar camera = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4988__$1,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585));\nvar restart_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4988__$1,new cljs.core.Keyword(null,\"restart-chan\",\"restart-chan\",1415403484));\nvar mixer = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4988__$1,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315));\nvar snap_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4988__$1,new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063));\ncamera.stop();\n\ncljs.core.async.close_BANG_(restart_chan);\n\ncljs.core.async.unmix(mixer,snap_chan);\n\ncljs.core.async.close_BANG_(snap_chan);\n\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(system,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585)),new cljs.core.Keyword(null,\"restart-chan\",\"restart-chan\",1415403484)),new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063));\n});\nhuginn.camera._start_mix_camera = (function huginn$camera$_start_mix_camera(p__4990){\nvar map__4991 = p__4990;\nvar map__4991__$1 = ((((!((map__4991 == null)))?(((((map__4991.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__4991.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__4991):map__4991);\nvar system = map__4991__$1;\nvar telemetry_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4991__$1,new cljs.core.Keyword(null,\"telemetry-chan\",\"telemetry-chan\",-1991836503));\nvar mixer = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4991__$1,new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315));\nvar camera_p = huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0();\nreturn promesa.core.then(camera_p,((function (camera_p,map__4991,map__4991__$1,system,telemetry_chan,mixer){\nreturn (function (p__4993){\nvar map__4994 = p__4993;\nvar map__4994__$1 = ((((!((map__4994 == null)))?(((((map__4994.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__4994.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__4994):map__4994);\nvar snap_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4994__$1,new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063));\nvar restart_chan = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4994__$1,new cljs.core.Keyword(null,\"restart-chan\",\"restart-chan\",1415403484));\nvar camera = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__4994__$1,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585));\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"huginn.camera\",null,162,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (map__4994,map__4994__$1,snap_chan,restart_chan,camera,camera_p,map__4991,map__4991__$1,system,telemetry_chan,mixer){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"connecting camera to mixer\"], null);\n});})(map__4994,map__4994__$1,snap_chan,restart_chan,camera,camera_p,map__4991,map__4991__$1,system,telemetry_chan,mixer))\n,null)),null,-1930683975);\n\ncljs.core.async.admix(mixer,snap_chan);\n\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(system,new cljs.core.Keyword(null,\"camera\",\"camera\",-1190348585),camera),new cljs.core.Keyword(null,\"mixer\",\"mixer\",-120313315),mixer),new cljs.core.Keyword(null,\"camera-restart\",\"camera-restart\",-1919870435),restart_chan),new cljs.core.Keyword(null,\"snap-chan\",\"snap-chan\",1438169063),snap_chan);\n});})(camera_p,map__4991,map__4991__$1,system,telemetry_chan,mixer))\n);\n});\nhuginn.camera.start_mix_camera = (function huginn$camera$start_mix_camera(system_promise){\nreturn promesa.core.then(system_promise,huginn.camera._start_mix_camera);\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","huginn/camera.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",18],"~:ns-aliases",["^ ","~$jsonwebtoken","~$shadow.js.shim.module$jsonwebtoken","~$systeminformation","~$shadow.js.shim.module$systeminformation","~$clojure.core.async","~$cljs.core.async","~$raspicam","~$shadow.js.shim.module$raspicam"],"~:use-macros",["^ ","~$get-env","~$taoensso.timbre","~$log","^F","~$logf","^F","~$reportf","^F","~$fatalf","^F","~$warnf","^F","~$report","^F","~$spy","^F","~$warn","^F","~$trace","^F","~$debug","^F","~$debugf","^F","~$tracef","^F","~$infof","^F","~$fatal","^F","~$errorf","^F","~$info","^F","~$error","^F"],"~:excludes",["~#set",[]],"~:name","~$huginn.camera","~:op","~:ns","~:imports",null,"~:requires",["^ ","^B","^C","~$goog.crypt","^14","~$MD5","~$goog.crypt.Md5","~$p","~$promesa.core","^17","^17","~$timbre","^F","~$a","^A","~$r","^C","~$cljs.core","^19","~$goog.crypt.base64","^1:","~$io","~$cljs-node-io.core","~$goog","^1=","^A","^A","~$gcrypt","^14","^@","^A","^1<","^1<","~$spec","~$cljs.spec.alpha","^F","^F","~$b64","^1:","^1@","^1@","^16","^16","^C","^C"],"~:seen",["^Y",["~:require"]],"~:uses",null,"~:require-macros",["^ ","^F","^F","^18","^F","^19","^19","~$a","^A","^A","^A","^@","^A","^1?","^1@","^1@","^1@"],"~:form",["~#list",["~$ns","^[",["^1G",["^1C",["^17","~:as","~$p"],["^F","^1I","^18","~:refer-macros",["^G","^O","^P","^V","^N","^W","^T","^L","^H","^R","^Q","^S","^K","^U","^J","^I","^M","^E"]],["^16","^1I","^15"],["^1:","^1I","^1A"],["^14","^1I","^1>"],["^@","^1I","~$a"],["^1<","^1I","^1;"],["^B","^1I","~$r"],["^1@","^1I","^1?"]]]]],"~:flags",["^ ","^1C",["^Y",[]]],"~:js-deps",["^ "],"~:deps",["^1=","^19","^17","^F","^16","^1:","^14","^A","^1<","^C","^1@"]],"^11","^[","~:resource-id",["~:shadow.build.classpath/resource","huginn/camera.cljs"],"~:compiled-at",1540308457938,"~:resource-name","huginn/camera.cljs","~:warnings",[],"~:source","(ns huginn.camera\n  (:require\n   [promesa.core :as p]\n   [taoensso.timbre :as timbre\n    :refer-macros [log  trace  debug  info  warn  error  fatal  report\n                   logf tracef debugf infof warnf errorf fatalf reportf\n                   spy get-env]]\n   [goog.crypt.Md5 :as MD5]\n   [goog.crypt.base64 :as b64]\n   [goog.crypt :as gcrypt]\n   [clojure.core.async :as a]\n   [cljs-node-io.core :as io]\n   [raspicam :as r]\n   [cljs.spec.alpha :as spec]))\n\n(defn hash-bytes [digester bytes-in]\n  (do\n    (.update digester bytes-in)\n    (.digest digester)))\n\n(defn md5\n  \"convert bytes to md5 bytes\"\n  [bytes-in]\n  (gcrypt/byteArrayToHex (hash-bytes (goog.crypt.Md5.) bytes-in)))\n\n(defn cam-handlers\n  [success-fn stop-fn restart-fn read-chan ]\n  {\"start\" (fn []\n             (info \"camera connected\")\n             (success-fn))\n   \"stop\"   (fn [] (debug \"camera stopping\")\n              (stop-fn))\n   \"exit\"   (fn [err] (restart-fn) (error \"exit: \" err))\n   \"read\" (fn [err timestamp filename]\n               (spy :debug [err timestamp filename])\n            (a/go\n              (let []\n                (a/>! read-chan {:err err\n                                 :timestamp timestamp\n                                 :filename filename}))))})\n\n\n\n(defn add-handlers\n  [camera handlers]\n  (doseq [[key hand] handlers]\n    (.on camera key hand)))\n\n\n(defn decode\n  [v]\n  (js/Buffer.from\n   (b64/decodeStringToUint8Array\n    v\n    )))\n\n(spec/fdef chunk-img\n  :args (spec/cat :img (partial js/Buffer.isBuffer)\n                  :chunk-size int?)\n  :ret (spec/coll-of string?)\n  :fn  (fn [{:keys [args ret]}]\n         (.equals (:img args) (js/Buffer.concat (apply array (map decode ret))))))\n\n\n(defn chunk-img\n  [img chunk-size]\n  \"\"\n  (let [points   (range 0 (.-length img))\n        groups   (partition-all chunk-size points)\n        starts   (map first groups)\n        ends     (map (comp inc last) groups)]\n    (if (< (.-length img) chunk-size)\n      [img]\n      (->> (map (fn [start end] (.slice img start end)) starts ends)\n           (map (fn [buff] (b64/encodeByteArray  (js/Buffer. buff))))\n           (into [])))))\n\n\n(defn read-imgs\n  [output-dir in out]\n  (a/go-loop []\n    (let [{:keys [err timestamp filename]\n           :as img-res} (a/<! in)]\n      (debug \"xforming image \" filename)\n      (let [[err img-data] (a/<!\n                            (io/aslurp (str output-dir \"/\" filename) :encoding \"\"))]\n        (if (or err (= filename \"\"))\n          (do (error \"error reading image:\" err \" \" filename)\n              (recur))\n          (let [img-buffers (chunk-img img-data  50000)\n                byte-hash (md5 img-data)\n                img-packets (map-indexed\n                             (fn [index payload]\n                               (hash-map :payload payload\n                                         :timestamp timestamp\n                                         :subfolder (str \"captures/\"\n                                                         byte-hash\n                                                         \"/\"\n                                                         (- (count img-buffers) 1)\n                                                         \"/\"\n                                                         index))) img-buffers)\n               complete  img-packets]\n            (debug \"trying to write img packet\")\n            (a/>! out complete)\n            (debug \"done transforming\")\n            (recur)))))))\n\n(defn build-camera\n  ([] (build-camera {}))\n  ([{:keys [output-dir tl mode encoding]\n     :or {output-dir \"pics\"\n          mode \"timelapse\"\n          encoding \"jpg\"\n          tl (* 60 1000 5)} :as opts}]\n   (p/promise\n    (fn [resolve reject]\n      (let [snap-chan (a/chan)\n            data-chan (a/chan)\n            restart-chan (a/chan)\n            ^RaspiCam\n            camera (r.\n                    #js\n                    {:output (str output-dir \"/%01d_img.jpg\")\n                     :mode mode\n                     :encoding encoding\n                     :tl tl})\n            output {:raw-chan snap-chan\n                    :snap-chan data-chan\n                    :restart-chan restart-chan\n                    :camera camera}\n            handlers (cam-handlers\n                      #(resolve output)\n                      #(doall\n                        (map io/delete-file\n                             (io/file-seq output-dir)))\n                      (fn restart []\n                        (a/go\n                          (a/>! restart-chan \"Camera Dead\")))\n                      snap-chan)]\n        (read-imgs output-dir snap-chan data-chan)\n        (add-handlers camera handlers)\n        (.start camera))))))\n\n\n(defn cleanup-camera\n  [{:keys [camera restart-chan mixer snap-chan] :as system}]\n  (.stop camera)\n  (a/close! restart-chan)\n  (a/unmix mixer snap-chan)\n  (a/close! snap-chan)\n  (-> system\n      (dissoc :camera)\n      (dissoc :restart-chan)\n      (dissoc :snap-chan)))\n\n\n(defn -start-mix-camera\n  [{:keys [telemetry-chan mixer] :as system}]\n  (let [camera-p (build-camera )]\n    (p/then camera-p\n            (fn [{:keys [snap-chan restart-chan camera]}]\n              (info \"connecting camera to mixer\")\n              (a/admix mixer snap-chan)\n              (-> system\n                  (assoc :camera camera)\n                  (assoc :mixer mixer)\n                  (assoc :camera-restart restart-chan)\n                  (assoc :snap-chan snap-chan))))))\n\n(defn start-mix-camera\n  [system-promise]\n  (p/then system-promise -start-mix-camera))\n","~:reader-features",["^Y",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["huginn.camera/hash-bytes","digester","bytes-in","huginn.camera/md5","G__4841","goog.crypt/byteArrayToHex","goog/crypt.Md5","huginn.camera/cam-handlers","success-fn","stop-fn","restart-fn","read-chan","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10","taoensso.timbre/*config*","cljs.core/Delay","err","timestamp","filename","result__4774__auto__","e4842","js/Error","e__4736__auto__","c__1665__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__1666__auto__","switch__1642__auto__","state_4849","state_val_4850","inst_4843","inst_4844","inst_4845","cljs.core/PersistentHashMap","cljs.core.async.impl.ioc-helpers/put!","inst_4847","cljs.core.async.impl.ioc-helpers/return-chan","statearr-4851","state-machine__1643__auto__","ret-value__1644__auto__","result__1645__auto__","cljs.core/keyword-identical?","e4852","js/Object","ex__1646__auto__","statearr-4853","cljs.core.async.impl.ioc-helpers/process-exception","state__1667__auto__","statearr-4854","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","huginn.camera/add-handlers","camera","handlers","seq__4855","cljs.core/seq","chunk__4856","count__4857","i__4858","vec__4859","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","temp__5457__auto__","cljs.core/chunked-seq?","c__4351__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__4862","cljs.core/first","cljs.core/next","key","hand","huginn.camera/decode","v","js/Buffer.from","goog.crypt.base64/decodeStringToUint8Array","cljs.spec.alpha/def-impl","cljs.spec.alpha/fspec-impl","cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4","cljs.spec.alpha/cat-impl","cljs.core.partial.cljs$core$IFn$_invoke$arity$1","js/Buffer.isBuffer","cljs.core/int?","cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4","G__4865","cljs.core/coll?","cljs.core/string?","p__4866","map__4867","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","args","ret","js/Buffer.concat","cljs.core/array","cljs.core.map.cljs$core$IFn$_invoke$arity$2","huginn.camera/chunk-img","img","chunk-size","points","cljs.core.range.cljs$core$IFn$_invoke$arity$2","groups","cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2","starts","ends","cljs.core.comp.cljs$core$IFn$_invoke$arity$2","cljs.core/inc","cljs.core/last","cljs.core.map.cljs$core$IFn$_invoke$arity$3","start","end","buff","G__4869","goog.crypt.base64/encodeByteArray","js/Buffer","cljs.core.into.cljs$core$IFn$_invoke$arity$2","huginn.camera/read-imgs","output-dir","in","out","state_4939","state_val_4940","inst_4889","statearr-4941","statearr-4942","inst_4935","statearr-4943","statearr-4944","inst_4873","inst_4875","inst_4876","cljs.core/not","statearr-4945","statearr-4946","statearr-4947","inst_4908","statearr-4948","inst_4924","inst_4909","inst_4897","inst_4922","inst_4894","inst_4907","inst_4896","inst_4921","inst_4929","inst_4930","map__4871","vec__4901","inst_4931","inst_4932","statearr-4949","statearr-4950","inst_4895","inst_4898","inst_4899","inst_4900","inst_4904","inst_4905","statearr-4951","cljs.core.async.impl.ioc-helpers/take!","statearr-4952","inst_4914","statearr-4953","statearr-4954","inst_4937","statearr-4955","inst_4923","inst_4925","inst_4926","inst_4927","statearr-4956","inst_4891","statearr-4957","statearr-4958","inst_4878","inst_4879","inst_4880","inst_4881","inst_4882","statearr-4959","statearr-4960","statearr-4961","statearr-4962","statearr-4963","inst_4912","statearr-4964","inst_4886","statearr-4965","inst_4916","inst_4917","inst_4918","statearr-4966","statearr-4967","statearr-4968","statearr-4969","e4970","statearr-4971","statearr-4972","img-res","img-data","cljs_node_io.core.aslurp.cljs$core$IFn$_invoke$arity$variadic","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","img-buffers","byte-hash","img-packets","cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2","index","payload","complete","var_args","G__4974","huginn.camera/build-camera","p__4975","map__4976","cljs.core.get.cljs$core$IFn$_invoke$arity$3","huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$1","tl","mode","encoding","opts","promesa.core/promise","resolve","reject","snap-chan","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","data-chan","restart-chan","js/shadow.js.shim.module$raspicam","output","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","cljs-node-io.core/delete-file","cljs-node-io.core/file-seq","state_4981","state_val_4982","inst_4979","statearr-4983","e4984","statearr-4985","statearr-4986","p__4987","map__4988","huginn.camera/cleanup-camera","mixer","system","cljs.core.async/close!","cljs.core.async/unmix","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","p__4990","map__4991","huginn.camera/-start-mix-camera","telemetry-chan","camera-p","huginn.camera.build_camera.cljs$core$IFn$_invoke$arity$0","promesa.core/then","p__4993","map__4994","cljs.core.async/admix","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","huginn.camera/start-mix-camera","system-promise"]]],"~:cache-keys",["~#cmap",[["^1O","cljs_node_io/file.cljs"],[1537666007418,"^1=","^19","~$goog.Uri","~$cljs-node-io.streams","~$cljs-node-io.fs","~$cljs-node-io.protocols"],["^1O","goog/dom/tagname.js"],[1530991559994,"^1=","~$goog.dom.HtmlElement"],["^1O","huginn/camera.cljs"],[1540271957980,"^1=","^19","^17","^F","^16","^1:","^14","^A","^1<","^C","^1@"],["^1O","goog/async/freelist.js"],[1530991559994,"^1="],["^1O","cljs/core/async/impl/ioc_helpers.cljs"],[1534380136417,"^1=","^19","~$cljs.core.async.impl.protocols"],["^1O","goog/labs/useragent/platform.js"],[1530991559994,"^1=","~$goog.labs.userAgent.util","~$goog.string"],["~:macro","^19"],[1534380137000],["^1O","goog/crypt/crypt.js"],[1530991559994,"^1=","~$goog.array","~$goog.asserts"],["^1O","cljs/core/async.cljs"],[1534380136417,"^1=","^19","^25","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers"],["^1O","goog/timer/timer.js"],[1530991559994,"^1=","~$goog.Promise","~$goog.events.EventTarget"],["^1O","cljs/spec/gen/alpha.cljs"],[1534380137690,"^1=","^19","^20"],["^1O","cljs/tools/reader/impl/utils.cljs"],[1535586405375,"^1=","^19","~$clojure.string","^27"],["^1O","cljs_node_io/fs.cljs"],[1537666007418,"^1=","^19","^A","^25"],["^1O","cljs_node_io/core.cljs"],[1537666007418,"^1=","^19","^A","^25","~$cljs-node-io.file","^21","^23","^20"],["^1O","goog/math/math.js"],[1530991559994,"^1=","^29","^2:"],["^1O","goog/string/stringformat.js"],[1530991559994,"^1=","^27"],["^1O","goog/events/eventtype.js"],[1530991559994,"^1=","~$goog.userAgent"],["^1O","goog/labs/useragent/browser.js"],[1530991559994,"^1=","^29","^26","~$goog.object","^27"],["^1O","goog/array/array.js"],[1530991559994,"^1=","^2:"],["^1O","cljs_node_io/protocols.cljs"],[1537666007418,"^1=","^19"],["^28","~$cljs.core.async.macros"],[1534380136000],["^1O","cljs_node_io/streams.cljs"],[1537666007418,"^1=","^19","^20","^A","^23"],["^1O","goog/useragent/useragent.js"],[1530991559994,"^1=","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^26","~$goog.reflect","^27"],["^1O","goog/structs/prioritypool.js"],[1530991559994,"^1=","~$goog.structs.Pool","~$goog.structs.PriorityQueue"],["^28","~$cljs.tools.reader.reader-types"],[1535586405000],["^1O","goog/async/run.js"],[1530991559994,"^1=","~$goog.async.WorkQueue","~$goog.async.nextTick","~$goog.async.throwException"],["^1O","taoensso/encore.cljs"],[1535586406568,"^1=","^19","^2B","~$clojure.set","~$cljs.reader","~$cljs.tools.reader.edn","~$cljs.test","^2E","^27","~$goog.string.format","~$goog.string.StringBuffer","~$goog.events","~$goog.net.XhrIo","~$goog.net.XhrIoPool","~$goog.Uri.QueryData","~$goog.structs","~$goog.net.EventType","~$goog.net.ErrorCode","~$taoensso.truss"],["^1O","goog/debug/error.js"],[1530991559994,"^1="],["^1O","goog/async/workqueue.js"],[1530991559994,"^1=","^2:","~$goog.async.FreeList"],["^1O","promesa/impl/scheduler.cljc"],[1535586406328,"^1=","^19","~$promesa.protocols"],["^1O","goog/events/events.js"],[1530991559994,"^1=","^2:","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","~$goog.events.BrowserFeature","~$goog.events.Listenable","~$goog.events.ListenerMap"],["^1O","goog/promise/resolver.js"],[1530991559994,"^1="],["^1O","goog/events/browserfeature.js"],[1530991559994,"^1=","^2D"],["^1O","cljs/tools/reader/edn.cljs"],[1535586405375,"^1=","^19","~$cljs.tools.reader.impl.errors","^2M","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^27","^2V"],["^1O","goog/structs/priorityqueue.js"],[1530991559994,"^1=","~$goog.structs.Heap"],["^1O","goog/net/xhrio.js"],[1530991559994,"^1=","~$goog.Timer","^29","^2:","^35","^2A","~$goog.json.hybrid","~$goog.log","^31","^30","~$goog.net.HttpStatus","~$goog.net.XmlHttp","^27","^2[","~$goog.structs.Map","~$goog.uri.utils","^2D"],["^1O","goog/promise/thenable.js"],[1530991559994,"^1="],["^1O","promesa/impl.cljc"],[1535586406328,"^1=","^19","^34","~$org.bluebird"],["^1O","goog/dom/nodetype.js"],[1530991559994,"^1="],["^28","^F"],[1535586406000],["^1O","cljs/tools/reader/impl/inspect.cljs"],[1535586405375,"^1=","^19"],["^1O","cljs/pprint.cljs"],[1534380137690,"^1=","^19","^2B","^27","^2V"],["^28","~$cljs.spec.gen.alpha"],[1534380137000],["^1O","cljs/tools/reader.cljs"],[1535586405375,"^1=","^19","^2M","^3;","^3<","^3:","^29","^27","^2V"],["^1O","goog/net/wrapperxmlhttpfactory.js"],[1530991559994,"^1=","~$goog.net.XhrLike","~$goog.net.XmlHttpFactory"],["^1O","goog/events/eventtarget.js"],[1530991559994,"^1=","~$goog.Disposable","^2:","^2W","~$goog.events.Event","^38","^39","^2E"],["^1O","goog/disposable/disposable.js"],[1530991559994,"^1=","~$goog.disposable.IDisposable"],["^1O","goog/object/object.js"],[1530991559994,"^1="],["^1O","goog/structs/set.js"],[1530991559994,"^1=","^2[","~$goog.structs.Collection","^3D"],"~:SHADOW-TIMESTAMP",[1540077702000,1534380137000],["^1O","goog/math/long.js"],[1530991559994,"^1=","^2:","^2J"],["^1O","goog/events/listener.js"],[1530991559994,"^1=","~$goog.events.ListenableKey"],["^1O","cljs/core/async/impl/channels.cljs"],[1534380136417,"^1=","^19","^25","^2>","^2<"],["^1O","goog/events/listenermap.js"],[1530991559994,"^1=","^29","~$goog.events.Listener","^2E"],["^1O","goog/events/eventid.js"],[1530991559994,"^1="],["^1O","taoensso/truss.cljs"],[1535586406478,"^1=","^19","~$taoensso.truss.impl"],["^1O","shadow/test/env.cljs"],[1540077702615,"^1=","^19"],["^1O","goog/functions/functions.js"],[1530991559994,"^1="],["^1O","cljs/core/async/impl/dispatch.cljs"],[1534380136417,"^1=","^19","^2<","^2O"],["^1O","taoensso/truss/impl.cljs"],[1535586406478,"^1=","^19","^2Q"],["^1O","clojure/walk.cljs"],[1534380137690,"^1=","^19"],["^1O","goog/useragent/product.js"],[1530991559994,"^1=","^2G","^2I","^2D"],["^1O","cljs/core/async/impl/protocols.cljs"],[1534380136417,"^1=","^19"],["^1O","goog/net/eventtype.js"],[1530991559994,"^1="],["^1O","goog/structs/map.js"],[1530991559994,"^1=","~$goog.iter.Iterator","~$goog.iter.StopIteration","^2E"],["^1O","goog/net/xhriopool.js"],[1530991559994,"^1=","^2X","~$goog.structs.PriorityPool"],["^1O","goog/structs/queue.js"],[1530991559994,"^1=","^29"],["^1O","goog/labs/useragent/engine.js"],[1530991559994,"^1=","^29","^26","^27"],["^1O","taoensso/timbre/appenders/core.cljs"],[1535586406375,"^1=","^19","^2B","~$taoensso.encore"],["^1O","cljs/reader.cljs"],[1534380137690,"^1=","^19","^2E","^3=","^2S","^2V"],["~:shadow.build.js-support/require","bluebird"],["~$shadow.js.shim.module$bluebird","shadow.js.shim.module$bluebird.js","^1="],["^28","~$cljs-node-io.macros"],[1537666007000],["^28","^1@"],[1534380137000],["^1O","goog/asserts/asserts.js"],[1530991559994,"^1=","~$goog.debug.Error","~$goog.dom.NodeType","^27"],["^1O","cljs/core/async/impl/buffers.cljs"],[1534380136417,"^1=","^19","^25"],["^28","~$cljs.pprint"],[1534380137000],["^1O","goog/debug/logbuffer.js"],[1530991559994,"^1=","^2:","~$goog.debug.LogRecord"],["^28","^3U"],[1535586406000],["^1O","goog/uri/uri.js"],[1530991559994,"^1=","^29","^2:","^27","^2[","^3D","^3E","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"],["^1O","goog/net/errorcode.js"],[1530991559994,"^1="],["^28","^2T"],[1534380137000],["^28","^A"],[1534380136000],["^1O","goog/disposable/idisposable.js"],[1530991559994,"^1="],["^1O","goog/crypt/md5.js"],[1530991559994,"^1=","~$goog.crypt.Hash"],["^1O","goog/promise/promise.js"],[1530991559994,"^1=","~$goog.Thenable","^2:","^33","~$goog.async.run","^2P","^3Y","~$goog.promise.Resolver"],["^1O","cljs/core/async/impl/timers.cljs"],[1534380136417,"^1=","^19","^25","^2;","^2>"],["^1O","cljs/spec/alpha.cljs"],[1534380137690,"^1=","^19","^2E","~$clojure.walk","^3G","^2B"],["^1O","goog/debug/logrecord.js"],[1530991559994,"^1="],["^1O","goog/base.js"],[1530991559994],["^1O","promesa/core.cljc"],[1535586406328,"^1=","^19","^34","~$promesa.impl","~$promesa.impl.scheduler"],["^1O","goog/json/hybrid.js"],[1530991559994,"^1=","^2:","~$goog.json"],["^1O","goog/structs/structs.js"],[1530991559994,"^1=","^29","^2E"],["^1O","cljs/tools/reader/impl/errors.cljs"],[1535586405375,"^1=","^19","^2M","^2B","~$cljs.tools.reader.impl.inspect"],["^1O","org/bluebird.cljs"],[1535669979047,"^1=","^19","^3W"],["^1O","clojure/string.cljs"],[1534380137690,"^1=","^19","^27","^2V"],["^1O","goog/structs/pool.js"],[1530991559994,"^1=","^3J","~$goog.structs.Queue","~$goog.structs.Set"],["^1O","goog/net/httpstatus.js"],[1530991559994,"^1="],["^1O","goog/structs/heap.js"],[1530991559994,"^1=","^29","^2E","~$goog.structs.Node"],["^1O","goog/debug/entrypointregistry.js"],[1530991559994,"^1=","^2:"],["^1O","goog/string/string.js"],[1530991559994,"^1="],["^1O","goog/crypt/hash.js"],[1530991559994,"^1="],["^1O","goog/reflect/reflect.js"],[1530991559994,"^1="],["^1O","goog/labs/useragent/util.js"],[1530991559994,"^1=","^27"],["^28","~$clojure.template"],[1534380136000],["^28","~$cljs.core.async.impl.ioc-macros"],[1534380136000],["^3V","raspicam"],["^C","shadow.js.shim.module$raspicam.js","^1="],["^1O","goog/debug/debug.js"],[1530991559994,"^1=","^29","~$goog.debug.errorcontext","^2D"],["^1O","goog/string/stringbuffer.js"],[1530991559994,"^1="],["^1O","goog/debug/errorcontext.js"],[1530991559994,"^1="],["^1O","cljs/tools/reader/reader_types.cljs"],[1535586405375,"^1=","^19","^3;","^27","^2V"],["^1O","promesa/protocols.cljc"],[1535586406328,"^1=","^19"],["^1O","goog/iter/iter.js"],[1530991559994,"^1=","^29","^2:","~$goog.functions","~$goog.math"],["^1O","goog/async/nexttick.js"],[1530991559994,"^1=","^35","~$goog.dom.TagName","^4B","^2G","^2H"],["^1O","goog/debug/logger.js"],[1530991559994,"^1=","^29","^2:","~$goog.debug","~$goog.debug.LogBuffer","^40"],["^1O","goog/events/event.js"],[1530991559994,"^1=","^3J","~$goog.events.EventId"],["^1O","cljs/tools/reader/impl/commons.cljs"],[1535586405375,"^1=","^19","^3:","^2M","^3;"],["^1O","goog/dom/htmlelement.js"],[1530991559994,"^1="],["^1O","cljs/core.cljs"],[1534380137690,"~$goog.math.Long","~$goog.math.Integer","^27","^2E","^29","^20","^2V"],["^1O","goog/log/log.js"],[1530991559994,"^1=","^4E","~$goog.debug.LogManager","^40","~$goog.debug.Logger"],["^1O","goog/structs/collection.js"],[1530991559994,"^1="],["^1O","goog/events/browserevent.js"],[1530991559994,"^1=","^37","^3K","~$goog.events.EventType","^2J","^2D"],["^1O","goog/math/integer.js"],[1530991559994,"^1="],["^1O","goog/structs/node.js"],[1530991559994,"^1="],["^28","^3Q"],[1535586406000],["^1O","clojure/set.cljs"],[1534380137690,"^1=","^19"],["^1O","goog/uri/utils.js"],[1530991559994,"^1=","^29","^2:","^27"],["^1O","taoensso/timbre.cljs"],[1535586406375,"^1=","^19","^2B","^3U","~$taoensso.timbre.appenders.core"],["^1O","goog/json/json.js"],[1530991559994,"^1="],["^1O","goog/events/listenable.js"],[1530991559994,"^1=","^4G"],["^1O","goog/net/xmlhttpfactory.js"],[1530991559994,"^1=","^3H"],["^1O","goog/net/xmlhttp.js"],[1530991559994,"^1=","^2:","~$goog.net.WrapperXmlHttpFactory","^3I"],["^1O","cljs/test.cljs"],[1534380137690,"~$shadow.test.env","^1=","^19","^2B","^3["],["^1O","goog/net/xhrlike.js"],[1530991559994,"^1="],["^28","^2R"],[1534380137000],["^1O","goog/crypt/base64.js"],[1530991559994,"^1=","^2:","^14","^27","^2D","~$goog.userAgent.product"]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","huginn/camera.cljs","^7",1,"^8",5,"^9",1,"^:",18],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",["^ ","^E","^F","^G","^F","^H","^F","^I","^F","^J","^F","^K","^F","^L","^F","^M","^F","^N","^F","^O","^F","^P","^F","^Q","^F","^R","^F","^S","^F","^T","^F","^U","^F","^V","^F","^W","^F"],"^X",["^Y",[]],"~:shadow/js-access-properties",["^Y",["concat","from","isBuffer"]],"^Z","^[","^12",null,"^13",["^ ","^B","^C","^14","^14","^15","^16","~$p","^17","^17","^17","^18","^F","~$a","^A","~$r","^C","^19","^19","^1:","^1:","^1;","^1<","^1=","^1=","^A","^A","^1>","^14","^@","^A","^1<","^1<","^1?","^1@","^F","^F","^1A","^1:","^1@","^1@","^16","^16","^C","^C"],"^1B",["^Y",["^1C"]],"~:shadow/js-access-global",["^Y",["Object","Buffer","Error"]],"^1D",null,"~:defs",["^ ","~$read-imgs",["^ ","~:protocol-inline",null,"^5",["^ ","^6","huginn/camera.cljs","^7",79,"^8",7,"^9",79,"^:",16,"~:arglists",["^1G",["~$quote",["^1G",[["~$output-dir","~$in","~$out"]]]]]],"^Z","~$huginn.camera/read-imgs","~:variadic",false,"^6","huginn/camera.cljs","^:",16,"~:method-params",["^1G",[["^4Y","^4Z","^4["]]],"~:protocol-impl",null,"~:arglists-meta",["^1G",[null,null]],"^8",1,"^7",79,"^9",79,"~:max-fixed-arity",3,"~:fn-var",true,"^4W",["^1G",["^4X",["^1G",[["^4Y","^4Z","^4["]]]]]],"~$decode",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",50,"^8",7,"^9",50,"^:",13,"^4W",["^1G",["^4X",["^1G",[["~$v"]]]]]],"^Z","~$huginn.camera/decode","^51",false,"^6","huginn/camera.cljs","^:",13,"^52",["^1G",[["~$v"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",50,"^9",50,"^55",1,"^56",true,"^4W",["^1G",["^4X",["^1G",[["~$v"]]]]]],"~$cam-handlers",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",26,"^8",7,"^9",26,"^:",19,"^4W",["^1G",["^4X",["^1G",[["~$success-fn","~$stop-fn","~$restart-fn","~$read-chan"]]]]]],"^Z","~$huginn.camera/cam-handlers","^51",false,"^6","huginn/camera.cljs","^:",19,"^52",["^1G",[["^5:","^5;","^5<","^5="]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",26,"^9",26,"^55",4,"^56",true,"^4W",["^1G",["^4X",["^1G",[["^5:","^5;","^5<","^5="]]]]]],"~$md5",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",21,"^8",7,"^9",21,"^:",10,"^4W",["^1G",["^4X",["^1G",[["~$bytes-in"]]]]],"~:doc","convert bytes to md5 bytes"],"^Z","~$huginn.camera/md5","^51",false,"^6","huginn/camera.cljs","^:",10,"^52",["^1G",[["^5@"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",21,"^9",21,"^55",1,"^56",true,"^4W",["^1G",["^4X",["^1G",[["^5@"]]]]],"^5A","convert bytes to md5 bytes"],"~$build-camera",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",108,"^8",7,"^9",108,"^:",19,"^4W",["^1G",["^4X",["^1G",[[],[["^ ","~:keys",["^4Y","~$tl","~$mode","~$encoding"],"~:or",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","~$opts"]]]]]],"~:top-fn",["^ ","^51",false,"^55",1,"^52",["^1G",[[],[["^ ","^5D",["^4Y","^5E","^5F","^5G"],"^5H",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","^5I"]]]],"^4W",["^1G",[[],[["^ ","^5D",["^4Y","^5E","^5F","^5G"],"^5H",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","^5I"]]]],"^54",["^1G",[null,null]]]],"^Z","~$huginn.camera/build-camera","^51",false,"^6","huginn/camera.cljs","^:",19,"^5J",["^ ","^51",false,"^55",1,"^52",["^1G",[[],[["^ ","^5D",["^4Y","^5E","^5F","^5G"],"^5H",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","^5I"]]]],"^4W",["^1G",[[],[["^ ","^5D",["^4Y","^5E","^5F","^5G"],"^5H",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","^5I"]]]],"^54",["^1G",[null,null]]],"^52",["^1G",[[],[["^ ","^5D",["^4Y","^5E","^5F","^5G"],"^5H",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","^5I"]]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",108,"^9",108,"^55",1,"^56",true,"^4W",["^1G",[[],[["^ ","^5D",["^4Y","^5E","^5F","^5G"],"^5H",["^ ","^4Y","pics","^5F","timelapse","^5G","jpg","^5E",["^1G",["~$*",60,1000,5]]],"^1I","^5I"]]]]],"~$hash-bytes",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",16,"^8",7,"^9",16,"^:",17,"^4W",["^1G",["^4X",["^1G",[["~$digester","^5@"]]]]]],"^Z","~$huginn.camera/hash-bytes","^51",false,"^6","huginn/camera.cljs","^:",17,"^52",["^1G",[["^5M","^5@"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",16,"^9",16,"^55",2,"^56",true,"^4W",["^1G",["^4X",["^1G",[["^5M","^5@"]]]]]],"~$cleanup-camera",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",145,"^8",7,"^9",145,"^:",21,"^4W",["^1G",["^4X",["^1G",[[["^ ","^5D",["~$camera","~$restart-chan","~$mixer","~$snap-chan"],"^1I","~$system"]]]]]]],"^Z","~$huginn.camera/cleanup-camera","^51",false,"^6","huginn/camera.cljs","^:",21,"^52",["^1G",[["~$p__4987"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",145,"^9",145,"^55",1,"^56",true,"^4W",["^1G",["^4X",["^1G",[[["^ ","^5D",["^5P","^5Q","^5R","^5S"],"^1I","^5T"]]]]]]],"~$-start-mix-camera",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",157,"^8",7,"^9",157,"^:",24,"^4W",["^1G",["^4X",["^1G",[[["^ ","^5D",["~$telemetry-chan","^5R"],"^1I","^5T"]]]]]]],"^Z","~$huginn.camera/-start-mix-camera","^51",false,"^6","huginn/camera.cljs","^:",24,"^52",["^1G",[["~$p__4990"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",157,"^9",157,"^55",1,"^56",true,"^4W",["^1G",["^4X",["^1G",[[["^ ","^5D",["^5X","^5R"],"^1I","^5T"]]]]]]],"~$start-mix-camera",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",170,"^8",7,"^9",170,"^:",23,"^4W",["^1G",["^4X",["^1G",[["~$system-promise"]]]]]],"^Z","~$huginn.camera/start-mix-camera","^51",false,"^6","huginn/camera.cljs","^:",23,"^52",["^1G",[["^60"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",170,"^9",170,"^55",1,"^56",true,"^4W",["^1G",["^4X",["^1G",[["^60"]]]]]],"~$chunk-img",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",65,"^8",7,"^9",65,"^:",16,"^4W",["^1G",["^4X",["^1G",[["~$img","~$chunk-size"]]]]]],"^Z","~$huginn.camera/chunk-img","^51",false,"^6","huginn/camera.cljs","^:",16,"^52",["^1G",[["^63","^64"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",65,"^9",65,"^55",2,"^56",true,"^4W",["^1G",["^4X",["^1G",[["^63","^64"]]]]]],"~$add-handlers",["^ ","^4V",null,"^5",["^ ","^6","huginn/camera.cljs","^7",44,"^8",7,"^9",44,"^:",19,"^4W",["^1G",["^4X",["^1G",[["^5P","~$handlers"]]]]]],"^Z","~$huginn.camera/add-handlers","^51",false,"^6","huginn/camera.cljs","^:",19,"^52",["^1G",[["^5P","^67"]]],"^53",null,"^54",["^1G",[null,null]],"^8",1,"^7",44,"^9",44,"^55",2,"^56",true,"^4W",["^1G",["^4X",["^1G",[["^5P","^67"]]]]]]],"^1E",["^ ","^F","^F","^18","^F","^19","^19","~$a","^A","^A","^A","^@","^A","^1?","^1@","^1@","^1@"],"~:cljs.analyzer/constants",["^ ","^1B",["^Y",["~:args","~:encoding","~:output-dir","~$timestamp","~:ret","~:fn","~:payload","~$cljs.core/partial","~:tl","~:else","~$cljs.spec.alpha/coll-of","~$cljs.spec.alpha/cat","~$cljs.core/apply","~$args","~:cljs.spec.alpha/kind-form","~:subfolder","~:snap-chan","~$cljs.core/int?","~:telemetry-chan","~$cljs.core/string?","~$ret","~:mode","~:err","~$cljs.spec.alpha/fspec","~$string?","~:recur","~:debug","~:cljs.spec.alpha/cpred","~$cljs.core/map","~:filename","~$err","^5D","~$js/Buffer.isBuffer","~$/equals","~$cljs.core/fn","~:info","~:camera","~$filename","~:error","~$js/Buffer.concat","~:chunk-size","^58","~:timestamp","^65","~:auto","~:restart-chan","~:p","~:cljs.spec.alpha/conform-all","~:camera-restart","~:mixer","~$cljs.core/array","~:img","~:cljs.spec.alpha/describe","~:raw-chan"]],"~:order",["^70","~:p","^77","^6T","^73","^6C","^6X","^6=","^72","^6P","^76","^6W","^6S","^65","^6Q","^6:","^6E","^7=","^6A","^6Y","^75","^6K","^6>","^6D","^6M","^6?","^6[","^5D","^6G","^6N","^6Z","^74","^6F","^7<","^6V","^58","^6R","^6H","^6U","^79","^7>","^6;","^6@","^6I","^6<","^6B","^6O","^7?","^6J","^78","^71","^7;","^6L","^7:"]],"^1K",["^ ","^1C",["^Y",[]]],"^1L",["^ "],"^1M",["^1=","^19","^17","^F","^16","^1:","^14","^A","^1<","^C","^1@"]],"^11","^[","~:ns-specs",["^ ","^65",["^1G",["^6Q","^6:",["^1G",["^6E","^7=",["^1G",["^6A","^6Y"]],"^75","^6K"]],"^6>",["^1G",["^6D","^6M"]],"^6?",["^1G",["^6[",[["^ ","^5D",["^6G","^6N"]]],["^1G",["^6Z",["^1G",["^7=","^6G"]],["^1G",["^74",["^1G",["^6F","^7<",["^1G",["^6V","^58","^6N"]]]]]]]]]]]]],"~:ns-speced-vars",["^65"],"~:compiler-options",["^1[",[["^7C","~:static-fns"],true,["^7C","~:elide-asserts"],false,["^7C","~:optimize-constants"],null,["^7C","~:external-config"],null,["^7C","~:tooling-config"],null,["^7C","~:emit-constants"],null,["^7C","~:infer-externs"],true,["^7C","^1T"],null,["~:js-options","~:js-provider"],"^1C",["^6O"],"~:dev",["^7C","~:fn-invoke-direct"],null,["^7C","~:source-map"],"/dev/null"]]]